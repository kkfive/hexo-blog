{"title":"二、Django简单的增删改查","slug":"日常学习/技术相关/Python/二、Django简单的增删改查","date":"2020-01-28T16:00:02.000Z","updated":"2022-02-21T07:18:57.049Z","comments":true,"path":"api/articles/日常学习/技术相关/Python/二、Django简单的增删改查.json","excerpt":null,"covers":null,"content":"<h2 id=\"增加数据\"><a class=\"markdownIt-Anchor\" href=\"#增加数据\"></a> 增加数据</h2>\n<h3 id=\"第一种方式\"><a class=\"markdownIt-Anchor\" href=\"#第一种方式\"></a> 第一种方式</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#创建记录方式1</span>\n    <span class=\"token comment\">#实例化要添加的记录（对象）</span>\n    student_obj <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">(</span>\n        name<span class=\"token operator\">=</span><span class=\"token string\">'dazhuang'</span><span class=\"token punctuation\">,</span>\n        age<span class=\"token operator\">=</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">#自动刷新并存储到数据库</span>\n    student_obj<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"第二种方式-常用方法\"><a class=\"markdownIt-Anchor\" href=\"#第二种方式-常用方法\"></a> 第二种方式 常用方法</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#创建记录方式2</span>\n    <span class=\"token comment\"># new_obj为返回值，返回这个类的对象 (model对象)</span>\n    new_obj <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'xiaozhuang'</span><span class=\"token punctuation\">,</span>age<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>new_obj<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>new_obj<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"第三种方式-批量创建\"><a class=\"markdownIt-Anchor\" href=\"#第三种方式-批量创建\"></a> 第三种方式 批量创建</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#创建方式3 批量创建</span>\n    objs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        obj <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">(</span>\n            name<span class=\"token operator\">=</span><span class=\"token string\">'xiangxi%s'</span><span class=\"token operator\">%</span>i<span class=\"token punctuation\">,</span>\n            age <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token operator\">+</span>i<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n        objs<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span>\n    models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>bulk_create<span class=\"token punctuation\">(</span>objs<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"第四种方式-update_or_create\"><a class=\"markdownIt-Anchor\" href=\"#第四种方式-update_or_create\"></a> 第四种方式 update_or_create</h3>\n<p>有就更新，没有就创建</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>update_or_create<span class=\"token punctuation\">(</span>\n        name<span class=\"token operator\">=</span><span class=\"token string\">'xiangxi0'</span><span class=\"token punctuation\">,</span>\n        defaults<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span><span class=\"token number\">48</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"删除数据\"><a class=\"markdownIt-Anchor\" href=\"#删除数据\"></a> 删除数据</h2>\n<p>通过model对象或queryset对象调用delete方法</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># models.Student.objects.get(id=2).delete()</span>\n    models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'xiaozhuang'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"简单查询数据\"><a class=\"markdownIt-Anchor\" href=\"#简单查询数据\"></a> 简单查询数据</h2>\n<h3 id=\"获取全部数据\"><a class=\"markdownIt-Anchor\" href=\"#获取全部数据\"></a> 获取全部数据</h3>\n<p>利用<code>all()</code>方法</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">select</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># 查询所有记录  如果不是一条数据，则返回一个结果集   类似于列表</span>\n    all_objs <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>all_objs<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> all_objs<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"条件查询-filter\"><a class=\"markdownIt-Anchor\" href=\"#条件查询-filter\"></a> 条件查询 filter</h3>\n<p>查询条件作为参数传入即可。</p>\n<p>查到返回结果，否则反回空列表（QuerySet对象）</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">select</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#条件查询  查询id等于3的数据</span>\n    objs <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>objs<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"条件查询-get\"><a class=\"markdownIt-Anchor\" href=\"#条件查询-get\"></a> 条件查询 get</h3>\n<p>与filter类似，但返回的是model对象。get方法<strong>有且必须只有一条记录</strong></p>\n<h2 id=\"更新数据\"><a class=\"markdownIt-Anchor\" href=\"#更新数据\"></a> 更新数据</h2>\n<p>修改数据只能是<code>queryset</code>对象，不能是<code>model</code>对象</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>age<span class=\"token operator\">=</span><span class=\"token number\">38</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n","more":"<h2 id=\"增加数据\"><a class=\"markdownIt-Anchor\" href=\"#增加数据\"></a> 增加数据</h2>\n<h3 id=\"第一种方式\"><a class=\"markdownIt-Anchor\" href=\"#第一种方式\"></a> 第一种方式</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#创建记录方式1</span>\n    <span class=\"token comment\">#实例化要添加的记录（对象）</span>\n    student_obj <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">(</span>\n        name<span class=\"token operator\">=</span><span class=\"token string\">'dazhuang'</span><span class=\"token punctuation\">,</span>\n        age<span class=\"token operator\">=</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">#自动刷新并存储到数据库</span>\n    student_obj<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"第二种方式-常用方法\"><a class=\"markdownIt-Anchor\" href=\"#第二种方式-常用方法\"></a> 第二种方式 常用方法</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#创建记录方式2</span>\n    <span class=\"token comment\"># new_obj为返回值，返回这个类的对象 (model对象)</span>\n    new_obj <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'xiaozhuang'</span><span class=\"token punctuation\">,</span>age<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>new_obj<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>new_obj<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"第三种方式-批量创建\"><a class=\"markdownIt-Anchor\" href=\"#第三种方式-批量创建\"></a> 第三种方式 批量创建</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#创建方式3 批量创建</span>\n    objs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        obj <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">(</span>\n            name<span class=\"token operator\">=</span><span class=\"token string\">'xiangxi%s'</span><span class=\"token operator\">%</span>i<span class=\"token punctuation\">,</span>\n            age <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token operator\">+</span>i<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n        objs<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span>\n    models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>bulk_create<span class=\"token punctuation\">(</span>objs<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"第四种方式-update_or_create\"><a class=\"markdownIt-Anchor\" href=\"#第四种方式-update_or_create\"></a> 第四种方式 update_or_create</h3>\n<p>有就更新，没有就创建</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>update_or_create<span class=\"token punctuation\">(</span>\n        name<span class=\"token operator\">=</span><span class=\"token string\">'xiangxi0'</span><span class=\"token punctuation\">,</span>\n        defaults<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span><span class=\"token number\">48</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"删除数据\"><a class=\"markdownIt-Anchor\" href=\"#删除数据\"></a> 删除数据</h2>\n<p>通过model对象或queryset对象调用delete方法</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># models.Student.objects.get(id=2).delete()</span>\n    models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'xiaozhuang'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"简单查询数据\"><a class=\"markdownIt-Anchor\" href=\"#简单查询数据\"></a> 简单查询数据</h2>\n<h3 id=\"获取全部数据\"><a class=\"markdownIt-Anchor\" href=\"#获取全部数据\"></a> 获取全部数据</h3>\n<p>利用<code>all()</code>方法</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">select</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># 查询所有记录  如果不是一条数据，则返回一个结果集   类似于列表</span>\n    all_objs <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>all_objs<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> all_objs<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"条件查询-filter\"><a class=\"markdownIt-Anchor\" href=\"#条件查询-filter\"></a> 条件查询 filter</h3>\n<p>查询条件作为参数传入即可。</p>\n<p>查到返回结果，否则反回空列表（QuerySet对象）</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">select</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#条件查询  查询id等于3的数据</span>\n    objs <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>objs<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"条件查询-get\"><a class=\"markdownIt-Anchor\" href=\"#条件查询-get\"></a> 条件查询 get</h3>\n<p>与filter类似，但返回的是model对象。get方法<strong>有且必须只有一条记录</strong></p>\n<h2 id=\"更新数据\"><a class=\"markdownIt-Anchor\" href=\"#更新数据\"></a> 更新数据</h2>\n<p>修改数据只能是<code>queryset</code>对象，不能是<code>model</code>对象</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    models<span class=\"token punctuation\">.</span>Student<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>age<span class=\"token operator\">=</span><span class=\"token number\">38</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n","categories":[{"name":"Python","path":"api/categories/Python.json"},{"name":"Django的ORM操作","path":"api/categories/Django的ORM操作.json"}],"tags":[{"name":"Python","path":"api/tags/Python.json"},{"name":"Django","path":"api/tags/Django.json"}]}