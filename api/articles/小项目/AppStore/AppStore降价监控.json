{"title":"AppStore降价监控","slug":"小项目/AppStore/AppStore降价监控","date":"2020-11-21T07:01:25.000Z","updated":"2022-02-21T04:45:27.384Z","comments":true,"path":"api/articles/小项目/AppStore/AppStore降价监控.json","excerpt":null,"covers":["https://rmt.ladydaily.com/fetch/tzk/storage/20201121203046.jpg?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201122165951.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201122170101.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201122170211.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201122170309.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201122171119.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201121203408.png?w=1280&amp;fmt=jpg"],"content":"<h2 id=\"项目说明\"><a class=\"markdownIt-Anchor\" href=\"#项目说明\"></a> 项目说明</h2>\n<p>限免是个好东西，为了不错过心爱App的限免活动，因此写下这个脚本用于监控自己心爱的App是否发生了价格变动。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201121203046.jpg?w=1280&amp;fmt=jpg\" alt=\"img\" /></p>\n<h2 id=\"快速开始\"><a class=\"markdownIt-Anchor\" href=\"#快速开始\"></a> 快速开始</h2>\n<ol>\n<li>\n<p>fork项目</p>\n<p>地址：<a href=\"https://github.com/Dreamy-TZK/AppStorePrice\">https://github.com/Dreamy-TZK/AppStorePrice</a></p>\n<p>点击右上角的fork即可，难度系数为0</p>\n</li>\n<li>\n<p>打开actions设置</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122165951.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122165951606\" /></p>\n<p>点击绿色的按钮即可。</p>\n</li>\n<li>\n<p>添加server酱提醒</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122170101.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122170101662\" /></p>\n<p>填入你的server酱中的<code>SCKEY</code>即可</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122170211.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122170211537\" /></p>\n</li>\n<li>\n<p>修改监控app</p>\n<p>找到<code>src/list.json</code>文件，点击编辑。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122170309.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122170309585\" /></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> App的ID<span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"country\"</span><span class=\"token operator\">:</span> 国区<span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> 可不填，主要是为了方便用户分辨该id是什么app\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>示例</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1161125462</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"country\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cn\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"p站助手\"</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p>请注意：文件使用json格式，请确保你填写的内容是正确的。如不确定可以到<a href=\"http://json.cn/\">json.cn</a>进行编辑，然后在复制。</p>\n<p>id可以通过分享APP-&gt;复制链接。链接最后边的数字即该APP的链接</p>\n</blockquote>\n</li>\n<li>\n<p>进入Actions选项卡，打开workflow</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122171119.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122171119165\" /></p>\n</li>\n<li>\n<p>为fork的项目点个star，然后刷新页面</p>\n</li>\n</ol>\n<h2 id=\"项目说明-2\"><a class=\"markdownIt-Anchor\" href=\"#项目说明-2\"></a> 项目说明</h2>\n<p>项目逻辑非常简单，由于是自用，而我的需求很简单，只需要提醒我是否发生了价格变动即可。因此可以滥用GitHub Actions定时监控App价格。</p>\n<ol>\n<li>请求app，查询其价格</li>\n<li>对比本地保存的上一次查询的价格</li>\n<li>如果发生了变化则提醒</li>\n</ol>\n<p>项目地址：<a href=\"https://github.com/Dreamy-TZK/AppStorePrice\">https://github.com/Dreamy-TZK/AppStorePrice</a></p>\n<p>由于使用了server酱的提醒，因此需要添加<code>Secrets</code>。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201121203408.png?w=1280&amp;fmt=jpg\" alt=\"image-20201121203408650\" /></p>\n<ul>\n<li>\n<p><code>/src/list.json</code></p>\n<p>此文件是添加App的文件，按照格式填写需要监控的App。</p>\n<p>app的id可以分享app，链接最后边的数字即是该app的id</p>\n</li>\n</ul>\n<h2 id=\"项目中的问题\"><a class=\"markdownIt-Anchor\" href=\"#项目中的问题\"></a> 项目中的问题</h2>\n<p>如果你在使用此项目可能会遇到如下几个问题</p>\n<ol>\n<li>\n<p>actions运行失败</p>\n<p>如果变动了<code>list.json</code>文件（新增或减少App），依然还是失败，那么请检查你的<code>list.json</code>是否符合json规范。</p>\n<p>如果第一次接收到了定时任务运行失败，那么说明当前监控的APP并无价格变化。</p>\n</li>\n<li>\n<p>任务频率</p>\n<p>默认没30分钟运行一次，但是因为acions有延迟，因此时间可能略有差异。</p>\n</li>\n</ol>\n","more":"<h2 id=\"项目说明\"><a class=\"markdownIt-Anchor\" href=\"#项目说明\"></a> 项目说明</h2>\n<p>限免是个好东西，为了不错过心爱App的限免活动，因此写下这个脚本用于监控自己心爱的App是否发生了价格变动。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201121203046.jpg?w=1280&amp;fmt=jpg\" alt=\"img\" /></p>\n<h2 id=\"快速开始\"><a class=\"markdownIt-Anchor\" href=\"#快速开始\"></a> 快速开始</h2>\n<ol>\n<li>\n<p>fork项目</p>\n<p>地址：<a href=\"https://github.com/Dreamy-TZK/AppStorePrice\">https://github.com/Dreamy-TZK/AppStorePrice</a></p>\n<p>点击右上角的fork即可，难度系数为0</p>\n</li>\n<li>\n<p>打开actions设置</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122165951.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122165951606\" /></p>\n<p>点击绿色的按钮即可。</p>\n</li>\n<li>\n<p>添加server酱提醒</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122170101.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122170101662\" /></p>\n<p>填入你的server酱中的<code>SCKEY</code>即可</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122170211.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122170211537\" /></p>\n</li>\n<li>\n<p>修改监控app</p>\n<p>找到<code>src/list.json</code>文件，点击编辑。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122170309.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122170309585\" /></p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> App的ID<span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"country\"</span><span class=\"token operator\">:</span> 国区<span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> 可不填，主要是为了方便用户分辨该id是什么app\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>示例</p>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1161125462</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"country\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cn\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"p站助手\"</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p>请注意：文件使用json格式，请确保你填写的内容是正确的。如不确定可以到<a href=\"http://json.cn/\">json.cn</a>进行编辑，然后在复制。</p>\n<p>id可以通过分享APP-&gt;复制链接。链接最后边的数字即该APP的链接</p>\n</blockquote>\n</li>\n<li>\n<p>进入Actions选项卡，打开workflow</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201122171119.png?w=1280&amp;fmt=jpg\" alt=\"image-20201122171119165\" /></p>\n</li>\n<li>\n<p>为fork的项目点个star，然后刷新页面</p>\n</li>\n</ol>\n<h2 id=\"项目说明-2\"><a class=\"markdownIt-Anchor\" href=\"#项目说明-2\"></a> 项目说明</h2>\n<p>项目逻辑非常简单，由于是自用，而我的需求很简单，只需要提醒我是否发生了价格变动即可。因此可以滥用GitHub Actions定时监控App价格。</p>\n<ol>\n<li>请求app，查询其价格</li>\n<li>对比本地保存的上一次查询的价格</li>\n<li>如果发生了变化则提醒</li>\n</ol>\n<p>项目地址：<a href=\"https://github.com/Dreamy-TZK/AppStorePrice\">https://github.com/Dreamy-TZK/AppStorePrice</a></p>\n<p>由于使用了server酱的提醒，因此需要添加<code>Secrets</code>。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201121203408.png?w=1280&amp;fmt=jpg\" alt=\"image-20201121203408650\" /></p>\n<ul>\n<li>\n<p><code>/src/list.json</code></p>\n<p>此文件是添加App的文件，按照格式填写需要监控的App。</p>\n<p>app的id可以分享app，链接最后边的数字即是该app的id</p>\n</li>\n</ul>\n<h2 id=\"项目中的问题\"><a class=\"markdownIt-Anchor\" href=\"#项目中的问题\"></a> 项目中的问题</h2>\n<p>如果你在使用此项目可能会遇到如下几个问题</p>\n<ol>\n<li>\n<p>actions运行失败</p>\n<p>如果变动了<code>list.json</code>文件（新增或减少App），依然还是失败，那么请检查你的<code>list.json</code>是否符合json规范。</p>\n<p>如果第一次接收到了定时任务运行失败，那么说明当前监控的APP并无价格变化。</p>\n</li>\n<li>\n<p>任务频率</p>\n<p>默认没30分钟运行一次，但是因为acions有延迟，因此时间可能略有差异。</p>\n</li>\n</ol>\n","categories":[{"name":"Project","path":"api/categories/Project.json"}],"tags":[{"name":"AppStore","path":"api/tags/AppStore.json"}]}