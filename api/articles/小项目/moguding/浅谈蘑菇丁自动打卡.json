{"title":"浅谈蘑菇丁自动打卡","slug":"小项目/moguding/浅谈蘑菇丁自动打卡","date":"2020-11-06T13:49:25.000Z","updated":"2022-02-21T06:22:27.456Z","comments":true,"path":"api/articles/小项目/moguding/浅谈蘑菇丁自动打卡.json","excerpt":null,"covers":["https://rmt.ladydaily.com/fetch/tzk/storage/20201108113955.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108114028.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108114125.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108114358.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108114440.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108114517.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201108114558.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108114705.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108114722.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108114837.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108115113.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108115155.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201108115351.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201106215802.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201106215832.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201106220416.png","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/25/91a79177e21e2a49d28be09cc676ad7a.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201106221426.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201106221647.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201106221719.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201106222132.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201106222920.jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201106223035.jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201106223358.png"],"content":"<h2 id=\"项目说明\"><a class=\"markdownIt-Anchor\" href=\"#项目说明\"></a> 项目说明</h2>\n<p>对于本项目第一次是基于圈x的每日任务实现的自动签到，因为圈x要跑多个签到脚本，但后来由于各种原因最终放弃了使用圈x在本地跑。因此修改为利用GitHubActions自动完成打卡任务。</p>\n<p>项目地址：<a href=\"https://github.com/Dreamy-TZK/MoGuDingAutoCheckIn/\">MoGuDingAutoCheckIn</a></p>\n<p>食用方式任选下面两种中的一个即可。</p>\n<h2 id=\"快速开始-coding\"><a class=\"markdownIt-Anchor\" href=\"#快速开始-coding\"></a> 快速开始-Coding</h2>\n<p>使用Coding的原因主要是因为GitHub自动任务存在延迟，几分钟，几小时甚至不执行。因此建议使用Coding。</p>\n<blockquote>\n<p>这里不会讲解如何注册Coding，请自行了解。</p>\n</blockquote>\n<ol>\n<li>\n<p>新建项目</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108113955.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108113947860\" /></p>\n<p>选择代码托管项目</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114028.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114028888\" /></p>\n<p>然后名称路径随便写即可。</p>\n</li>\n<li>\n<p>新建代码仓库</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114125.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114125634\" /></p>\n<p>按照下图提示输入对应的内容</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114358.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114357894\" /></p>\n<p>项目地址：<a href=\"https://e.coding.net/imtzk/mogudingAuto/code.git\">https://e.coding.net/imtzk/mogudingAuto/code.git</a></p>\n</li>\n<li>\n<p>是否导入成功</p>\n<p>导入成功后你应该看到类似这样的界面</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114440.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114440151\" /></p>\n</li>\n<li>\n<p>开启持续继承功能</p>\n<ul>\n<li>\n<p>点击项目左下角的项目设置</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114517.png\" alt=\"image-20201108114517259\" /></p>\n</li>\n<li>\n<p>打开持续集成功能</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114558.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114558417\" /></p>\n</li>\n<li>\n<p>返回到主页面</p>\n</li>\n</ul>\n</li>\n<li>\n<p>添加自动任务</p>\n<p>接下来你将在主页面左边导航栏看到一个持续集成的选择，选择他并选择构建计划。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114705.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114705149\" /></p>\n<p>选择最下方的自定义构建过程</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114722.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114722695\" /></p>\n<p>构建计划名随便写即可。代码源选择CODING，代码仓库就选刚才创建的仓库。配置来源选择代码库中的<code>Jenkinsfile</code>。点击确定即可。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114837.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114837124\" /></p>\n</li>\n<li>\n<p>配置信息</p>\n<p>选择变量与缓存，进行相关配置</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108115113.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108115113647\" /></p>\n</li>\n<li>\n<p>测试</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108115155.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108115155188\" /></p>\n<p>点击保存并构建，如果成功则会向你发送一个微信提醒。如果构建失败，请参照失败原因并再次查看本文档排查错误。</p>\n</li>\n<li>\n<p>设置自动触发</p>\n<p>如果你测试成功了，那么可以添加自动触发任务了。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108115351.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108115351488\" /></p>\n<p>按需添加自己的触发规则即可。</p>\n<blockquote>\n<p>默认判断18点以后为下班卡，其余时间都为上班卡。如需修改请自行修改源代码。</p>\n</blockquote>\n</li>\n</ol>\n<h2 id=\"快速开始-github\"><a class=\"markdownIt-Anchor\" href=\"#快速开始-github\"></a> 快速开始-Github</h2>\n<ol>\n<li>\n<p>fork本项目</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106215802.png\" alt=\"\" /></p>\n</li>\n<li>\n<p>进入设置添加密钥</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106215832.png\" alt=\"image-20201106215832261\" /></p>\n<ul>\n<li>\n<p>PHONE（必填）</p>\n<p>顾名思义，为你登陆蘑菇丁的手机号</p>\n</li>\n<li>\n<p>PASSWORD（必填）</p>\n<p>顾名思义，为你登录蘑菇丁的密码</p>\n</li>\n<li>\n<p>SCKEY（建议填）</p>\n<p><a href=\"http://sc.ftqq.com/3.version\">Server酱</a>的密钥。</p>\n<blockquote>\n<p>每次签到结果会通过微信通知你<strong>签到结果</strong>，建议填。</p>\n</blockquote>\n</li>\n<li>\n<p>TOKEN（选填）</p>\n<p>即认证信息，通过抓包获得。主要是为了解决通过账号密码登录的方式会造成手机APP中账号退出的问题。如何获取后文会介绍。</p>\n</li>\n</ul>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106220416.png\" alt=\"image-20201106220416176\" /></p>\n</li>\n<li>\n<p>Actions如果没有开启（第一次使用）需要按照提示打开actions功能。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/25/91a79177e21e2a49d28be09cc676ad7a.png\" alt=\"image-20200525093352663\" /></p>\n</li>\n<li>\n<p>手动触发</p>\n<p>自动触发是每天的8点和晚上18点会自动触发。但是为了验证你的配置是否生效，可以修改一下readme.md文件然后提交。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106221426.png\" alt=\"image-20201106221425982\" /></p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106221647.png\" alt=\"image-20201106221647288\" /></p>\n<p>接下来点击Actions查看运行状态</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106221719.png\" alt=\"image-20201106221719808\" /></p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106222132.png\" alt=\"image-20201106222132012\" /></p>\n<p>看到类似提示则说明签到成功了，此时查看你的蘑菇丁即可。</p>\n</li>\n</ol>\n<h2 id=\"token\"><a class=\"markdownIt-Anchor\" href=\"#token\"></a> TOKEN</h2>\n<p>对于这一项本来是不需要提供的，但是我不想每次打开蘑菇丁都要重新登录，因此只能使用TOKEN来验证。蘑菇丁验证信息来源于登录。</p>\n<p>当你登录成功时，会返回一个TOKEN，这个TOKEN则代表你的身份。利用此TOKEN将其添加到header请求头即可。因此如果你想使用TOKEN，那么首先你需要会使用手机抓包软件，我以IOS为例，安卓自行寻找抓包软件。</p>\n<ol>\n<li>\n<p>下载抓包软件，我使用的是<code>Stream</code>，按照提示自行配置HTTPS抓包</p>\n</li>\n<li>\n<p>开启抓包</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106222920.jpg\" alt=\"1\" /></p>\n</li>\n<li>\n<p>登录蘑菇丁（如果你已经登陆了，那么请退出重新登录）</p>\n</li>\n<li>\n<p>登录成功后，返回抓包软件，点击停止抓包。点击抓包历史,点击右上角的搜索按钮，输入<code>login</code></p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106223035.jpg\" alt=\"2\" /></p>\n</li>\n<li>\n<p>如果能够过滤出蘑菇丁的请求，则说明成功了！点击去查看即可。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106223358.png\" alt=\"image-20201106223358657\" /></p>\n</li>\n<li>\n<p>复制TOKEN填入即可。</p>\n<p>这里需要注意下，即使使用TOKEN也需要填入手机号和密码（即使不对也要填）。因为有占位符的作用。</p>\n</li>\n</ol>\n<h2 id=\"没有微信提醒\"><a class=\"markdownIt-Anchor\" href=\"#没有微信提醒\"></a> 没有微信提醒</h2>\n<p>微信提醒使用第三方服务server酱，请自行到官方参考官方的配置文档进行设置。并测试官方接口发送后能否收到消息。</p>\n<p><a href=\"http://sc.ftqq.com/?c=code\">http://sc.ftqq.com/?c=code</a></p>\n","more":"<h2 id=\"项目说明\"><a class=\"markdownIt-Anchor\" href=\"#项目说明\"></a> 项目说明</h2>\n<p>对于本项目第一次是基于圈x的每日任务实现的自动签到，因为圈x要跑多个签到脚本，但后来由于各种原因最终放弃了使用圈x在本地跑。因此修改为利用GitHubActions自动完成打卡任务。</p>\n<p>项目地址：<a href=\"https://github.com/Dreamy-TZK/MoGuDingAutoCheckIn/\">MoGuDingAutoCheckIn</a></p>\n<p>食用方式任选下面两种中的一个即可。</p>\n<h2 id=\"快速开始-coding\"><a class=\"markdownIt-Anchor\" href=\"#快速开始-coding\"></a> 快速开始-Coding</h2>\n<p>使用Coding的原因主要是因为GitHub自动任务存在延迟，几分钟，几小时甚至不执行。因此建议使用Coding。</p>\n<blockquote>\n<p>这里不会讲解如何注册Coding，请自行了解。</p>\n</blockquote>\n<ol>\n<li>\n<p>新建项目</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108113955.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108113947860\" /></p>\n<p>选择代码托管项目</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114028.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114028888\" /></p>\n<p>然后名称路径随便写即可。</p>\n</li>\n<li>\n<p>新建代码仓库</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114125.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114125634\" /></p>\n<p>按照下图提示输入对应的内容</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114358.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114357894\" /></p>\n<p>项目地址：<a href=\"https://e.coding.net/imtzk/mogudingAuto/code.git\">https://e.coding.net/imtzk/mogudingAuto/code.git</a></p>\n</li>\n<li>\n<p>是否导入成功</p>\n<p>导入成功后你应该看到类似这样的界面</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114440.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114440151\" /></p>\n</li>\n<li>\n<p>开启持续继承功能</p>\n<ul>\n<li>\n<p>点击项目左下角的项目设置</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114517.png\" alt=\"image-20201108114517259\" /></p>\n</li>\n<li>\n<p>打开持续集成功能</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114558.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114558417\" /></p>\n</li>\n<li>\n<p>返回到主页面</p>\n</li>\n</ul>\n</li>\n<li>\n<p>添加自动任务</p>\n<p>接下来你将在主页面左边导航栏看到一个持续集成的选择，选择他并选择构建计划。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114705.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114705149\" /></p>\n<p>选择最下方的自定义构建过程</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114722.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114722695\" /></p>\n<p>构建计划名随便写即可。代码源选择CODING，代码仓库就选刚才创建的仓库。配置来源选择代码库中的<code>Jenkinsfile</code>。点击确定即可。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108114837.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108114837124\" /></p>\n</li>\n<li>\n<p>配置信息</p>\n<p>选择变量与缓存，进行相关配置</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108115113.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108115113647\" /></p>\n</li>\n<li>\n<p>测试</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108115155.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108115155188\" /></p>\n<p>点击保存并构建，如果成功则会向你发送一个微信提醒。如果构建失败，请参照失败原因并再次查看本文档排查错误。</p>\n</li>\n<li>\n<p>设置自动触发</p>\n<p>如果你测试成功了，那么可以添加自动触发任务了。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201108115351.png?w=1280&amp;fmt=jpg\" alt=\"image-20201108115351488\" /></p>\n<p>按需添加自己的触发规则即可。</p>\n<blockquote>\n<p>默认判断18点以后为下班卡，其余时间都为上班卡。如需修改请自行修改源代码。</p>\n</blockquote>\n</li>\n</ol>\n<h2 id=\"快速开始-github\"><a class=\"markdownIt-Anchor\" href=\"#快速开始-github\"></a> 快速开始-Github</h2>\n<ol>\n<li>\n<p>fork本项目</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106215802.png\" alt=\"\" /></p>\n</li>\n<li>\n<p>进入设置添加密钥</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106215832.png\" alt=\"image-20201106215832261\" /></p>\n<ul>\n<li>\n<p>PHONE（必填）</p>\n<p>顾名思义，为你登陆蘑菇丁的手机号</p>\n</li>\n<li>\n<p>PASSWORD（必填）</p>\n<p>顾名思义，为你登录蘑菇丁的密码</p>\n</li>\n<li>\n<p>SCKEY（建议填）</p>\n<p><a href=\"http://sc.ftqq.com/3.version\">Server酱</a>的密钥。</p>\n<blockquote>\n<p>每次签到结果会通过微信通知你<strong>签到结果</strong>，建议填。</p>\n</blockquote>\n</li>\n<li>\n<p>TOKEN（选填）</p>\n<p>即认证信息，通过抓包获得。主要是为了解决通过账号密码登录的方式会造成手机APP中账号退出的问题。如何获取后文会介绍。</p>\n</li>\n</ul>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106220416.png\" alt=\"image-20201106220416176\" /></p>\n</li>\n<li>\n<p>Actions如果没有开启（第一次使用）需要按照提示打开actions功能。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile2@latest/2020/05/25/91a79177e21e2a49d28be09cc676ad7a.png\" alt=\"image-20200525093352663\" /></p>\n</li>\n<li>\n<p>手动触发</p>\n<p>自动触发是每天的8点和晚上18点会自动触发。但是为了验证你的配置是否生效，可以修改一下readme.md文件然后提交。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106221426.png\" alt=\"image-20201106221425982\" /></p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106221647.png\" alt=\"image-20201106221647288\" /></p>\n<p>接下来点击Actions查看运行状态</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106221719.png\" alt=\"image-20201106221719808\" /></p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106222132.png\" alt=\"image-20201106222132012\" /></p>\n<p>看到类似提示则说明签到成功了，此时查看你的蘑菇丁即可。</p>\n</li>\n</ol>\n<h2 id=\"token\"><a class=\"markdownIt-Anchor\" href=\"#token\"></a> TOKEN</h2>\n<p>对于这一项本来是不需要提供的，但是我不想每次打开蘑菇丁都要重新登录，因此只能使用TOKEN来验证。蘑菇丁验证信息来源于登录。</p>\n<p>当你登录成功时，会返回一个TOKEN，这个TOKEN则代表你的身份。利用此TOKEN将其添加到header请求头即可。因此如果你想使用TOKEN，那么首先你需要会使用手机抓包软件，我以IOS为例，安卓自行寻找抓包软件。</p>\n<ol>\n<li>\n<p>下载抓包软件，我使用的是<code>Stream</code>，按照提示自行配置HTTPS抓包</p>\n</li>\n<li>\n<p>开启抓包</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106222920.jpg\" alt=\"1\" /></p>\n</li>\n<li>\n<p>登录蘑菇丁（如果你已经登陆了，那么请退出重新登录）</p>\n</li>\n<li>\n<p>登录成功后，返回抓包软件，点击停止抓包。点击抓包历史,点击右上角的搜索按钮，输入<code>login</code></p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106223035.jpg\" alt=\"2\" /></p>\n</li>\n<li>\n<p>如果能够过滤出蘑菇丁的请求，则说明成功了！点击去查看即可。</p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201106223358.png\" alt=\"image-20201106223358657\" /></p>\n</li>\n<li>\n<p>复制TOKEN填入即可。</p>\n<p>这里需要注意下，即使使用TOKEN也需要填入手机号和密码（即使不对也要填）。因为有占位符的作用。</p>\n</li>\n</ol>\n<h2 id=\"没有微信提醒\"><a class=\"markdownIt-Anchor\" href=\"#没有微信提醒\"></a> 没有微信提醒</h2>\n<p>微信提醒使用第三方服务server酱，请自行到官方参考官方的配置文档进行设置。并测试官方接口发送后能否收到消息。</p>\n<p><a href=\"http://sc.ftqq.com/?c=code\">http://sc.ftqq.com/?c=code</a></p>\n","categories":[{"name":"Project","path":"api/categories/Project.json"}],"tags":[{"name":"蘑菇丁","path":"api/tags/蘑菇丁.json"}]}