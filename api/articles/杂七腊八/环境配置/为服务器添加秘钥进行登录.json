{"title":"为服务器添加秘钥进行登录","slug":"杂七腊八/环境配置/为服务器添加秘钥进行登录","date":"2019-06-27T01:25:00.000Z","updated":"2022-02-21T06:11:10.036Z","comments":true,"path":"api/articles/杂七腊八/环境配置/为服务器添加秘钥进行登录.json","excerpt":null,"covers":["https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/9ff9cfc8b050f5a8ffd6475183e5f4e0.png","https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/40f36a7de3a9e839635a57f27baab2f1.png","https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/fb0eb38a2bd741f19dbe8b6f249cc136.png","https://cdn.antmoe.com/typecho/uploads/2019/06/3893210269.jpg","https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/302b086c5fdc7abd2476a41dcda68f71.png","https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/fc5f784ba46e9dec498a0bc67c7b4275.png","https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/e324859a2c2d2e140488417282210b9f.png","https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/1cf647f433de61d743fbed528d3d49c9.png","https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/37ee770fb7a2e690da95b86a5c956b19.png"],"content":"<h2 id=\"linux准备基础环境\"><a class=\"markdownIt-Anchor\" href=\"#linux准备基础环境\"></a> Linux准备基础环境</h2>\n<p>首先在根目录下创建一个隐藏文件<code>mkdir .ssh/</code>,然后设置权限<code>chmod 700 .ssh/</code></p>\n<p>在<code>.ssh</code>目录下创建文件<code>authorized_keys</code> 并赋予权限<code>chmod 600 .ssh/authorized_keys</code></p>\n<h2 id=\"创建秘钥\"><a class=\"markdownIt-Anchor\" href=\"#创建秘钥\"></a> 创建秘钥</h2>\n<p>在<code>xshell</code>菜单中点工具-&gt;新建秘钥向导<img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/9ff9cfc8b050f5a8ffd6475183e5f4e0.png\" alt=\"\" /></p>\n<p>秘钥类型及长度根据你自己选择，我这里就默认下一步了</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/40f36a7de3a9e839635a57f27baab2f1.png\" alt=\"\" /></p>\n<p>输入完成后可以点击完成，也可以点击下一步选择公钥格式。</p>\n<h2 id=\"导入公钥\"><a class=\"markdownIt-Anchor\" href=\"#导入公钥\"></a> 导入公钥</h2>\n<p>创建完成后会自动弹出用户秘钥的窗口，如果没有弹出，也可以通过菜单栏里的工具找到。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/fb0eb38a2bd741f19dbe8b6f249cc136.png\" alt=\"\" /></p>\n<p><img src=\"https://cdn.antmoe.com/typecho/uploads/2019/06/3893210269.jpg\" alt=\"\" /></p>\n<p>接下来复制公钥</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/302b086c5fdc7abd2476a41dcda68f71.png\" alt=\"第一步\" /></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/fc5f784ba46e9dec498a0bc67c7b4275.png\" alt=\"第二步\" /></p>\n<p>公钥复制好之后打开我们之前创建的公钥文件(authorized_keys)<code>vim authorized_keys</code> 将复制的公钥写入这个文件。<img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/e324859a2c2d2e140488417282210b9f.png\" alt=\"\" /> 然后保存退出。</p>\n<h2 id=\"测试公钥是否成功\"><a class=\"markdownIt-Anchor\" href=\"#测试公钥是否成功\"></a> 测试公钥是否成功</h2>\n<p>登录地址就是主机的ip地址</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/1cf647f433de61d743fbed528d3d49c9.png\" alt=\"\" /></p>\n<p>这一步选择公钥登录</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/37ee770fb7a2e690da95b86a5c956b19.png\" alt=\"\" /></p>\n","more":"<h2 id=\"linux准备基础环境\"><a class=\"markdownIt-Anchor\" href=\"#linux准备基础环境\"></a> Linux准备基础环境</h2>\n<p>首先在根目录下创建一个隐藏文件<code>mkdir .ssh/</code>,然后设置权限<code>chmod 700 .ssh/</code></p>\n<p>在<code>.ssh</code>目录下创建文件<code>authorized_keys</code> 并赋予权限<code>chmod 600 .ssh/authorized_keys</code></p>\n<h2 id=\"创建秘钥\"><a class=\"markdownIt-Anchor\" href=\"#创建秘钥\"></a> 创建秘钥</h2>\n<p>在<code>xshell</code>菜单中点工具-&gt;新建秘钥向导<img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/9ff9cfc8b050f5a8ffd6475183e5f4e0.png\" alt=\"\" /></p>\n<p>秘钥类型及长度根据你自己选择，我这里就默认下一步了</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/40f36a7de3a9e839635a57f27baab2f1.png\" alt=\"\" /></p>\n<p>输入完成后可以点击完成，也可以点击下一步选择公钥格式。</p>\n<h2 id=\"导入公钥\"><a class=\"markdownIt-Anchor\" href=\"#导入公钥\"></a> 导入公钥</h2>\n<p>创建完成后会自动弹出用户秘钥的窗口，如果没有弹出，也可以通过菜单栏里的工具找到。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/fb0eb38a2bd741f19dbe8b6f249cc136.png\" alt=\"\" /></p>\n<p><img src=\"https://cdn.antmoe.com/typecho/uploads/2019/06/3893210269.jpg\" alt=\"\" /></p>\n<p>接下来复制公钥</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/302b086c5fdc7abd2476a41dcda68f71.png\" alt=\"第一步\" /></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/fc5f784ba46e9dec498a0bc67c7b4275.png\" alt=\"第二步\" /></p>\n<p>公钥复制好之后打开我们之前创建的公钥文件(authorized_keys)<code>vim authorized_keys</code> 将复制的公钥写入这个文件。<img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/e324859a2c2d2e140488417282210b9f.png\" alt=\"\" /> 然后保存退出。</p>\n<h2 id=\"测试公钥是否成功\"><a class=\"markdownIt-Anchor\" href=\"#测试公钥是否成功\"></a> 测试公钥是否成功</h2>\n<p>登录地址就是主机的ip地址</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/1cf647f433de61d743fbed528d3d49c9.png\" alt=\"\" /></p>\n<p>这一步选择公钥登录</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/37ee770fb7a2e690da95b86a5c956b19.png\" alt=\"\" /></p>\n","categories":[{"name":"Linux","path":"api/categories/Linux.json"},{"name":"密钥登陆","path":"api/categories/密钥登陆.json"}],"tags":[{"name":"密钥登陆","path":"api/tags/密钥登陆.json"}]}