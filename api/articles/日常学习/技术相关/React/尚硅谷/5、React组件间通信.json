{"title":"5、React组件间通信","slug":"日常学习/技术相关/React/尚硅谷/5、React组件间通信","date":"2020-11-15T00:17:26.000Z","updated":"2022-02-21T07:18:57.053Z","comments":true,"path":"api/articles/日常学习/技术相关/React/尚硅谷/5、React组件间通信.json","excerpt":null,"covers":null,"content":"<h2 id=\"通过props-传递\"><a class=\"markdownIt-Anchor\" href=\"#通过props-传递\"></a> 通过props 传递</h2>\n<ol>\n<li>共同的数据放在父组件上, 特有的数据放在自己组件内部(state)</li>\n<li>通过props 可以传递一般数据和函数数据, 只能一层一层传递</li>\n<li>一般数据–&gt;父组件传递数据给子组件–&gt;子组件读取数据</li>\n<li>函数数据–&gt;子组件传递数据给父组件–&gt;子组件调用函数</li>\n</ol>\n<h2 id=\"使用消息订阅subscribe-发布publish机制\"><a class=\"markdownIt-Anchor\" href=\"#使用消息订阅subscribe-发布publish机制\"></a> 使用消息订阅(subscribe)-发布(publish)机制</h2>\n<p>使用工具库<code>PubSubJS</code>工具库实现。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> pubsub-js<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>使用</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> PubSub <span class=\"token keyword\">from</span> <span class=\"token string\">'pubsub-js'</span> <span class=\"token comment\">//引入</span>\nPubSub<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'delete'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">msg<span class=\"token punctuation\">,</span>data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//订阅</span>\nPubSub<span class=\"token punctuation\">.</span><span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token string\">'delete'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span> <span class=\"token comment\">//发布消息</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p>发布消息可以理解为触发事件，订阅消息可以理解为监听事件。</p>\n</blockquote>\n<h2 id=\"通过redux传递\"><a class=\"markdownIt-Anchor\" href=\"#通过redux传递\"></a> 通过redux传递</h2>\n<p>待补充</p>\n","more":"<h2 id=\"通过props-传递\"><a class=\"markdownIt-Anchor\" href=\"#通过props-传递\"></a> 通过props 传递</h2>\n<ol>\n<li>共同的数据放在父组件上, 特有的数据放在自己组件内部(state)</li>\n<li>通过props 可以传递一般数据和函数数据, 只能一层一层传递</li>\n<li>一般数据–&gt;父组件传递数据给子组件–&gt;子组件读取数据</li>\n<li>函数数据–&gt;子组件传递数据给父组件–&gt;子组件调用函数</li>\n</ol>\n<h2 id=\"使用消息订阅subscribe-发布publish机制\"><a class=\"markdownIt-Anchor\" href=\"#使用消息订阅subscribe-发布publish机制\"></a> 使用消息订阅(subscribe)-发布(publish)机制</h2>\n<p>使用工具库<code>PubSubJS</code>工具库实现。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> pubsub-js<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>使用</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> PubSub <span class=\"token keyword\">from</span> <span class=\"token string\">'pubsub-js'</span> <span class=\"token comment\">//引入</span>\nPubSub<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'delete'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">msg<span class=\"token punctuation\">,</span>data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//订阅</span>\nPubSub<span class=\"token punctuation\">.</span><span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token string\">'delete'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span> <span class=\"token comment\">//发布消息</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<p>发布消息可以理解为触发事件，订阅消息可以理解为监听事件。</p>\n</blockquote>\n<h2 id=\"通过redux传递\"><a class=\"markdownIt-Anchor\" href=\"#通过redux传递\"></a> 通过redux传递</h2>\n<p>待补充</p>\n","categories":[{"name":"React","path":"api/categories/React.json"},{"name":"尚硅谷","path":"api/categories/尚硅谷.json"}],"tags":[{"name":"React","path":"api/tags/React.json"}]}