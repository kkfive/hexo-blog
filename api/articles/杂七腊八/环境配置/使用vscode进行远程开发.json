{"title":"使用vscode进行远程开发","slug":"杂七腊八/环境配置/使用vscode进行远程开发","date":"2020-02-18T14:24:26.000Z","updated":"2022-02-21T06:22:27.484Z","comments":true,"path":"api/articles/杂七腊八/环境配置/使用vscode进行远程开发.json","excerpt":null,"covers":["https://tva1.sinaimg.cn/large/005B3XPgly1gbk1g27wchj300v00s0ph.jpg","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218223231.png","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218224804.png","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218224844.png","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225000.png","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225253.png","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225433.png","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225444.png","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225734.png","https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218230043.png","https://tva1.sinaimg.cn/large/005B3XPgly1gbk1g2tkwgj301500t0sh.jpg"],"content":"<h2 id=\"前言\"><a class=\"markdownIt-Anchor\" href=\"#前言\"></a> 前言</h2>\n<p>为什么突然想到了vscode远程开发，其实是因为在知乎上看到了一个问题，某人的回答指出了是因为vscode能够远程开发，他才抛弃了其他工具，转向了vscode。</p>\n<p>其实对于我一个转向前端的程序员👨‍💻，使用vscode也是迟早的事情。虽然jetbrains全家桶很X，但是有时候会卡住，而且时间长了，打开还得等一会儿。。</p>\n<p>目前我只有开发python才会使用。当然了，等这段时间过了，估计也会很长一段时间不会碰python了，所以转向vscode了。<img src=\"https://tva1.sinaimg.cn/large/005B3XPgly1gbk1g27wchj300v00s0ph.jpg\" alt=\"-小康博客\" /></p>\n<h2 id=\"快速开始\"><a class=\"markdownIt-Anchor\" href=\"#快速开始\"></a> 快速开始</h2>\n<h3 id=\"为vscode安装插件\"><a class=\"markdownIt-Anchor\" href=\"#为vscode安装插件\"></a> 为vscode安装插件</h3>\n<p>插件名为Remote Development</p>\n<p>地址<code>https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack</code></p>\n<p>当然了，直接搜索也是可以的。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218223231.png\" alt=\"\" /></p>\n<p>安装这个插件，会连同最上面那四个一起安装，虽然不知道为啥。</p>\n<h3 id=\"生成密钥对\"><a class=\"markdownIt-Anchor\" href=\"#生成密钥对\"></a> 生成密钥对</h3>\n<p>密钥对对于搞Hexo的小伙伴相信都不陌生，对于开发者来说应该更不陌生。生成的命令很简单</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ssh-keygen -t rsa -C <span class=\"token string\">\"youremail@example.com\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>然后一路回车即可。如果遇到问题，请自行百度。</p>\n<p>密钥对生成好了之后，默认的位置是用户目录的.ssh里。例如我的用户名是<code>antmoe</code>那么我的文件就在<code>C:\\Users\\antmoe\\.ssh</code>里。我们进入这个文件，将里边的<code>id_rsa.pub</code>文件用文本文档打开。</p>\n<blockquote>\n<p>这里推荐一款工具：notepad++ 免费而且贼好用。</p>\n</blockquote>\n<p>复制里边的内容</p>\n<h3 id=\"为服务器添加公钥\"><a class=\"markdownIt-Anchor\" href=\"#为服务器添加公钥\"></a> 为服务器添加公钥</h3>\n<p>我们登录服务器，在你个人用户的目录新建一个<code>.ssh</code>目录，并赋予权限700，然后在这个目录里新建一个文件<code>authorized_keys</code> 里边写入我们公钥的内容，并赋予权限600</p>\n<p>如果你是Linux小白或者忘了Linux的命令，那么我在这里提供命令哦！</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"><span class=\"token function\">mkdir</span> ~/.ssh\n<span class=\"token function\">chmod</span> <span class=\"token number\">700</span> ~/.ssh/\n<span class=\"token function\">vi</span> ~/.ssh/authorized_keys\n<span class=\"token function\">chmod</span> <span class=\"token number\">600</span> ~/.ssh/authorized_keys<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>关于第三行使用了vi编辑器，如果你不会用或想了解这款工具请自行百度，这里只提供粘贴公钥和保存的基本操作。</p>\n<ol>\n<li>\n<p>粘贴公钥</p>\n<p>当输入第三步的命令后，看到了一个黑框框，我们按键盘上的字母键<code>i</code>，然后左下角会提示<code>INSERT</code>或者提示插入或者插入模式。这都是一样么。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218224804.png\" alt=\"\" /></p>\n<p>然后我们按鼠标的右键，粘贴复制的公钥内容。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218224844.png\" alt=\"\" /></p>\n</li>\n<li>\n<p>保存内容</p>\n<p>保存也很简单，我们先按键盘左上角的<code>ESC</code>建。然后输入<code>:wq</code>(左下角会显示)</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225000.png\" alt=\"\" /></p>\n</li>\n</ol>\n<h3 id=\"vscode连接\"><a class=\"markdownIt-Anchor\" href=\"#vscode连接\"></a> vscode连接</h3>\n<p>进入vscode，你会看到左边菜单栏多出了一个小电脑的标志，我们点它。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225253.png\" alt=\"\" /></p>\n<p>左边那里选择<code>SSH Targels</code>，然后点击小齿轮选择user/用户名/.ssh/config 这样的，通常是第一个或者第二个。然后就可以看到上边的配置界面了。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225433.png\" alt=\"\" /></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225444.png\" alt=\"\" /></p>\n<h3 id=\"测试连接\"><a class=\"markdownIt-Anchor\" href=\"#测试连接\"></a> 测试连接</h3>\n<p>不出意外的话，这是就可以连接成功了。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225734.png\" alt=\"\" /></p>\n<h2 id=\"可能会遇到的问题\"><a class=\"markdownIt-Anchor\" href=\"#可能会遇到的问题\"></a> 可能会遇到的问题</h2>\n<h3 id=\"bad-owner-or-permissions-on-cusersadministratorsshconfig\"><a class=\"markdownIt-Anchor\" href=\"#bad-owner-or-permissions-on-cusersadministratorsshconfig\"></a> Bad owner or permissions on C:\\Users\\Administrator/.ssh/config</h3>\n<blockquote>\n<p>Windows 下 VSCode 使用 SSH 连接报 Bad owner or permissions on C:\\Users\\Administrator/.ssh/config 错误问题</p>\n</blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218230043.png\" alt=\"\" /></p>\n<p>这个错误意味着：文件夹.ssh 的权限不仅仅是windows 当前用户拥有或者当前用户权限不足，故修改权限即可。</p>\n<p>解决方案很简单，找到我们的<code>.ssh</code>文件，进入里边会有一个<code>config</code>的文件。</p>\n<ol>\n<li>右键单击.ssh文件夹，然后单击“属性”。</li>\n<li>找到并点击“安全”标签。</li>\n<li>然后单击“高级”。 单击“禁用继承”，单击“确定”。 将出现警告弹出窗口。单击“<strong>从此对象中删除所有继承的权限</strong>”。</li>\n<li>你会注意到所有用户都将被删除。让我们添加所有者。在同一窗口中，单击“编辑”按钮。</li>\n<li>接下来，单击“添加”以显示“选择用户或组”窗口。</li>\n<li>单击“高级”，然后单击“立即查找”按钮。应显示用户结果列表。 选择<strong>您的用户帐户</strong>。</li>\n<li>然后单击“确定”（大约三次）以关闭所有窗口。</li>\n<li>完成所有操作后，再次关闭并打开VSCode 并尝试连接到远程SSH主机。</li>\n</ol>\n<p>此解决方案来源于CSDN博客<a href=\"https://blog.csdn.net/chaoenhu/article/details/103698804\">犹新</a></p>\n<h3 id=\"更多问题\"><a class=\"markdownIt-Anchor\" href=\"#更多问题\"></a> 更多问题</h3>\n<p>如果遇到其他问题，可以在下方留言哦！</p>\n<h2 id=\"最后\"><a class=\"markdownIt-Anchor\" href=\"#最后\"></a> 最后</h2>\n<p>现在已经是晚上11点钟了，刚刚写完这篇文字，大约花费了40分钟的时间。说真的。现在越来越觉得vscode牛X了。</p>\n<p>不过经过我的测试 远程开发并不好用，经常会遇到掉线的情况。。不知道是因为服务器的原因还是我的网络原因。</p>\n<p>但是虚拟机好像没有掉线过，所以我的开发流程变成了</p>\n<ol>\n<li>打开虚拟机</li>\n<li>vscode远程连接</li>\n<li>开发</li>\n</ol>\n<p>好了 晚安 睡觉 <img src=\"https://tva1.sinaimg.cn/large/005B3XPgly1gbk1g2tkwgj301500t0sh.jpg\" alt=\"-小康博客\" /></p>\n","more":"<h2 id=\"前言\"><a class=\"markdownIt-Anchor\" href=\"#前言\"></a> 前言</h2>\n<p>为什么突然想到了vscode远程开发，其实是因为在知乎上看到了一个问题，某人的回答指出了是因为vscode能够远程开发，他才抛弃了其他工具，转向了vscode。</p>\n<p>其实对于我一个转向前端的程序员👨‍💻，使用vscode也是迟早的事情。虽然jetbrains全家桶很X，但是有时候会卡住，而且时间长了，打开还得等一会儿。。</p>\n<p>目前我只有开发python才会使用。当然了，等这段时间过了，估计也会很长一段时间不会碰python了，所以转向vscode了。<img src=\"https://tva1.sinaimg.cn/large/005B3XPgly1gbk1g27wchj300v00s0ph.jpg\" alt=\"-小康博客\" /></p>\n<h2 id=\"快速开始\"><a class=\"markdownIt-Anchor\" href=\"#快速开始\"></a> 快速开始</h2>\n<h3 id=\"为vscode安装插件\"><a class=\"markdownIt-Anchor\" href=\"#为vscode安装插件\"></a> 为vscode安装插件</h3>\n<p>插件名为Remote Development</p>\n<p>地址<code>https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack</code></p>\n<p>当然了，直接搜索也是可以的。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218223231.png\" alt=\"\" /></p>\n<p>安装这个插件，会连同最上面那四个一起安装，虽然不知道为啥。</p>\n<h3 id=\"生成密钥对\"><a class=\"markdownIt-Anchor\" href=\"#生成密钥对\"></a> 生成密钥对</h3>\n<p>密钥对对于搞Hexo的小伙伴相信都不陌生，对于开发者来说应该更不陌生。生成的命令很简单</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ssh-keygen -t rsa -C <span class=\"token string\">\"youremail@example.com\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>然后一路回车即可。如果遇到问题，请自行百度。</p>\n<p>密钥对生成好了之后，默认的位置是用户目录的.ssh里。例如我的用户名是<code>antmoe</code>那么我的文件就在<code>C:\\Users\\antmoe\\.ssh</code>里。我们进入这个文件，将里边的<code>id_rsa.pub</code>文件用文本文档打开。</p>\n<blockquote>\n<p>这里推荐一款工具：notepad++ 免费而且贼好用。</p>\n</blockquote>\n<p>复制里边的内容</p>\n<h3 id=\"为服务器添加公钥\"><a class=\"markdownIt-Anchor\" href=\"#为服务器添加公钥\"></a> 为服务器添加公钥</h3>\n<p>我们登录服务器，在你个人用户的目录新建一个<code>.ssh</code>目录，并赋予权限700，然后在这个目录里新建一个文件<code>authorized_keys</code> 里边写入我们公钥的内容，并赋予权限600</p>\n<p>如果你是Linux小白或者忘了Linux的命令，那么我在这里提供命令哦！</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"><span class=\"token function\">mkdir</span> ~/.ssh\n<span class=\"token function\">chmod</span> <span class=\"token number\">700</span> ~/.ssh/\n<span class=\"token function\">vi</span> ~/.ssh/authorized_keys\n<span class=\"token function\">chmod</span> <span class=\"token number\">600</span> ~/.ssh/authorized_keys<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>关于第三行使用了vi编辑器，如果你不会用或想了解这款工具请自行百度，这里只提供粘贴公钥和保存的基本操作。</p>\n<ol>\n<li>\n<p>粘贴公钥</p>\n<p>当输入第三步的命令后，看到了一个黑框框，我们按键盘上的字母键<code>i</code>，然后左下角会提示<code>INSERT</code>或者提示插入或者插入模式。这都是一样么。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218224804.png\" alt=\"\" /></p>\n<p>然后我们按鼠标的右键，粘贴复制的公钥内容。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218224844.png\" alt=\"\" /></p>\n</li>\n<li>\n<p>保存内容</p>\n<p>保存也很简单，我们先按键盘左上角的<code>ESC</code>建。然后输入<code>:wq</code>(左下角会显示)</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225000.png\" alt=\"\" /></p>\n</li>\n</ol>\n<h3 id=\"vscode连接\"><a class=\"markdownIt-Anchor\" href=\"#vscode连接\"></a> vscode连接</h3>\n<p>进入vscode，你会看到左边菜单栏多出了一个小电脑的标志，我们点它。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225253.png\" alt=\"\" /></p>\n<p>左边那里选择<code>SSH Targels</code>，然后点击小齿轮选择user/用户名/.ssh/config 这样的，通常是第一个或者第二个。然后就可以看到上边的配置界面了。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225433.png\" alt=\"\" /></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225444.png\" alt=\"\" /></p>\n<h3 id=\"测试连接\"><a class=\"markdownIt-Anchor\" href=\"#测试连接\"></a> 测试连接</h3>\n<p>不出意外的话，这是就可以连接成功了。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218225734.png\" alt=\"\" /></p>\n<h2 id=\"可能会遇到的问题\"><a class=\"markdownIt-Anchor\" href=\"#可能会遇到的问题\"></a> 可能会遇到的问题</h2>\n<h3 id=\"bad-owner-or-permissions-on-cusersadministratorsshconfig\"><a class=\"markdownIt-Anchor\" href=\"#bad-owner-or-permissions-on-cusersadministratorsshconfig\"></a> Bad owner or permissions on C:\\Users\\Administrator/.ssh/config</h3>\n<blockquote>\n<p>Windows 下 VSCode 使用 SSH 连接报 Bad owner or permissions on C:\\Users\\Administrator/.ssh/config 错误问题</p>\n</blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/02/18/20200218230043.png\" alt=\"\" /></p>\n<p>这个错误意味着：文件夹.ssh 的权限不仅仅是windows 当前用户拥有或者当前用户权限不足，故修改权限即可。</p>\n<p>解决方案很简单，找到我们的<code>.ssh</code>文件，进入里边会有一个<code>config</code>的文件。</p>\n<ol>\n<li>右键单击.ssh文件夹，然后单击“属性”。</li>\n<li>找到并点击“安全”标签。</li>\n<li>然后单击“高级”。 单击“禁用继承”，单击“确定”。 将出现警告弹出窗口。单击“<strong>从此对象中删除所有继承的权限</strong>”。</li>\n<li>你会注意到所有用户都将被删除。让我们添加所有者。在同一窗口中，单击“编辑”按钮。</li>\n<li>接下来，单击“添加”以显示“选择用户或组”窗口。</li>\n<li>单击“高级”，然后单击“立即查找”按钮。应显示用户结果列表。 选择<strong>您的用户帐户</strong>。</li>\n<li>然后单击“确定”（大约三次）以关闭所有窗口。</li>\n<li>完成所有操作后，再次关闭并打开VSCode 并尝试连接到远程SSH主机。</li>\n</ol>\n<p>此解决方案来源于CSDN博客<a href=\"https://blog.csdn.net/chaoenhu/article/details/103698804\">犹新</a></p>\n<h3 id=\"更多问题\"><a class=\"markdownIt-Anchor\" href=\"#更多问题\"></a> 更多问题</h3>\n<p>如果遇到其他问题，可以在下方留言哦！</p>\n<h2 id=\"最后\"><a class=\"markdownIt-Anchor\" href=\"#最后\"></a> 最后</h2>\n<p>现在已经是晚上11点钟了，刚刚写完这篇文字，大约花费了40分钟的时间。说真的。现在越来越觉得vscode牛X了。</p>\n<p>不过经过我的测试 远程开发并不好用，经常会遇到掉线的情况。。不知道是因为服务器的原因还是我的网络原因。</p>\n<p>但是虚拟机好像没有掉线过，所以我的开发流程变成了</p>\n<ol>\n<li>打开虚拟机</li>\n<li>vscode远程连接</li>\n<li>开发</li>\n</ol>\n<p>好了 晚安 睡觉 <img src=\"https://tva1.sinaimg.cn/large/005B3XPgly1gbk1g2tkwgj301500t0sh.jpg\" alt=\"-小康博客\" /></p>\n","categories":[{"name":"Windows","path":"api/categories/Windows.json"},{"name":"远程开发","path":"api/categories/远程开发.json"}],"tags":[{"name":"环境","path":"api/tags/环境.json"},{"name":"开发","path":"api/tags/开发.json"}]}