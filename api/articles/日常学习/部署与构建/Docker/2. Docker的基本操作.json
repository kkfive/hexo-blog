{"title":"二、Docker的相关操作","slug":"日常学习/部署与构建/Docker/2. Docker的基本操作","date":"2021-02-27T11:12:00.000Z","updated":"2021-02-27T11:12:00.000Z","comments":true,"path":"api/articles/日常学习/部署与构建/Docker/2. Docker的基本操作.json","excerpt":null,"covers":["https://file.acs.pw/picGo/2021/2/27/fa457bcafa7cd62b86545e1e2399f882.png"],"content":"<h2 id=\"docker运行流程\"><a class=\"markdownIt-Anchor\" href=\"#docker运行流程\"></a> docker运行流程</h2>\n<p><img src=\"https://file.acs.pw/picGo/2021/2/27/fa457bcafa7cd62b86545e1e2399f882.png\" alt=\"image-20200404120356784\" /></p>\n<h2 id=\"镜像常用命令\"><a class=\"markdownIt-Anchor\" href=\"#镜像常用命令\"></a> 镜像常用命令</h2>\n<h3 id=\"查看本机中所有镜像\"><a class=\"markdownIt-Anchor\" href=\"#查看本机中所有镜像\"></a> 查看本机中所有镜像</h3>\n<div class=\"tabs\" id=\"images1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images1-1\"><p>命令<code>docker images [镜像名]</code>可查看当前镜像。</p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images1-2\"><ul>\n<li>\n<p><code>-q</code></p>\n<p>只显示镜像id</p>\n</li>\n<li>\n<p><code>-a</code></p>\n<p>列出所有镜像（包含中间映像层）</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"搜索镜像\"><a class=\"markdownIt-Anchor\" href=\"#搜索镜像\"></a> 搜索镜像</h3>\n<div class=\"tabs\" id=\"images-search1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images-search1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-search1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images-search1-1\"><p>命令格式：<code>docker search [options] 镜像名</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-search1-2\"><ul>\n<li>\n<p><code>-s</code></p>\n<p>列出收藏数不少于指定值的镜像</p>\n</li>\n<li>\n<p><code>--no-trunc</code></p>\n<p>显示完整的镜像信息</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"从仓库下载镜像\"><a class=\"markdownIt-Anchor\" href=\"#从仓库下载镜像\"></a> 从仓库下载镜像</h3>\n<div class=\"tabs\" id=\"images-pull1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images-pull1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-pull1-2\">参数</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images-pull1-1\"><p>命令格式：<code>docker pull 镜像名[:TAG|@DIGEST]</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-pull1-2\"><p>可以指定TAG或者DIGEST</p>\n<ul>\n<li>\n<p>TAG</p>\n<p>标签名</p>\n</li>\n<li>\n<p>DIGEST</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"删除镜像\"><a class=\"markdownIt-Anchor\" href=\"#删除镜像\"></a> 删除镜像</h3>\n<div class=\"tabs\" id=\"images-rmi1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images-rmi1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-rmi1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images-rmi1-1\"><p>命令格式：<code>docker rmi 镜像名</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-rmi1-2\"><p>可以指定TAG或者DIGEST</p>\n<ul>\n<li>\n<p><code>-f</code></p>\n<p>强制删除</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h2 id=\"容器常用命令\"><a class=\"markdownIt-Anchor\" href=\"#容器常用命令\"></a> 容器常用命令</h2>\n<h3 id=\"运行容器\"><a class=\"markdownIt-Anchor\" href=\"#运行容器\"></a> 运行容器</h3>\n<div class=\"tabs\" id=\"docker-run1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#docker-run1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#docker-run1-2\">选项</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#docker-run1-3\">示例</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"docker-run1-1\"><p>镜像名新建并启动容器</p>\n<p>命令格式：<code>docker run [选项] 镜像名</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"docker-run1-2\"><ul>\n<li>\n<p><code>--name</code></p>\n<p>别名为容器起一个名字</p>\n</li>\n<li>\n<p><code>-d</code></p>\n<p>启动守护式容器（在后台启动容器）</p>\n</li>\n<li>\n<p><code>-p</code></p>\n<p>映射端口号：原始端口号\t\t 指定端口号启动</p>\n</li>\n<li>\n<p><code>--network</code></p>\n<p>指定使用的网桥</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"docker-run1-3\"><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker run -it --name myTomcat -p 8888:8080 tomcat\n\ndocker run -d --name myTomcat -P tomcat<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"查看运行的容器\"><a class=\"markdownIt-Anchor\" href=\"#查看运行的容器\"></a> 查看运行的容器</h3>\n<div class=\"tabs\" id=\"docker-ps1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#docker-ps1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#docker-ps1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"docker-ps1-1\"><p>列出所有正在运行的容器，命令格式：<code>docker ps</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"docker-ps1-2\"><ul>\n<li>\n<p><code>-a</code></p>\n<p>正在运行的和历史运行过的容器</p>\n</li>\n<li>\n<p><code>-q</code></p>\n<p>静默模式，只显示容器编号</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"停止关闭重启容器\"><a class=\"markdownIt-Anchor\" href=\"#停止关闭重启容器\"></a> 停止|关闭|重启容器</h3>\n<ul>\n<li>\n<p>开启容器</p>\n<p><code>docker start 容器名字或者容器id</code></p>\n</li>\n<li>\n<p>重启容器</p>\n<p><code>docker restart 容器名或者容器id</code></p>\n</li>\n<li>\n<p>正常停止容器运行</p>\n<p><code>docker stop 容器名或者容器id</code></p>\n</li>\n<li>\n<p>立即停止容器运行</p>\n<p><code>docker kill 容器名或者容器id</code></p>\n</li>\n</ul>\n<h3 id=\"删除容器\"><a class=\"markdownIt-Anchor\" href=\"#删除容器\"></a> 删除容器</h3>\n<ul>\n<li>\n<p>删除单个容器</p>\n<p><code>docker rm -f 容器id和容器名</code></p>\n</li>\n<li>\n<p>删除所有容器</p>\n<p><code>docker rm -f $(docker ps -aq)</code></p>\n</li>\n</ul>\n<h3 id=\"查看容器内进程\"><a class=\"markdownIt-Anchor\" href=\"#查看容器内进程\"></a> 查看容器内进程</h3>\n<p><code>docker top 容器id或者容器名</code></p>\n<h3 id=\"查看容器内部细节\"><a class=\"markdownIt-Anchor\" href=\"#查看容器内部细节\"></a> 查看容器内部细节</h3>\n<p><code>docker inspect 容器id</code></p>\n<h3 id=\"查看容器运行日志\"><a class=\"markdownIt-Anchor\" href=\"#查看容器运行日志\"></a> 查看容器运行日志</h3>\n<div class=\"tabs\" id=\"docker-logs1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#docker-logs1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#docker-logs1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"docker-logs1-1\"><p>命令格式：<code>docker logs [OPTIONS] 容器id或容器名</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"docker-logs1-2\"><ul>\n<li>\n<p><code>-t</code></p>\n<p>加入时间戳</p>\n</li>\n<li>\n<p><code>-f</code></p>\n<p>跟随最新的日志打印</p>\n</li>\n<li>\n<p><code>--tail</code></p>\n<p>数字\t显示最后多少条</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"进入容器内部\"><a class=\"markdownIt-Anchor\" href=\"#进入容器内部\"></a> 进入容器内部</h3>\n<div class=\"tabs\" id=\"images-ps1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images-ps1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-ps1-2\">选项</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-ps1-3\">示例</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images-ps1-1\"><p>命令格式：<code>docker exec [options] 容器id 容器内命令</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-ps1-2\"><ul>\n<li>\n<p><code>-i</code></p>\n<p>以交互模式运行容器，通常与-t一起使用</p>\n</li>\n<li>\n<p><code>-t</code></p>\n<p>分配一个伪终端    shell窗口   bash</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-ps1-3\"><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"容器和宿主机之间复制文件\"><a class=\"markdownIt-Anchor\" href=\"#容器和宿主机之间复制文件\"></a> 容器和宿主机之间复制文件</h3>\n<ul>\n<li>\n<p>将宿主机复制到容器内部</p>\n<p><code>docker cp 文件|目录 容器id:容器路径</code></p>\n</li>\n<li>\n<p>将容器内资源拷贝到主机上</p>\n<p><code>docker cp 容器id:容器内资源路径 宿主机目录路径</code></p>\n</li>\n</ul>\n<h3 id=\"数据卷volum实现与宿主机共享目录\"><a class=\"markdownIt-Anchor\" href=\"#数据卷volum实现与宿主机共享目录\"></a> 数据卷（volum）实现与宿主机共享目录</h3>\n<p>命令：<code>docker run -v 宿主机的路径|任意别名:/容器内的路径 镜像名</code>，宿主机与容器文件是互通的。</p>\n<p><code>docker run -v 宿主机的路径|任意别名:/容器内的路径:ro 镜像名</code>，容器机不能修改宿主机的文件内容。</p>\n<div class=\"note danger flat\"><ul>\n<li>如果是宿主机路径必须是绝对路径,宿主机目录会覆盖容器内目录内容</li>\n<li>如果是别名则会在docker运行容器时自动在宿主机中创建一个目录,并将容器目录文件复制到宿主机中</li>\n</ul>\n</div>\n<h3 id=\"打包镜像\"><a class=\"markdownIt-Anchor\" href=\"#打包镜像\"></a> 打包镜像</h3>\n<p>命令：<code>docker save 镜像名:tag -o 名称.tar</code></p>\n<h3 id=\"载入镜像\"><a class=\"markdownIt-Anchor\" href=\"#载入镜像\"></a> 载入镜像</h3>\n<p>命令：<code>docker load -i 名称.tar</code></p>\n<h3 id=\"容器打包成新的镜像\"><a class=\"markdownIt-Anchor\" href=\"#容器打包成新的镜像\"></a> 容器打包成新的镜像</h3>\n<p>命令：<code>docker commit -m &quot;描述信息&quot; -a &quot;作者信息&quot; （容器id或者名称）打包的镜像名称:标签</code></p>\n","more":"<h2 id=\"docker运行流程\"><a class=\"markdownIt-Anchor\" href=\"#docker运行流程\"></a> docker运行流程</h2>\n<p><img src=\"https://file.acs.pw/picGo/2021/2/27/fa457bcafa7cd62b86545e1e2399f882.png\" alt=\"image-20200404120356784\" /></p>\n<h2 id=\"镜像常用命令\"><a class=\"markdownIt-Anchor\" href=\"#镜像常用命令\"></a> 镜像常用命令</h2>\n<h3 id=\"查看本机中所有镜像\"><a class=\"markdownIt-Anchor\" href=\"#查看本机中所有镜像\"></a> 查看本机中所有镜像</h3>\n<div class=\"tabs\" id=\"images1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images1-1\"><p>命令<code>docker images [镜像名]</code>可查看当前镜像。</p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images1-2\"><ul>\n<li>\n<p><code>-q</code></p>\n<p>只显示镜像id</p>\n</li>\n<li>\n<p><code>-a</code></p>\n<p>列出所有镜像（包含中间映像层）</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"搜索镜像\"><a class=\"markdownIt-Anchor\" href=\"#搜索镜像\"></a> 搜索镜像</h3>\n<div class=\"tabs\" id=\"images-search1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images-search1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-search1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images-search1-1\"><p>命令格式：<code>docker search [options] 镜像名</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-search1-2\"><ul>\n<li>\n<p><code>-s</code></p>\n<p>列出收藏数不少于指定值的镜像</p>\n</li>\n<li>\n<p><code>--no-trunc</code></p>\n<p>显示完整的镜像信息</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"从仓库下载镜像\"><a class=\"markdownIt-Anchor\" href=\"#从仓库下载镜像\"></a> 从仓库下载镜像</h3>\n<div class=\"tabs\" id=\"images-pull1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images-pull1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-pull1-2\">参数</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images-pull1-1\"><p>命令格式：<code>docker pull 镜像名[:TAG|@DIGEST]</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-pull1-2\"><p>可以指定TAG或者DIGEST</p>\n<ul>\n<li>\n<p>TAG</p>\n<p>标签名</p>\n</li>\n<li>\n<p>DIGEST</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"删除镜像\"><a class=\"markdownIt-Anchor\" href=\"#删除镜像\"></a> 删除镜像</h3>\n<div class=\"tabs\" id=\"images-rmi1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images-rmi1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-rmi1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images-rmi1-1\"><p>命令格式：<code>docker rmi 镜像名</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-rmi1-2\"><p>可以指定TAG或者DIGEST</p>\n<ul>\n<li>\n<p><code>-f</code></p>\n<p>强制删除</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h2 id=\"容器常用命令\"><a class=\"markdownIt-Anchor\" href=\"#容器常用命令\"></a> 容器常用命令</h2>\n<h3 id=\"运行容器\"><a class=\"markdownIt-Anchor\" href=\"#运行容器\"></a> 运行容器</h3>\n<div class=\"tabs\" id=\"docker-run1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#docker-run1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#docker-run1-2\">选项</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#docker-run1-3\">示例</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"docker-run1-1\"><p>镜像名新建并启动容器</p>\n<p>命令格式：<code>docker run [选项] 镜像名</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"docker-run1-2\"><ul>\n<li>\n<p><code>--name</code></p>\n<p>别名为容器起一个名字</p>\n</li>\n<li>\n<p><code>-d</code></p>\n<p>启动守护式容器（在后台启动容器）</p>\n</li>\n<li>\n<p><code>-p</code></p>\n<p>映射端口号：原始端口号\t\t 指定端口号启动</p>\n</li>\n<li>\n<p><code>--network</code></p>\n<p>指定使用的网桥</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"docker-run1-3\"><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker run -it --name myTomcat -p 8888:8080 tomcat\n\ndocker run -d --name myTomcat -P tomcat<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"查看运行的容器\"><a class=\"markdownIt-Anchor\" href=\"#查看运行的容器\"></a> 查看运行的容器</h3>\n<div class=\"tabs\" id=\"docker-ps1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#docker-ps1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#docker-ps1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"docker-ps1-1\"><p>列出所有正在运行的容器，命令格式：<code>docker ps</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"docker-ps1-2\"><ul>\n<li>\n<p><code>-a</code></p>\n<p>正在运行的和历史运行过的容器</p>\n</li>\n<li>\n<p><code>-q</code></p>\n<p>静默模式，只显示容器编号</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"停止关闭重启容器\"><a class=\"markdownIt-Anchor\" href=\"#停止关闭重启容器\"></a> 停止|关闭|重启容器</h3>\n<ul>\n<li>\n<p>开启容器</p>\n<p><code>docker start 容器名字或者容器id</code></p>\n</li>\n<li>\n<p>重启容器</p>\n<p><code>docker restart 容器名或者容器id</code></p>\n</li>\n<li>\n<p>正常停止容器运行</p>\n<p><code>docker stop 容器名或者容器id</code></p>\n</li>\n<li>\n<p>立即停止容器运行</p>\n<p><code>docker kill 容器名或者容器id</code></p>\n</li>\n</ul>\n<h3 id=\"删除容器\"><a class=\"markdownIt-Anchor\" href=\"#删除容器\"></a> 删除容器</h3>\n<ul>\n<li>\n<p>删除单个容器</p>\n<p><code>docker rm -f 容器id和容器名</code></p>\n</li>\n<li>\n<p>删除所有容器</p>\n<p><code>docker rm -f $(docker ps -aq)</code></p>\n</li>\n</ul>\n<h3 id=\"查看容器内进程\"><a class=\"markdownIt-Anchor\" href=\"#查看容器内进程\"></a> 查看容器内进程</h3>\n<p><code>docker top 容器id或者容器名</code></p>\n<h3 id=\"查看容器内部细节\"><a class=\"markdownIt-Anchor\" href=\"#查看容器内部细节\"></a> 查看容器内部细节</h3>\n<p><code>docker inspect 容器id</code></p>\n<h3 id=\"查看容器运行日志\"><a class=\"markdownIt-Anchor\" href=\"#查看容器运行日志\"></a> 查看容器运行日志</h3>\n<div class=\"tabs\" id=\"docker-logs1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#docker-logs1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#docker-logs1-2\">选项</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"docker-logs1-1\"><p>命令格式：<code>docker logs [OPTIONS] 容器id或容器名</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"docker-logs1-2\"><ul>\n<li>\n<p><code>-t</code></p>\n<p>加入时间戳</p>\n</li>\n<li>\n<p><code>-f</code></p>\n<p>跟随最新的日志打印</p>\n</li>\n<li>\n<p><code>--tail</code></p>\n<p>数字\t显示最后多少条</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"进入容器内部\"><a class=\"markdownIt-Anchor\" href=\"#进入容器内部\"></a> 进入容器内部</h3>\n<div class=\"tabs\" id=\"images-ps1\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#images-ps1-1\">命令</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-ps1-2\">选项</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#images-ps1-3\">示例</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"images-ps1-1\"><p>命令格式：<code>docker exec [options] 容器id 容器内命令</code></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-ps1-2\"><ul>\n<li>\n<p><code>-i</code></p>\n<p>以交互模式运行容器，通常与-t一起使用</p>\n</li>\n<li>\n<p><code>-t</code></p>\n<p>分配一个伪终端    shell窗口   bash</p>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"images-ps1-3\"><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<h3 id=\"容器和宿主机之间复制文件\"><a class=\"markdownIt-Anchor\" href=\"#容器和宿主机之间复制文件\"></a> 容器和宿主机之间复制文件</h3>\n<ul>\n<li>\n<p>将宿主机复制到容器内部</p>\n<p><code>docker cp 文件|目录 容器id:容器路径</code></p>\n</li>\n<li>\n<p>将容器内资源拷贝到主机上</p>\n<p><code>docker cp 容器id:容器内资源路径 宿主机目录路径</code></p>\n</li>\n</ul>\n<h3 id=\"数据卷volum实现与宿主机共享目录\"><a class=\"markdownIt-Anchor\" href=\"#数据卷volum实现与宿主机共享目录\"></a> 数据卷（volum）实现与宿主机共享目录</h3>\n<p>命令：<code>docker run -v 宿主机的路径|任意别名:/容器内的路径 镜像名</code>，宿主机与容器文件是互通的。</p>\n<p><code>docker run -v 宿主机的路径|任意别名:/容器内的路径:ro 镜像名</code>，容器机不能修改宿主机的文件内容。</p>\n<div class=\"note danger flat\"><ul>\n<li>如果是宿主机路径必须是绝对路径,宿主机目录会覆盖容器内目录内容</li>\n<li>如果是别名则会在docker运行容器时自动在宿主机中创建一个目录,并将容器目录文件复制到宿主机中</li>\n</ul>\n</div>\n<h3 id=\"打包镜像\"><a class=\"markdownIt-Anchor\" href=\"#打包镜像\"></a> 打包镜像</h3>\n<p>命令：<code>docker save 镜像名:tag -o 名称.tar</code></p>\n<h3 id=\"载入镜像\"><a class=\"markdownIt-Anchor\" href=\"#载入镜像\"></a> 载入镜像</h3>\n<p>命令：<code>docker load -i 名称.tar</code></p>\n<h3 id=\"容器打包成新的镜像\"><a class=\"markdownIt-Anchor\" href=\"#容器打包成新的镜像\"></a> 容器打包成新的镜像</h3>\n<p>命令：<code>docker commit -m &quot;描述信息&quot; -a &quot;作者信息&quot; （容器id或者名称）打包的镜像名称:标签</code></p>\n","categories":[{"name":"Docker","path":"api/categories/Docker.json"}],"tags":[{"name":"Docker","path":"api/tags/Docker.json"}]}