{"title":"5、VUE中的组件","slug":"日常学习/技术相关/Vue/开课吧/5、VUE中的组件","date":"2020-11-03T07:11:25.000Z","updated":"2022-02-21T13:24:30.868Z","comments":true,"path":"api/articles/日常学习/技术相关/Vue/开课吧/5、VUE中的组件.json","excerpt":null,"covers":["https://rmt.ladydaily.com/fetch/tzk/storage/20201104080710.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201104081344.png","https://rmt.ladydaily.com/fetch/tzk/storage/20201104090906.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20201104091507.png?w=1280&amp;fmt=jpg"],"content":"<h2 id=\"组件\"><a class=\"markdownIt-Anchor\" href=\"#组件\"></a> 组件</h2>\n<p>组件就是可复用的单元模块。</p>\n<p>组件的data部分是一个函数，返回值是一个对象，在这个对象中传递要传递的值。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'组件名称'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>组件选项<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>组件名称遵循自定义组件命名规范：全小写、连字符（虽然驼峰式一般也没问题）</li>\n<li>组件选项与 <code>new Vue</code> 选项配置基本一致（也有一些细节的不同）</li>\n</ul>\n<p>全局组件通过<code>Vue</code>对象进行创建，局部组件通过在组件的内部属性<code>components</code>创建。</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  \t<span class=\"token string\">'组件名称'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>组件选项<span class=\"token punctuation\">&#125;</span>\t\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"data\"><a class=\"markdownIt-Anchor\" href=\"#data\"></a> data</h3>\n<p>在非 <code>new Vue</code> 的组件中，<code>data</code> 必须为函数，函数返回值必须是一个对象，作为组件的最终 <code>data</code></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">components<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token string\">'xk-circle'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>pi<span class=\"token operator\">:</span> <span class=\"token number\">3.14</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"props\"><a class=\"markdownIt-Anchor\" href=\"#props\"></a> props</h3>\n<p>组件中内部私有数据存储中组件 <code>data</code> 中，通过外部传入的数据，则通过 <code>props</code> 选项接收</p>\n<ul>\n<li>如果传入的 <code>props</code> 值为一个表达式，则必须使用 <code>v-bind</code></li>\n<li>组件中的 <code>data</code> 和 <code>props</code> 数据都可以通过组件实例进行直接访问</li>\n<li><code>data</code> 中的 <code>key</code> 与 <code>props</code> 中的 <code>key</code> 不能冲突</li>\n</ul>\n<h2 id=\"组件间的通信\"><a class=\"markdownIt-Anchor\" href=\"#组件间的通信\"></a> 组件间的通信</h2>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201104080710.png\" alt=\"image-20201104080703036\" /></p>\n<h3 id=\"父组件向子组件传值\"><a class=\"markdownIt-Anchor\" href=\"#父组件向子组件传值\"></a> 父组件向子组件传值</h3>\n<p>父组件向子组件传值使用<code>props</code>即可。</p>\n<p>子组件通过<code>props</code>属性接收外部传来的值（即父组件传来的值）</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'menu-item'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'title'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n            msg<span class=\"token operator\">:</span> <span class=\"token string\">'子组件'</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;div>&#123;&#123;msg&#125;&#125;---&#123;&#123;title&#125;&#125;&lt;/div>'</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> vm <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    el<span class=\"token operator\">:</span> <span class=\"token string\">'#app'</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        pmsg<span class=\"token operator\">:</span> <span class=\"token string\">\"父组件\"</span><span class=\"token punctuation\">,</span>\n        ptitle<span class=\"token operator\">:</span> <span class=\"token string\">'来自父组件的值'</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>传值通过标签属性传值：</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 不使用v-bind绑定，则传递字符串 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>menu-item</span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>来自父组件的值123<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>menu-item</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- 使用v-bind绑定，则传递表达式 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>menu-item</span> <span class=\"token attr-name\">:title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>ptitle<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>menu-item</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- 不传递任何值 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>menu-item</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>menu-item</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201104081344.png\" alt=\"image-20201104081344935\" /></p>\n<h3 id=\"子组件向父组件传值\"><a class=\"markdownIt-Anchor\" href=\"#子组件向父组件传值\"></a> 子组件向父组件传值</h3>\n<p>子组件无法直接向父组件传值（修改父组件的值），因为<code>props</code>是单向数据流。因此父组件向子组件传值需要通过事件触发同值父组件，父组件定义事件来修改值。</p>\n<ol>\n<li>\n<p>定义子组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'menu-item'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'parr'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div>\n&lt;ul>\n&lt;li :key='index' v-for='(item,index) in parr'>&#123;&#123;item&#125;&#125;&lt;/li>\n&lt;/ul>\n&lt;button @click='$emit(\"enlarge-text\",5)'>扩大父组件中字体大小&lt;/button>\n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>为子组件的按钮监听一个点击事件，当点击时触发<strong>自定义事件</strong>并传入5</p>\n</li>\n<li>\n<p>调用组件</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>menu-item</span> <span class=\"token attr-name\">:parr</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>parr<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">@enlarge-text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>handle($event)<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>menu-item</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>为组件绑定自定义事件事件，当事件发生时触发父级修改值的函数，并将<strong>事件对象</strong>传入</p>\n</li>\n<li>\n<p>在父级中定义修改值的函数<code>handle</code></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> vm <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    el<span class=\"token operator\">:</span> <span class=\"token string\">'#app'</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        pmsg<span class=\"token operator\">:</span> <span class=\"token string\">'父组件中内容'</span><span class=\"token punctuation\">,</span>\n        parr<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'apple'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'orange'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'banana'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        fontSize<span class=\"token operator\">:</span> <span class=\"token number\">10</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function-variable function\">handle</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// 扩大字体大小</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fontSize <span class=\"token operator\">+=</span> val<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ol>\n<h3 id=\"组件间传值\"><a class=\"markdownIt-Anchor\" href=\"#组件间传值\"></a> 组件间传值</h3>\n<ol>\n<li>\n<p>开辟一个新的VUE实例</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> hub <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li>\n<p>定义子组件A</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> sona <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;div>\n&lt;p>组件A --- &#123;&#123; msg &#125;&#125;&lt;/p>\n&lt;button @click='change'>按钮&lt;/button>&lt;/div > </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n            msg<span class=\"token operator\">:</span> <span class=\"token string\">'这是组件A的消息'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function-variable function\">change</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            hub<span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'aevent'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'来自A修改的消息'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>为子组件A添加绑定一个事件，当点击按钮时，触发自定义方法change。在change方法中通过触发事件<code>aevent</code>并将值传递过去来修改接下来子组件B的信息</p>\n</li>\n<li>\n<p>定义子组件B</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> sonb <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;div>组件B---&#123;&#123;msg&#125;&#125;&lt;/div></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n            msg<span class=\"token operator\">:</span> <span class=\"token string\">'这是组件B的消息'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">mounted</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        hub<span class=\"token punctuation\">.</span><span class=\"token function\">$on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'aevent'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">val</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>msg <span class=\"token operator\">=</span> val\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>在子组件B中通过<code>mounted</code>监听<code>aevent</code>事件的触发。从而修改子组件B的值。</p>\n</li>\n</ol>\n<h3 id=\"props-验证\"><a class=\"markdownIt-Anchor\" href=\"#props-验证\"></a> props 验证</h3>\n<p>组件的 <code>props</code> 就是组件的参数，为了确保传入的数据在可控的合理范围内，我们需要对传入的 <code>props</code> 的值类型进行必要的验证</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'my-component'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// 基础的类型检查 (`null` 和 `undefined` 会通过任何类型验证)</span>\n        propA<span class=\"token operator\">:</span> Number<span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 多个可能的类型</span>\n        propB<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>String<span class=\"token punctuation\">,</span> Number<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 必填的字符串</span>\n        propC<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n            required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 带有默认值的数字</span>\n        propD<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            type<span class=\"token operator\">:</span> Number<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 带有默认值的对象</span>\n        propE<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            type<span class=\"token operator\">:</span> Object<span class=\"token punctuation\">,</span>\n            <span class=\"token comment\">// 对象或数组默认值必须从一个工厂函数获取</span>\n            <span class=\"token function-variable function\">default</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span> message<span class=\"token operator\">:</span> <span class=\"token string\">'hello'</span> <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 自定义验证函数</span>\n        propF<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function-variable function\">validator</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token comment\">// 这个值必须匹配下列字符串中的一个</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'success'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'warning'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'danger'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"非prop-特性\"><a class=\"markdownIt-Anchor\" href=\"#非prop-特性\"></a> 非prop 特性</h3>\n<p>一个非 <code>prop</code> 特性是指传向一个组件，但是该组件并没有相应 <code>prop</code> 定义的特性，这些 <code>props</code> 会被自动添加到组件的根元素上</p>\n<h2 id=\"组件的双向数据绑定\"><a class=\"markdownIt-Anchor\" href=\"#组件的双向数据绑定\"></a> 组件的双向数据绑定</h2>\n<h3 id=\"v-model\"><a class=\"markdownIt-Anchor\" href=\"#v-model\"></a> v-model</h3>\n<p>为组件定义<code>v-model</code>属性实现双向数据绑定，但<strong>并不推荐这种方法</strong>。因为这种方式进行的双向数据绑定并不明确到底绑定的是什么数据。</p>\n<ol>\n<li>\n<p>定义组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xk-radio'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'checkedValue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    model<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// 要想实现双绑定的属性，比如 checkedValue</span>\n        prop<span class=\"token operator\">:</span> <span class=\"token string\">'checkedValue'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 触发 prop 修改的事件</span>\n        event<span class=\"token operator\">:</span> <span class=\"token string\">'click'</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div\n:class=\"&#123;\n'kkb-radio': true,\n'checked': value === checkedValue\n&#125;\"\n@click=\"check\"\n>\n&#123;&#123;value&#125;&#125;\n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">check</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// 触发一个事件，通过事件去调用父级绑定的函数</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// 这里click与 model设置的event是一致</span>\n            <span class=\"token comment\">// 会自动的把 this.value 更新到  model 中 props 指定的 属性上</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>接下来调用组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>xk<span class=\"token operator\">-</span>radio value<span class=\"token operator\">=</span><span class=\"token string\">\"javascript\"</span> v<span class=\"token operator\">-</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"val\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>xk<span class=\"token operator\">-</span>radio<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>xk<span class=\"token operator\">-</span>radio value<span class=\"token operator\">=</span><span class=\"token string\">\"css\"</span> v<span class=\"token operator\">-</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"val\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>xk<span class=\"token operator\">-</span>radio<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n</ol>\n<h3 id=\"sync\"><a class=\"markdownIt-Anchor\" href=\"#sync\"></a> .sync</h3>\n<p><code>.sync</code>修饰符同样可以做到双向数据绑定，相比于<code>v-model</code>更能直观看到到底绑定的是什么数据。</p>\n<ol>\n<li>\n<p>定义子组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xk-radio'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'checkedValue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div\n:class=\"&#123;\n'xk-radio': true,\n'checked': value === checkedValue\n&#125;\"\n@click=\"check\"\n>\n&#123;&#123;value&#125;&#125;\n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">check</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'update:checkedValue'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>为组件元素添加点击事件，点击时触发<code>check()</code>方法。在这方法中在通过<code>$emit</code>触发事件实现更新。</p>\n<p>这里事件名称要使用 <code>update</code> 加上 <code>prop</code> 名称 的格式。第二个参数即要更新的值。</p>\n</li>\n<li>\n<p>组件调用</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>xk-radio</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:checked-value.sync</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>val<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>xk-radio</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n</ol>\n<h2 id=\"插槽\"><a class=\"markdownIt-Anchor\" href=\"#插槽\"></a> 插槽</h2>\n<p>插槽即组件中传递的值，会自动填充到组件中定义的<code>&lt;slot&gt;&lt;/slot&gt;</code>位置。其中组件的<code>&lt;slot&gt;&lt;/slot&gt;</code>位置也可以传入值，其代表默认内容，也就是没有传值时的内容。</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>alert-box</span><span class=\"token punctuation\">></span></span>有bug发生<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>alert-box</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>alert-box</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>alert-box</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>../js/vue.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n        Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'alert-box'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n            template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div>\n&lt;strong>Error:&lt;strong>\n&lt;slot>默认内容&lt;/slot>    \n        &lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">var</span> vm <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n            el<span class=\"token operator\">:</span> <span class=\"token string\">'#app'</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201104090906.png?w=1280&amp;fmt=jpg\" alt=\"image-20201104090906019\" /></p>\n<h3 id=\"具名插槽\"><a class=\"markdownIt-Anchor\" href=\"#具名插槽\"></a> 具名插槽</h3>\n<p>具名插槽即为插槽定义<code>name</code>属性，当填充时通过<code>name</code>属性确定填充的位置。</p>\n<ol>\n<li>\n<p>组件定义</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base-layout'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div>\n&lt;header>\n&lt;slot name='header'>&lt;/slot>    \n&lt;/header>  \n&lt;main>\n&lt;slot>&lt;/slot>    \n&lt;/main>  \n&lt;footer>\n&lt;slot name='footer'>&lt;/slot>    \n&lt;/footer>  \n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>组件调用</p>\n<p>组件调用填充插槽必须通过<code>template</code>标签。在<code>template</code>标签上定义属性表示将整个<code>template</code>里的内容填充到该名称的插槽内。</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>base-layout</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">v-slot</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>标题<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- 只有这个标签会填充到名称为header插槽内--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>哈哈哈<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- 会填充到默认插槽内--></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>主要内容<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-slot</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>footer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token comment\">&lt;!-- 此标签下的内容会全部填充到名称为footer插槽内--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>尾部<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>尾部哈哈哈哈哈<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- 会填充到默认插槽内--></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>base-layout</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201104091507.png?w=1280&amp;fmt=jpg\" alt=\"image-20201104091507833\" /></p>\n</li>\n</ol>\n<h3 id=\"作用域插槽\"><a class=\"markdownIt-Anchor\" href=\"#作用域插槽\"></a> 作用域插槽</h3>\n<p>对比前面两种插槽，也可以叫它带数据的插槽。作用域插槽要求在<code>slot</code>上面绑定数据。</p>\n<ol>\n<li>\n<p>定义组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fruit-list'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div>\n&lt;li :key='item.id' v-for='item in list'>\n&lt;slot :info='item'>&#123;&#123;item.name&#125;&#125;&lt;/slot>\n&lt;/li>\n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>为插槽绑定了以名为<code>info</code>值为<code>item</code>的数据。</p>\n</li>\n<li>\n<p>调用时获取到数据</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fruit-list</span> <span class=\"token attr-name\">:list</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>list<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-slot</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>slotProps<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>slotProps.info.id==3<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>current<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&#123;&#123;slotProps.info.name&#125;&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span>&#123;&#123;slotProps.info.name&#125;&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span>&#123;&#123;slotProps&#125;&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>fruit-list</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>此时可以在<code>template</code>标签上通过<code>v-slot</code>命令定义一个变量名，这个变量名的值为定义组件时传过来的值。</p>\n</li>\n</ol>\n<h2 id=\"其他\"><a class=\"markdownIt-Anchor\" href=\"#其他\"></a> 其他</h2>\n<h3 id=\"非-prop-特性\"><a class=\"markdownIt-Anchor\" href=\"#非-prop-特性\"></a> 非 prop 特性</h3>\n<p>一个非 <code>prop</code> 特性是指传向一个组件，但是该组件并没有相应 <code>prop</code> 定义的特性，这些 <code>props</code> 会被自动添加到组件的根元素上</p>\n<h3 id=\"替换合并已有的特性\"><a class=\"markdownIt-Anchor\" href=\"#替换合并已有的特性\"></a> 替换/合并已有的特性</h3>\n<p>默认情况下，非<code>prop</code> 特性的属性会覆盖组件根元素上同名的内容，但是针对 <code>style</code> 和 <code>class</code> 有特殊的处理，它们会合并（同名样式还是会覆盖）</p>\n<h3 id=\"禁用特性继承\"><a class=\"markdownIt-Anchor\" href=\"#禁用特性继承\"></a> 禁用特性继承</h3>\n<p>如果你不希望组件的根元素继承特性，你可以在组件的选项中设置 <code>inheritAttrs: false</code>，我们可以通过组件的 <code>this.$attrs</code> 来获取这些属性</p>\n<blockquote>\n<p>注意 <code>inheritAttrs: false</code> 选项<strong>不会</strong>影响 <code>style</code> 和 <code>class</code> 的绑定</p>\n</blockquote>\n","more":"<h2 id=\"组件\"><a class=\"markdownIt-Anchor\" href=\"#组件\"></a> 组件</h2>\n<p>组件就是可复用的单元模块。</p>\n<p>组件的data部分是一个函数，返回值是一个对象，在这个对象中传递要传递的值。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'组件名称'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>组件选项<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<ul>\n<li>组件名称遵循自定义组件命名规范：全小写、连字符（虽然驼峰式一般也没问题）</li>\n<li>组件选项与 <code>new Vue</code> 选项配置基本一致（也有一些细节的不同）</li>\n</ul>\n<p>全局组件通过<code>Vue</code>对象进行创建，局部组件通过在组件的内部属性<code>components</code>创建。</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  \t<span class=\"token string\">'组件名称'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>组件选项<span class=\"token punctuation\">&#125;</span>\t\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"data\"><a class=\"markdownIt-Anchor\" href=\"#data\"></a> data</h3>\n<p>在非 <code>new Vue</code> 的组件中，<code>data</code> 必须为函数，函数返回值必须是一个对象，作为组件的最终 <code>data</code></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">components<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token string\">'xk-circle'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>pi<span class=\"token operator\">:</span> <span class=\"token number\">3.14</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"props\"><a class=\"markdownIt-Anchor\" href=\"#props\"></a> props</h3>\n<p>组件中内部私有数据存储中组件 <code>data</code> 中，通过外部传入的数据，则通过 <code>props</code> 选项接收</p>\n<ul>\n<li>如果传入的 <code>props</code> 值为一个表达式，则必须使用 <code>v-bind</code></li>\n<li>组件中的 <code>data</code> 和 <code>props</code> 数据都可以通过组件实例进行直接访问</li>\n<li><code>data</code> 中的 <code>key</code> 与 <code>props</code> 中的 <code>key</code> 不能冲突</li>\n</ul>\n<h2 id=\"组件间的通信\"><a class=\"markdownIt-Anchor\" href=\"#组件间的通信\"></a> 组件间的通信</h2>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201104080710.png\" alt=\"image-20201104080703036\" /></p>\n<h3 id=\"父组件向子组件传值\"><a class=\"markdownIt-Anchor\" href=\"#父组件向子组件传值\"></a> 父组件向子组件传值</h3>\n<p>父组件向子组件传值使用<code>props</code>即可。</p>\n<p>子组件通过<code>props</code>属性接收外部传来的值（即父组件传来的值）</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'menu-item'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'title'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n            msg<span class=\"token operator\">:</span> <span class=\"token string\">'子组件'</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;div>&#123;&#123;msg&#125;&#125;---&#123;&#123;title&#125;&#125;&lt;/div>'</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> vm <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    el<span class=\"token operator\">:</span> <span class=\"token string\">'#app'</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        pmsg<span class=\"token operator\">:</span> <span class=\"token string\">\"父组件\"</span><span class=\"token punctuation\">,</span>\n        ptitle<span class=\"token operator\">:</span> <span class=\"token string\">'来自父组件的值'</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>传值通过标签属性传值：</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- 不使用v-bind绑定，则传递字符串 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>menu-item</span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>来自父组件的值123<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>menu-item</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- 使用v-bind绑定，则传递表达式 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>menu-item</span> <span class=\"token attr-name\">:title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>ptitle<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>menu-item</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- 不传递任何值 --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>menu-item</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>menu-item</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201104081344.png\" alt=\"image-20201104081344935\" /></p>\n<h3 id=\"子组件向父组件传值\"><a class=\"markdownIt-Anchor\" href=\"#子组件向父组件传值\"></a> 子组件向父组件传值</h3>\n<p>子组件无法直接向父组件传值（修改父组件的值），因为<code>props</code>是单向数据流。因此父组件向子组件传值需要通过事件触发同值父组件，父组件定义事件来修改值。</p>\n<ol>\n<li>\n<p>定义子组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'menu-item'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'parr'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div>\n&lt;ul>\n&lt;li :key='index' v-for='(item,index) in parr'>&#123;&#123;item&#125;&#125;&lt;/li>\n&lt;/ul>\n&lt;button @click='$emit(\"enlarge-text\",5)'>扩大父组件中字体大小&lt;/button>\n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>为子组件的按钮监听一个点击事件，当点击时触发<strong>自定义事件</strong>并传入5</p>\n</li>\n<li>\n<p>调用组件</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>menu-item</span> <span class=\"token attr-name\">:parr</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>parr<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">@enlarge-text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>handle($event)<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>menu-item</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>为组件绑定自定义事件事件，当事件发生时触发父级修改值的函数，并将<strong>事件对象</strong>传入</p>\n</li>\n<li>\n<p>在父级中定义修改值的函数<code>handle</code></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> vm <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n    el<span class=\"token operator\">:</span> <span class=\"token string\">'#app'</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        pmsg<span class=\"token operator\">:</span> <span class=\"token string\">'父组件中内容'</span><span class=\"token punctuation\">,</span>\n        parr<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'apple'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'orange'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'banana'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        fontSize<span class=\"token operator\">:</span> <span class=\"token number\">10</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function-variable function\">handle</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// 扩大字体大小</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fontSize <span class=\"token operator\">+=</span> val<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ol>\n<h3 id=\"组件间传值\"><a class=\"markdownIt-Anchor\" href=\"#组件间传值\"></a> 组件间传值</h3>\n<ol>\n<li>\n<p>开辟一个新的VUE实例</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> hub <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li>\n<p>定义子组件A</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> sona <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;div>\n&lt;p>组件A --- &#123;&#123; msg &#125;&#125;&lt;/p>\n&lt;button @click='change'>按钮&lt;/button>&lt;/div > </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n            msg<span class=\"token operator\">:</span> <span class=\"token string\">'这是组件A的消息'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function-variable function\">change</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            hub<span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'aevent'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'来自A修改的消息'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>为子组件A添加绑定一个事件，当点击按钮时，触发自定义方法change。在change方法中通过触发事件<code>aevent</code>并将值传递过去来修改接下来子组件B的信息</p>\n</li>\n<li>\n<p>定义子组件B</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> sonb <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;div>组件B---&#123;&#123;msg&#125;&#125;&lt;/div></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n            msg<span class=\"token operator\">:</span> <span class=\"token string\">'这是组件B的消息'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">mounted</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        hub<span class=\"token punctuation\">.</span><span class=\"token function\">$on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'aevent'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">val</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>msg <span class=\"token operator\">=</span> val\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>在子组件B中通过<code>mounted</code>监听<code>aevent</code>事件的触发。从而修改子组件B的值。</p>\n</li>\n</ol>\n<h3 id=\"props-验证\"><a class=\"markdownIt-Anchor\" href=\"#props-验证\"></a> props 验证</h3>\n<p>组件的 <code>props</code> 就是组件的参数，为了确保传入的数据在可控的合理范围内，我们需要对传入的 <code>props</code> 的值类型进行必要的验证</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'my-component'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// 基础的类型检查 (`null` 和 `undefined` 会通过任何类型验证)</span>\n        propA<span class=\"token operator\">:</span> Number<span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 多个可能的类型</span>\n        propB<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>String<span class=\"token punctuation\">,</span> Number<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 必填的字符串</span>\n        propC<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n            required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 带有默认值的数字</span>\n        propD<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            type<span class=\"token operator\">:</span> Number<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 带有默认值的对象</span>\n        propE<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            type<span class=\"token operator\">:</span> Object<span class=\"token punctuation\">,</span>\n            <span class=\"token comment\">// 对象或数组默认值必须从一个工厂函数获取</span>\n            <span class=\"token function-variable function\">default</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span> message<span class=\"token operator\">:</span> <span class=\"token string\">'hello'</span> <span class=\"token punctuation\">&#125;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 自定义验证函数</span>\n        propF<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token function-variable function\">validator</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token comment\">// 这个值必须匹配下列字符串中的一个</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'success'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'warning'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'danger'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"非prop-特性\"><a class=\"markdownIt-Anchor\" href=\"#非prop-特性\"></a> 非prop 特性</h3>\n<p>一个非 <code>prop</code> 特性是指传向一个组件，但是该组件并没有相应 <code>prop</code> 定义的特性，这些 <code>props</code> 会被自动添加到组件的根元素上</p>\n<h2 id=\"组件的双向数据绑定\"><a class=\"markdownIt-Anchor\" href=\"#组件的双向数据绑定\"></a> 组件的双向数据绑定</h2>\n<h3 id=\"v-model\"><a class=\"markdownIt-Anchor\" href=\"#v-model\"></a> v-model</h3>\n<p>为组件定义<code>v-model</code>属性实现双向数据绑定，但<strong>并不推荐这种方法</strong>。因为这种方式进行的双向数据绑定并不明确到底绑定的是什么数据。</p>\n<ol>\n<li>\n<p>定义组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xk-radio'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'checkedValue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    model<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// 要想实现双绑定的属性，比如 checkedValue</span>\n        prop<span class=\"token operator\">:</span> <span class=\"token string\">'checkedValue'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 触发 prop 修改的事件</span>\n        event<span class=\"token operator\">:</span> <span class=\"token string\">'click'</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div\n:class=\"&#123;\n'kkb-radio': true,\n'checked': value === checkedValue\n&#125;\"\n@click=\"check\"\n>\n&#123;&#123;value&#125;&#125;\n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">check</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// 触发一个事件，通过事件去调用父级绑定的函数</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// 这里click与 model设置的event是一致</span>\n            <span class=\"token comment\">// 会自动的把 this.value 更新到  model 中 props 指定的 属性上</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>接下来调用组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>xk<span class=\"token operator\">-</span>radio value<span class=\"token operator\">=</span><span class=\"token string\">\"javascript\"</span> v<span class=\"token operator\">-</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"val\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>xk<span class=\"token operator\">-</span>radio<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>xk<span class=\"token operator\">-</span>radio value<span class=\"token operator\">=</span><span class=\"token string\">\"css\"</span> v<span class=\"token operator\">-</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"val\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>xk<span class=\"token operator\">-</span>radio<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n</ol>\n<h3 id=\"sync\"><a class=\"markdownIt-Anchor\" href=\"#sync\"></a> .sync</h3>\n<p><code>.sync</code>修饰符同样可以做到双向数据绑定，相比于<code>v-model</code>更能直观看到到底绑定的是什么数据。</p>\n<ol>\n<li>\n<p>定义子组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xk-radio'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'checkedValue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div\n:class=\"&#123;\n'xk-radio': true,\n'checked': value === checkedValue\n&#125;\"\n@click=\"check\"\n>\n&#123;&#123;value&#125;&#125;\n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">check</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'update:checkedValue'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>为组件元素添加点击事件，点击时触发<code>check()</code>方法。在这方法中在通过<code>$emit</code>触发事件实现更新。</p>\n<p>这里事件名称要使用 <code>update</code> 加上 <code>prop</code> 名称 的格式。第二个参数即要更新的值。</p>\n</li>\n<li>\n<p>组件调用</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>xk-radio</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:checked-value.sync</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>val<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>xk-radio</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n</ol>\n<h2 id=\"插槽\"><a class=\"markdownIt-Anchor\" href=\"#插槽\"></a> 插槽</h2>\n<p>插槽即组件中传递的值，会自动填充到组件中定义的<code>&lt;slot&gt;&lt;/slot&gt;</code>位置。其中组件的<code>&lt;slot&gt;&lt;/slot&gt;</code>位置也可以传入值，其代表默认内容，也就是没有传值时的内容。</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>alert-box</span><span class=\"token punctuation\">></span></span>有bug发生<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>alert-box</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>alert-box</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>alert-box</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>../js/vue.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n        Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'alert-box'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n            template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div>\n&lt;strong>Error:&lt;strong>\n&lt;slot>默认内容&lt;/slot>    \n        &lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">var</span> vm <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n            el<span class=\"token operator\">:</span> <span class=\"token string\">'#app'</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201104090906.png?w=1280&amp;fmt=jpg\" alt=\"image-20201104090906019\" /></p>\n<h3 id=\"具名插槽\"><a class=\"markdownIt-Anchor\" href=\"#具名插槽\"></a> 具名插槽</h3>\n<p>具名插槽即为插槽定义<code>name</code>属性，当填充时通过<code>name</code>属性确定填充的位置。</p>\n<ol>\n<li>\n<p>组件定义</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base-layout'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div>\n&lt;header>\n&lt;slot name='header'>&lt;/slot>    \n&lt;/header>  \n&lt;main>\n&lt;slot>&lt;/slot>    \n&lt;/main>  \n&lt;footer>\n&lt;slot name='footer'>&lt;/slot>    \n&lt;/footer>  \n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>组件调用</p>\n<p>组件调用填充插槽必须通过<code>template</code>标签。在<code>template</code>标签上定义属性表示将整个<code>template</code>里的内容填充到该名称的插槽内。</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>base-layout</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">v-slot</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>标题<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- 只有这个标签会填充到名称为header插槽内--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>哈哈哈<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- 会填充到默认插槽内--></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>主要内容<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-slot</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>footer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token comment\">&lt;!-- 此标签下的内容会全部填充到名称为footer插槽内--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>尾部<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>尾部哈哈哈哈哈<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token comment\">&lt;!-- 会填充到默认插槽内--></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>base-layout</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20201104091507.png?w=1280&amp;fmt=jpg\" alt=\"image-20201104091507833\" /></p>\n</li>\n</ol>\n<h3 id=\"作用域插槽\"><a class=\"markdownIt-Anchor\" href=\"#作用域插槽\"></a> 作用域插槽</h3>\n<p>对比前面两种插槽，也可以叫它带数据的插槽。作用域插槽要求在<code>slot</code>上面绑定数据。</p>\n<ol>\n<li>\n<p>定义组件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fruit-list'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n&lt;div>\n&lt;li :key='item.id' v-for='item in list'>\n&lt;slot :info='item'>&#123;&#123;item.name&#125;&#125;&lt;/slot>\n&lt;/li>\n&lt;/div>\n</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>为插槽绑定了以名为<code>info</code>值为<code>item</code>的数据。</p>\n</li>\n<li>\n<p>调用时获取到数据</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fruit-list</span> <span class=\"token attr-name\">:list</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>list<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-slot</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>slotProps<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>slotProps.info.id==3<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>current<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&#123;&#123;slotProps.info.name&#125;&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span>&#123;&#123;slotProps.info.name&#125;&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span>&#123;&#123;slotProps&#125;&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>fruit-list</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>此时可以在<code>template</code>标签上通过<code>v-slot</code>命令定义一个变量名，这个变量名的值为定义组件时传过来的值。</p>\n</li>\n</ol>\n<h2 id=\"其他\"><a class=\"markdownIt-Anchor\" href=\"#其他\"></a> 其他</h2>\n<h3 id=\"非-prop-特性\"><a class=\"markdownIt-Anchor\" href=\"#非-prop-特性\"></a> 非 prop 特性</h3>\n<p>一个非 <code>prop</code> 特性是指传向一个组件，但是该组件并没有相应 <code>prop</code> 定义的特性，这些 <code>props</code> 会被自动添加到组件的根元素上</p>\n<h3 id=\"替换合并已有的特性\"><a class=\"markdownIt-Anchor\" href=\"#替换合并已有的特性\"></a> 替换/合并已有的特性</h3>\n<p>默认情况下，非<code>prop</code> 特性的属性会覆盖组件根元素上同名的内容，但是针对 <code>style</code> 和 <code>class</code> 有特殊的处理，它们会合并（同名样式还是会覆盖）</p>\n<h3 id=\"禁用特性继承\"><a class=\"markdownIt-Anchor\" href=\"#禁用特性继承\"></a> 禁用特性继承</h3>\n<p>如果你不希望组件的根元素继承特性，你可以在组件的选项中设置 <code>inheritAttrs: false</code>，我们可以通过组件的 <code>this.$attrs</code> 来获取这些属性</p>\n<blockquote>\n<p>注意 <code>inheritAttrs: false</code> 选项<strong>不会</strong>影响 <code>style</code> 和 <code>class</code> 的绑定</p>\n</blockquote>\n","categories":[{"name":"Vue","path":"api/categories/Vue.json"},{"name":"开课吧","path":"api/categories/开课吧.json"}],"tags":[{"name":"Vue","path":"api/tags/Vue.json"}]}