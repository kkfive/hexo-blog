{"title":"二、玩转Git三剑客-独自使用Git时的常见场景","slug":"日常学习/Git/玩转git三剑客/2. 独自使用Git时的常见场景","date":"2020-08-16T00:40:00.000Z","updated":"2022-02-21T05:08:50.398Z","comments":true,"path":"api/articles/日常学习/Git/玩转git三剑客/2. 独自使用Git时的常见场景.json","excerpt":null,"covers":["https://rmt.ladydaily.com/fetch/tzk/storage/20200816085618.png?w=1280&amp;fmt=jpg","https://rmt.ladydaily.com/fetch/tzk/storage/20200816085726.png?w=1280&amp;fmt=jpg","https://files.alexhchu.com/2020/08/16/96ff67dcd19b8.png","https://files.alexhchu.com/2020/08/16/be927b7c62f6b.png","https://files.alexhchu.com/2020/08/16/c8e8b45886e72.png","https://files.alexhchu.com/2020/08/16/495c682ceea22.png","https://files.alexhchu.com/2020/08/16/423311efe1bfc.png","https://files.alexhchu.com/2020/08/16/80aa8419be40a.png","https://files.alexhchu.com/2020/08/16/e810c5b329e56.png","https://files.alexhchu.com/2020/08/16/7e63e99b53d38.png","https://files.alexhchu.com/2020/08/16/71746690439ed.png","https://files.alexhchu.com/2020/08/16/501f6c559520e.png","https://files.alexhchu.com/2020/08/16/47584a06c3d9f.png","https://files.alexhchu.com/2020/08/16/95b9fe4964353.png","https://files.alexhchu.com/2020/08/16/53566dfb1d437.png","https://files.alexhchu.com/2020/08/16/dc0204557fab3.png","https://files.alexhchu.com/2020/08/16/89be16a799d88.png","https://files.alexhchu.com/2020/08/16/d50904403c1b1.png","https://files.alexhchu.com/2020/08/16/9182c9ca5f58a.png","https://files.alexhchu.com/2020/08/16/277c9346c07d6.png"],"content":"<h2 id=\"删除不需要的分支\"><a class=\"markdownIt-Anchor\" href=\"#删除不需要的分支\"></a> 删除不需要的分支</h2>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> branch -d 分支名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果你需要删除的分支没有被合并到其他分支，那么需要使用<code>-D</code>参数进行强制删除。</p>\n<h2 id=\"commit\"><a class=\"markdownIt-Anchor\" href=\"#commit\"></a> commit</h2>\n<h3 id=\"修改最新commit的message\"><a class=\"markdownIt-Anchor\" href=\"#修改最新commit的message\"></a> 修改最新commit的message</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> commit --amend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>以上命令即可修改最近一次提交的commit。</p>\n<h3 id=\"修改老旧commit的message\"><a class=\"markdownIt-Anchor\" href=\"#修改老旧commit的message\"></a> 修改老旧commit的message</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i commit的父哈希值<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20200816085618.png?w=1280&amp;fmt=jpg\" alt=\"image-20200816085610982\" /></p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20200816085726.png?w=1280&amp;fmt=jpg\" alt=\"image-20200816085726114\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/96ff67dcd19b8.png\" alt=\"image-20200816085749995\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/be927b7c62f6b.png\" alt=\"image-20200816090025009\" /></p>\n<p>退出编辑命令的窗口后，即可进入编辑commit的窗口。在此编辑即可。</p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/c8e8b45886e72.png\" alt=\"image-20200816090139417\" /></p>\n<blockquote>\n<p>如果已经上传到服务器，不要轻易变更，否则会影响其他成员操作。</p>\n</blockquote>\n<h3 id=\"把连续的多个commit整理成1个\"><a class=\"markdownIt-Anchor\" href=\"#把连续的多个commit整理成1个\"></a> 把连续的多个commit整理成1个</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i commit的父哈希值\n<span class=\"token comment\"># 然后将需要合并的改为s。</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/495c682ceea22.png\" alt=\"image-20200816100036399\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/423311efe1bfc.png\" alt=\"image-20200816100318628\" /></p>\n<h3 id=\"把间隔的几个commit整理成一个\"><a class=\"markdownIt-Anchor\" href=\"#把间隔的几个commit整理成一个\"></a> 把间隔的几个commit整理成一个</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i commit的父哈希值<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>进入编辑页面后，将需要合并的写在一起。如果没有自动出现则手动键入即可。需要删除的使用<code>s</code>命令，保留的使用<code>pick</code>。例如合并第一个和第三个commit：</p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/80aa8419be40a.png\" alt=\"image-20200816102014885\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/e810c5b329e56.png\" alt=\"image-20200816101945204\" /></p>\n<p>接下来通过<code>git rebase --continue</code>修改最新的commit。</p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/7e63e99b53d38.png\" alt=\"image-20200816102335614\" /></p>\n<h2 id=\"head-暂存区-工作区\"><a class=\"markdownIt-Anchor\" href=\"#head-暂存区-工作区\"></a> HEAD、暂存区、工作区</h2>\n<h3 id=\"比较暂存区和head所含文件的差异\"><a class=\"markdownIt-Anchor\" href=\"#比较暂存区和head所含文件的差异\"></a> 比较暂存区和HEAD所含文件的差异</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">diff</span> --cached<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/71746690439ed.png\" alt=\"image-20200816103453733\" /></p>\n<h3 id=\"比较工作区和暂存区所含文件的差异\"><a class=\"markdownIt-Anchor\" href=\"#比较工作区和暂存区所含文件的差异\"></a> 比较工作区和暂存区所含文件的差异</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 比较全部文件差异</span>\n<span class=\"token function\">git</span> <span class=\"token function\">diff</span> \n<span class=\"token comment\"># 只比较c.js文件之间的差异</span>\n<span class=\"token function\">git</span> <span class=\"token function\">diff</span> -- c.js<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/501f6c559520e.png\" alt=\"image-20200816103933573\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/47584a06c3d9f.png\" alt=\"image-20200816104036648\" /></p>\n<h3 id=\"让暂存区恢复成和head的一样\"><a class=\"markdownIt-Anchor\" href=\"#让暂存区恢复成和head的一样\"></a> 让暂存区恢复成和HEAD的一样</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset HEAD<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/95b9fe4964353.png\" alt=\"image-20200816104318038\" /></p>\n<h3 id=\"让工作区的文件恢复为和暂存区一样\"><a class=\"markdownIt-Anchor\" href=\"#让工作区的文件恢复为和暂存区一样\"></a> 让工作区的文件恢复为和暂存区一样</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout -- filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/53566dfb1d437.png\" alt=\"image-20200816104632116\" /></p>\n<h3 id=\"取消暂存区部分文件的更改\"><a class=\"markdownIt-Anchor\" href=\"#取消暂存区部分文件的更改\"></a> 取消暂存区部分文件的更改</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset HEAD -- fileName1 fileName2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/dc0204557fab3.png\" alt=\"image-20200816105421382\" /></p>\n<h3 id=\"清除最近的几次提交\"><a class=\"markdownIt-Anchor\" href=\"#清除最近的几次提交\"></a> 清除最近的几次提交</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset --hard 哈希值<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>这条指令导致在这之前的变更全部丢弃。</p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/89be16a799d88.png\" alt=\"image-20200816105810536\" /></p>\n<h3 id=\"看看不同提交的指定文件的差异\"><a class=\"markdownIt-Anchor\" href=\"#看看不同提交的指定文件的差异\"></a> 看看不同提交的指定文件的差异</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">diff</span> 分支1 分支2 <span class=\"token punctuation\">[</span>-- 文件名<span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># 分支可换成提交的哈希值,文件名如果不写，那么表示比较全部</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/d50904403c1b1.png\" alt=\"image-20200816111117136\" /></p>\n<h3 id=\"正确删除文件的方法\"><a class=\"markdownIt-Anchor\" href=\"#正确删除文件的方法\"></a> 正确删除文件的方法</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">rm</span> fileName<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/9182c9ca5f58a.png\" alt=\"image-20200816111333065\" /></p>\n<h3 id=\"开发中临时加塞了紧急任务处理暂存\"><a class=\"markdownIt-Anchor\" href=\"#开发中临时加塞了紧急任务处理暂存\"></a> 开发中临时加塞了紧急任务处理（暂存）</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 将当前状态暂存起来</span>\n<span class=\"token function\">git</span> stash\n<span class=\"token comment\"># 将之前的暂存信息弹出来，并会保存暂存队列</span>\n<span class=\"token function\">git</span> stash apply\n<span class=\"token comment\"># 将之前的暂存信息弹出来，不保存暂存队列</span>\n<span class=\"token function\">git</span> stash pop\n<span class=\"token comment\"># 查看暂存队列</span>\n<span class=\"token function\">git</span> stash list<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"指定不需要git管理的文件\"><a class=\"markdownIt-Anchor\" href=\"#指定不需要git管理的文件\"></a> 指定不需要git管理的文件</h2>\n<p>新建一个<code>.gitignore</code>文件即可。参考：<a href=\"https://github.com/github/gitignore\">gitignore</a></p>\n<pre class=\"line-numbers language-ini\" data-language=\"ini\"><code class=\"language-ini\"><span class=\"token comment\"># 忽略doc里面的文件</span>\ndoc/\n<span class=\"token comment\"># 忽略doc文件（夹）及下面文件</span>\ndoc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"如何将git仓库备份到本地\"><a class=\"markdownIt-Anchor\" href=\"#如何将git仓库备份到本地\"></a> 如何将Git仓库备份到本地</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">常用协议</th>\n<th style=\"text-align:center\">语法格式</th>\n<th style=\"text-align:center\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">本地协议（1）</td>\n<td style=\"text-align:center\"><code>/path/to/repo.git</code></td>\n<td style=\"text-align:center\">哑协议</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">本地协议（2）</td>\n<td style=\"text-align:center\"><code>file:///path/to/repo.git</code></td>\n<td style=\"text-align:center\">智能协议</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">http/https协议</td>\n<td style=\"text-align:center\"><code>http://git-server.com:port/path/to/repo.git</code><br /><code>https://git-server.com:port/path/to/repo.git</code></td>\n<td style=\"text-align:center\">平时接触到的都是智能协议</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ssh协议</td>\n<td style=\"text-align:center\"><code>user@git-server.com:path/to/repo.git</code></td>\n<td style=\"text-align:center\">⼯工作中最常⽤用的智能协议</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>哑协议与智能协议</p>\n<p>直观区别： 哑协议传输进度不不可⻅见；智能协议传输可⻅见。<br />\n传输速度： 智能协议⽐比哑协议传输速度快。</p>\n</blockquote>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/277c9346c07d6.png\" alt=\"image-20200816115739966\" /></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 不带工作区</span>\n<span class=\"token function\">git</span> clone --bare 地址 新名称\n<span class=\"token comment\"># 关联远端仓库</span>\n<span class=\"token function\">git</span> remote <span class=\"token function\">add</span> 名称 地址<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n","more":"<h2 id=\"删除不需要的分支\"><a class=\"markdownIt-Anchor\" href=\"#删除不需要的分支\"></a> 删除不需要的分支</h2>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> branch -d 分支名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果你需要删除的分支没有被合并到其他分支，那么需要使用<code>-D</code>参数进行强制删除。</p>\n<h2 id=\"commit\"><a class=\"markdownIt-Anchor\" href=\"#commit\"></a> commit</h2>\n<h3 id=\"修改最新commit的message\"><a class=\"markdownIt-Anchor\" href=\"#修改最新commit的message\"></a> 修改最新commit的message</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> commit --amend<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>以上命令即可修改最近一次提交的commit。</p>\n<h3 id=\"修改老旧commit的message\"><a class=\"markdownIt-Anchor\" href=\"#修改老旧commit的message\"></a> 修改老旧commit的message</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i commit的父哈希值<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20200816085618.png?w=1280&amp;fmt=jpg\" alt=\"image-20200816085610982\" /></p>\n<p><img src=\"https://rmt.ladydaily.com/fetch/tzk/storage/20200816085726.png?w=1280&amp;fmt=jpg\" alt=\"image-20200816085726114\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/96ff67dcd19b8.png\" alt=\"image-20200816085749995\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/be927b7c62f6b.png\" alt=\"image-20200816090025009\" /></p>\n<p>退出编辑命令的窗口后，即可进入编辑commit的窗口。在此编辑即可。</p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/c8e8b45886e72.png\" alt=\"image-20200816090139417\" /></p>\n<blockquote>\n<p>如果已经上传到服务器，不要轻易变更，否则会影响其他成员操作。</p>\n</blockquote>\n<h3 id=\"把连续的多个commit整理成1个\"><a class=\"markdownIt-Anchor\" href=\"#把连续的多个commit整理成1个\"></a> 把连续的多个commit整理成1个</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i commit的父哈希值\n<span class=\"token comment\"># 然后将需要合并的改为s。</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/495c682ceea22.png\" alt=\"image-20200816100036399\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/423311efe1bfc.png\" alt=\"image-20200816100318628\" /></p>\n<h3 id=\"把间隔的几个commit整理成一个\"><a class=\"markdownIt-Anchor\" href=\"#把间隔的几个commit整理成一个\"></a> 把间隔的几个commit整理成一个</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i commit的父哈希值<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>进入编辑页面后，将需要合并的写在一起。如果没有自动出现则手动键入即可。需要删除的使用<code>s</code>命令，保留的使用<code>pick</code>。例如合并第一个和第三个commit：</p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/80aa8419be40a.png\" alt=\"image-20200816102014885\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/e810c5b329e56.png\" alt=\"image-20200816101945204\" /></p>\n<p>接下来通过<code>git rebase --continue</code>修改最新的commit。</p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/7e63e99b53d38.png\" alt=\"image-20200816102335614\" /></p>\n<h2 id=\"head-暂存区-工作区\"><a class=\"markdownIt-Anchor\" href=\"#head-暂存区-工作区\"></a> HEAD、暂存区、工作区</h2>\n<h3 id=\"比较暂存区和head所含文件的差异\"><a class=\"markdownIt-Anchor\" href=\"#比较暂存区和head所含文件的差异\"></a> 比较暂存区和HEAD所含文件的差异</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">diff</span> --cached<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/71746690439ed.png\" alt=\"image-20200816103453733\" /></p>\n<h3 id=\"比较工作区和暂存区所含文件的差异\"><a class=\"markdownIt-Anchor\" href=\"#比较工作区和暂存区所含文件的差异\"></a> 比较工作区和暂存区所含文件的差异</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 比较全部文件差异</span>\n<span class=\"token function\">git</span> <span class=\"token function\">diff</span> \n<span class=\"token comment\"># 只比较c.js文件之间的差异</span>\n<span class=\"token function\">git</span> <span class=\"token function\">diff</span> -- c.js<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/501f6c559520e.png\" alt=\"image-20200816103933573\" /></p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/47584a06c3d9f.png\" alt=\"image-20200816104036648\" /></p>\n<h3 id=\"让暂存区恢复成和head的一样\"><a class=\"markdownIt-Anchor\" href=\"#让暂存区恢复成和head的一样\"></a> 让暂存区恢复成和HEAD的一样</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset HEAD<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/95b9fe4964353.png\" alt=\"image-20200816104318038\" /></p>\n<h3 id=\"让工作区的文件恢复为和暂存区一样\"><a class=\"markdownIt-Anchor\" href=\"#让工作区的文件恢复为和暂存区一样\"></a> 让工作区的文件恢复为和暂存区一样</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout -- filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/53566dfb1d437.png\" alt=\"image-20200816104632116\" /></p>\n<h3 id=\"取消暂存区部分文件的更改\"><a class=\"markdownIt-Anchor\" href=\"#取消暂存区部分文件的更改\"></a> 取消暂存区部分文件的更改</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset HEAD -- fileName1 fileName2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/dc0204557fab3.png\" alt=\"image-20200816105421382\" /></p>\n<h3 id=\"清除最近的几次提交\"><a class=\"markdownIt-Anchor\" href=\"#清除最近的几次提交\"></a> 清除最近的几次提交</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset --hard 哈希值<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>这条指令导致在这之前的变更全部丢弃。</p>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/89be16a799d88.png\" alt=\"image-20200816105810536\" /></p>\n<h3 id=\"看看不同提交的指定文件的差异\"><a class=\"markdownIt-Anchor\" href=\"#看看不同提交的指定文件的差异\"></a> 看看不同提交的指定文件的差异</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">diff</span> 分支1 分支2 <span class=\"token punctuation\">[</span>-- 文件名<span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># 分支可换成提交的哈希值,文件名如果不写，那么表示比较全部</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/d50904403c1b1.png\" alt=\"image-20200816111117136\" /></p>\n<h3 id=\"正确删除文件的方法\"><a class=\"markdownIt-Anchor\" href=\"#正确删除文件的方法\"></a> 正确删除文件的方法</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">rm</span> fileName<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/9182c9ca5f58a.png\" alt=\"image-20200816111333065\" /></p>\n<h3 id=\"开发中临时加塞了紧急任务处理暂存\"><a class=\"markdownIt-Anchor\" href=\"#开发中临时加塞了紧急任务处理暂存\"></a> 开发中临时加塞了紧急任务处理（暂存）</h3>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 将当前状态暂存起来</span>\n<span class=\"token function\">git</span> stash\n<span class=\"token comment\"># 将之前的暂存信息弹出来，并会保存暂存队列</span>\n<span class=\"token function\">git</span> stash apply\n<span class=\"token comment\"># 将之前的暂存信息弹出来，不保存暂存队列</span>\n<span class=\"token function\">git</span> stash pop\n<span class=\"token comment\"># 查看暂存队列</span>\n<span class=\"token function\">git</span> stash list<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"指定不需要git管理的文件\"><a class=\"markdownIt-Anchor\" href=\"#指定不需要git管理的文件\"></a> 指定不需要git管理的文件</h2>\n<p>新建一个<code>.gitignore</code>文件即可。参考：<a href=\"https://github.com/github/gitignore\">gitignore</a></p>\n<pre class=\"line-numbers language-ini\" data-language=\"ini\"><code class=\"language-ini\"><span class=\"token comment\"># 忽略doc里面的文件</span>\ndoc/\n<span class=\"token comment\"># 忽略doc文件（夹）及下面文件</span>\ndoc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"如何将git仓库备份到本地\"><a class=\"markdownIt-Anchor\" href=\"#如何将git仓库备份到本地\"></a> 如何将Git仓库备份到本地</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">常用协议</th>\n<th style=\"text-align:center\">语法格式</th>\n<th style=\"text-align:center\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">本地协议（1）</td>\n<td style=\"text-align:center\"><code>/path/to/repo.git</code></td>\n<td style=\"text-align:center\">哑协议</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">本地协议（2）</td>\n<td style=\"text-align:center\"><code>file:///path/to/repo.git</code></td>\n<td style=\"text-align:center\">智能协议</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">http/https协议</td>\n<td style=\"text-align:center\"><code>http://git-server.com:port/path/to/repo.git</code><br /><code>https://git-server.com:port/path/to/repo.git</code></td>\n<td style=\"text-align:center\">平时接触到的都是智能协议</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ssh协议</td>\n<td style=\"text-align:center\"><code>user@git-server.com:path/to/repo.git</code></td>\n<td style=\"text-align:center\">⼯工作中最常⽤用的智能协议</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>哑协议与智能协议</p>\n<p>直观区别： 哑协议传输进度不不可⻅见；智能协议传输可⻅见。<br />\n传输速度： 智能协议⽐比哑协议传输速度快。</p>\n</blockquote>\n<p><img src=\"https://files.alexhchu.com/2020/08/16/277c9346c07d6.png\" alt=\"image-20200816115739966\" /></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 不带工作区</span>\n<span class=\"token function\">git</span> clone --bare 地址 新名称\n<span class=\"token comment\"># 关联远端仓库</span>\n<span class=\"token function\">git</span> remote <span class=\"token function\">add</span> 名称 地址<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n","categories":[{"name":"Git","path":"api/categories/Git.json"},{"name":"玩转Git三剑客","path":"api/categories/玩转Git三剑客.json"}],"tags":[{"name":"Git","path":"api/tags/Git.json"}]}