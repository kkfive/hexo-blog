<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小康博客</title>
  <icon>https://www.gravatar.com/avatar/d24719e3b7a66cbde951909bac991457</icon>
  <subtitle>每天进步一点点！</subtitle>
  <link href="https://www.antmoe.com/atom.xml" rel="self"/>
  
  <link href="https://www.antmoe.com/"/>
  <updated>2022-03-08T06:47:42.811Z</updated>
  <id>https://www.antmoe.com/</id>
  
  <author>
    <name>DreamyTZK</name>
    <email>dreamytzk@outlook.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>前端Coder手中的Docker</title>
    <link href="https://www.antmoe.com/posts/13d68ef9/"/>
    <id>https://www.antmoe.com/posts/13d68ef9/</id>
    <published>2022-03-05T06:06:00.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://file.acs.pw/picGo/2021/2/28/aa9db60341e31b3f5df4a8b3480c94d1.png" alt="image-20210228175240489" /></p><h2 id="在服务器中安装docker"><a class="markdownIt-Anchor" href="#在服务器中安装docker"></a> 在服务器中安装Docker</h2><p>在测试或开发环境中 Docker 官方为了简化安装流程，提供了一套便捷的安装脚本，CentOS 系统上可以使用这套脚本安装，另外可以通过 <code>--mirror</code> 选项使用国内源进行安装：执行这个命令后，脚本就会自动的将一切准备工作做好，并且把 Docker 的稳定(stable)版本安装在系统中。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> -fsSL get.docker.com -o get-docker.sh<span class="token function">sudo</span> <span class="token function">sh</span> get-docker.sh --mirror Aliyun<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>安装完成后的推荐操作</p><ol><li><p>启动docker</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> docker<span class="token function">sudo</span> systemctl start docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>创建docker用户组</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">groupadd</span> docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>将当前用户加入docker组</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">usermod</span> -aG docker <span class="token environment constant">$USER</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>测试docker安装是否正确</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run hello-world<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h2 id="修改镜像"><a class="markdownIt-Anchor" href="#修改镜像"></a> 修改镜像</h2><ol><li><p>登录<a href="https://cr.console.aliyun.com/?spm=5176.12818093.custom--ali--widget-home-product-recent.dre1.1c8316d0Tujp2R">阿里容器镜像服务</a></p></li><li><p>查看加速地址</p><p><img src="https://file.acs.pw/picGo/2021/2/27/4ee8ed340343e6d5b82db27657dfd308.png" alt="image-20210227190110321" /></p></li><li><p>设置加速服务</p><ul><li><p>创建目录</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>创建文件并写入内容</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'&#123;  "registry-mirrors": ["https://lz2nib3q.mirror.aliyuncs.com"]&#125;EOF</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>重新加载及重启Docker服务</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl daemon-reload<span class="token function">sudo</span> systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul></li><li><p>查看镜像地址</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker info<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h2 id="镜像常用命令"><a class="markdownIt-Anchor" href="#镜像常用命令"></a> 镜像常用命令</h2><h3 id="查看本机中所有镜像"><a class="markdownIt-Anchor" href="#查看本机中所有镜像"></a> 查看本机中所有镜像</h3><div class="tabs" id="images1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#images1-1">命令</button></li><li class="tab"><button type="button" data-href="#images1-2">选项</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="images1-1"><p>命令<code>docker images [镜像名]</code>可查看当前镜像。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="images1-2"><ul><li><p><code>-q</code></p><p>只显示镜像id</p></li><li><p><code>-a</code></p><p>列出所有镜像（包含中间映像层）</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="搜索镜像"><a class="markdownIt-Anchor" href="#搜索镜像"></a> 搜索镜像</h3><div class="tabs" id="images-search1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#images-search1-1">命令</button></li><li class="tab"><button type="button" data-href="#images-search1-2">选项</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="images-search1-1"><p>命令格式：<code>docker search [options] 镜像名</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="images-search1-2"><ul><li><p><code>-s</code></p><p>列出收藏数不少于指定值的镜像</p></li><li><p><code>--no-trunc</code></p><p>显示完整的镜像信息</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="从仓库下载镜像"><a class="markdownIt-Anchor" href="#从仓库下载镜像"></a> 从仓库下载镜像</h3><div class="tabs" id="images-pull1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#images-pull1-1">命令</button></li><li class="tab"><button type="button" data-href="#images-pull1-2">参数</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="images-pull1-1"><p>命令格式：<code>docker pull 镜像名[:TAG|@DIGEST]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="images-pull1-2"><p>可以指定TAG或者DIGEST</p><ul><li><p>TAG</p><p>标签名</p></li><li><p>DIGEST</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="删除镜像"><a class="markdownIt-Anchor" href="#删除镜像"></a> 删除镜像</h3><div class="tabs" id="images-rmi1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#images-rmi1-1">命令</button></li><li class="tab"><button type="button" data-href="#images-rmi1-2">选项</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="images-rmi1-1"><p>命令格式：<code>docker rmi 镜像名</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="images-rmi1-2"><p>可以指定TAG或者DIGEST</p><ul><li><p><code>-f</code></p><p>强制删除</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="容器常用命令"><a class="markdownIt-Anchor" href="#容器常用命令"></a> 容器常用命令</h2><h3 id="运行容器"><a class="markdownIt-Anchor" href="#运行容器"></a> 运行容器</h3><div class="tabs" id="docker-run1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#docker-run1-1">命令</button></li><li class="tab"><button type="button" data-href="#docker-run1-2">选项</button></li><li class="tab"><button type="button" data-href="#docker-run1-3">示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="docker-run1-1"><p>镜像名新建并启动容器</p><p>命令格式：<code>docker run [选项] 镜像名</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="docker-run1-2"><ul><li><p><code>--name</code></p><p>别名为容器起一个名字</p></li><li><p><code>-d</code></p><p>启动守护式容器（在后台启动容器）</p></li><li><p><code>-p</code></p><p>映射端口号：原始端口号 指定端口号启动</p></li><li><p><code>--network</code></p><p>指定使用的网桥</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="docker-run1-3"><pre class="line-numbers language-none"><code class="language-none">docker run -it --name myTomcat -p 8888:8080 tomcatdocker run -d --name myTomcat -P tomcat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="查看运行的容器"><a class="markdownIt-Anchor" href="#查看运行的容器"></a> 查看运行的容器</h3><div class="tabs" id="docker-ps1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#docker-ps1-1">命令</button></li><li class="tab"><button type="button" data-href="#docker-ps1-2">选项</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="docker-ps1-1"><p>列出所有正在运行的容器，命令格式：<code>docker ps</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="docker-ps1-2"><ul><li><p><code>-a</code></p><p>正在运行的和历史运行过的容器</p></li><li><p><code>-q</code></p><p>静默模式，只显示容器编号</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="停止关闭重启容器"><a class="markdownIt-Anchor" href="#停止关闭重启容器"></a> 停止|关闭|重启容器</h3><ul><li><p>开启容器</p><p><code>docker start 容器名字或者容器id</code></p></li><li><p>重启容器</p><p><code>docker restart 容器名或者容器id</code></p></li><li><p>正常停止容器运行</p><p><code>docker stop 容器名或者容器id</code></p></li><li><p>立即停止容器运行</p><p><code>docker kill 容器名或者容器id</code></p></li></ul><h3 id="删除容器"><a class="markdownIt-Anchor" href="#删除容器"></a> 删除容器</h3><ul><li><p>删除单个容器</p><p><code>docker rm -f 容器id和容器名</code></p></li><li><p>删除所有容器</p><p><code>docker rm -f $(docker ps -aq)</code></p></li></ul><h3 id="查看容器内进程"><a class="markdownIt-Anchor" href="#查看容器内进程"></a> 查看容器内进程</h3><p><code>docker top 容器id或者容器名</code></p><h3 id="查看容器内部细节"><a class="markdownIt-Anchor" href="#查看容器内部细节"></a> 查看容器内部细节</h3><p><code>docker inspect 容器id</code></p><h3 id="查看容器运行日志"><a class="markdownIt-Anchor" href="#查看容器运行日志"></a> 查看容器运行日志</h3><div class="tabs" id="docker-logs1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#docker-logs1-1">命令</button></li><li class="tab"><button type="button" data-href="#docker-logs1-2">选项</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="docker-logs1-1"><p>命令格式：<code>docker logs [OPTIONS] 容器id或容器名</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="docker-logs1-2"><ul><li><p><code>-t</code></p><p>加入时间戳</p></li><li><p><code>-f</code></p><p>跟随最新的日志打印</p></li><li><p><code>--tail</code></p><p>数字显示最后多少条</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="进入容器内部"><a class="markdownIt-Anchor" href="#进入容器内部"></a> 进入容器内部</h3><div class="tabs" id="images-ps1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#images-ps1-1">命令</button></li><li class="tab"><button type="button" data-href="#images-ps1-2">选项</button></li><li class="tab"><button type="button" data-href="#images-ps1-3">示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="images-ps1-1"><p>命令格式：<code>docker exec [options] 容器id 容器内命令</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="images-ps1-2"><ul><li><p><code>-i</code></p><p>以交互模式运行容器，通常与-t一起使用</p></li><li><p><code>-t</code></p><p>分配一个伪终端    shell窗口   bash</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="images-ps1-3"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="容器和宿主机之间复制文件"><a class="markdownIt-Anchor" href="#容器和宿主机之间复制文件"></a> 容器和宿主机之间复制文件</h3><ul><li><p>将宿主机复制到容器内部</p><p><code>docker cp 文件|目录 容器id:容器路径</code></p></li><li><p>将容器内资源拷贝到主机上</p><p><code>docker cp 容器id:容器内资源路径 宿主机目录路径</code></p></li></ul><h3 id="数据卷volum实现与宿主机共享目录"><a class="markdownIt-Anchor" href="#数据卷volum实现与宿主机共享目录"></a> 数据卷（volum）实现与宿主机共享目录</h3><p>命令：<code>docker run -v 宿主机的路径|任意别名:/容器内的路径 镜像名</code>，宿主机与容器文件是互通的。</p><p><code>docker run -v 宿主机的路径|任意别名:/容器内的路径:ro 镜像名</code>，容器机不能修改宿主机的文件内容。</p><div class="note danger flat"><ul><li>如果是宿主机路径必须是绝对路径,宿主机目录会覆盖容器内目录内容</li><li>如果是别名则会在docker运行容器时自动在宿主机中创建一个目录,并将容器目录文件复制到宿主机中</li></ul></div><h3 id="打包镜像"><a class="markdownIt-Anchor" href="#打包镜像"></a> 打包镜像</h3><p>命令：<code>docker save 镜像名:tag -o 名称.tar</code></p><h3 id="载入镜像"><a class="markdownIt-Anchor" href="#载入镜像"></a> 载入镜像</h3><p>命令：<code>docker load -i 名称.tar</code></p><h3 id="容器打包成新的镜像"><a class="markdownIt-Anchor" href="#容器打包成新的镜像"></a> 容器打包成新的镜像</h3><p>命令：<code>docker commit -m &quot;描述信息&quot; -a &quot;作者信息&quot; （容器id或者名称）打包的镜像名称:标签</code></p><h2 id="容器间通信"><a class="markdownIt-Anchor" href="#容器间通信"></a> 容器间通信</h2><p>当 Docker 启动时，会自动在主机上创建一个 <code>docker0</code> 虚拟网桥，实际上是 Linux 的一个 bridge，可以理解为一个软件交换机。它会在挂载到它的网口之间进行转发。</p><p>同时，Docker 随机分配一个本地未占用的私有网段（在 <a href="https://tools.ietf.org/html/rfc1918">RFC1918</a> 中定义）中的一个地址给 <code>docker0</code> 接口。比如典型的 <code>172.17.42.1</code>，掩码为 <code>255.255.0.0</code>。此后启动的容器内的网口也会自动分配一个同一网段（<code>172.17.0.0/16</code>）的地址。</p><p>当创建一个 Docker 容器的时候，同时会创建了一对 <code>veth pair</code> 接口（当数据包发送到一个接口时，另外一个接口也可以收到相同的数据包）。这对接口一端在容器内，即 <code>eth0</code>；另一端在本地并被挂载到 <code>docker0</code> 网桥，名称以 <code>veth</code> 开头（例如 <code>vethAQI2QT</code>）。通过这种方式，主机可以跟容器通信，容器之间也可以相互通信。Docker 就创建了在主机和所有容器之间一个虚拟共享网络。</p><p><img src="https://file.acs.pw/picGo/2021/2/28/712de8374224a12e62d7e095803b4d93.png" alt="image-20201125105847896" /></p><h3 id="网桥"><a class="markdownIt-Anchor" href="#网桥"></a> 网桥</h3><ol><li><p>查看默认网桥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker network <span class="token function">ls</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>创建网桥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker network create name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>删除网桥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker network <span class="token function">rm</span> name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>删除没有使用的网桥</p><pre class="line-numbers language-none"><code class="language-none">docker network prune<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h2 id="dockerfile"><a class="markdownIt-Anchor" href="#dockerfile"></a> Dockerfile</h2><p>Dockerfile可以认为是<strong>Docker镜像的描述文件，是由一系列命令和参数构成的脚本</strong>。主要作用是<strong>用来构建docker镜像的构建文件</strong>。</p><p><img src="https://file.acs.pw/picGo/2021/2/28/e4abc84dc8e1f3e59809e40c8eefcda1.png" alt="image-20200404111908085" /></p><p>通过架构图可以看出通过DockerFile可以直接构建镜像</p><p><img src="https://file.acs.pw/picGo/2021/2/28/e4b3efc58f84339e842085b423343229.png" alt="image-20200603181253804" /></p><p>打包字段详情见官方：<a href="https://docs.docker.com/engine/reference/builder/">https://docs.docker.com/engine/reference/builder/</a></p><table><thead><tr><th style="text-align:center">保留字</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><strong>FROM</strong></td><td style="text-align:center"><strong>当前镜像是基于哪个镜像的</strong> <code>第一个指令必须是FROM</code></td></tr><tr><td style="text-align:center"><strong>RUN</strong></td><td style="text-align:center"><strong>构建镜像时需要运行的指令</strong></td></tr><tr><td style="text-align:center"><strong>EXPOSE</strong></td><td style="text-align:center"><strong>当前容器对外暴露出的端口号</strong></td></tr><tr><td style="text-align:center"><strong>WORKDIR</strong></td><td style="text-align:center"><strong>指定在创建容器后，终端默认登录进来的工作目录，一个落脚点</strong></td></tr><tr><td style="text-align:center"><strong>ENV</strong></td><td style="text-align:center"><strong>用来在构建镜像过程中设置环境变量</strong></td></tr><tr><td style="text-align:center"><strong>ADD</strong></td><td style="text-align:center"><strong>将宿主机目录下的文件拷贝进镜像且ADD命令会自动处理URL和解压tar包</strong></td></tr><tr><td style="text-align:center"><strong>COPY</strong></td><td style="text-align:center"><strong>类似于ADD，拷贝文件和目录到镜像中<br/>将从构建上下文目录中&lt;原路径&gt;的文件/目录复制到新的一层的镜像内的&lt;目标路径&gt;位置</strong></td></tr><tr><td style="text-align:center"><strong>VOLUME</strong></td><td style="text-align:center"><strong>容器数据卷，用于数据保存和持久化工作</strong></td></tr><tr><td style="text-align:center"><strong>CMD</strong></td><td style="text-align:center"><strong>指定一个容器启动时要运行的命令<br/>Dockerfile中可以有多个CMD指令，但只有最后一个生效，CMD会被docker run之后的参数替换</strong></td></tr><tr><td style="text-align:center"><strong>ENTRYPOINT</strong></td><td style="text-align:center"><strong>指定一个容器启动时要运行的命令<br/>ENTRYPOINT的目的和CMD一样，都是在指定容器启动程序及其参数</strong></td></tr></tbody></table><h3 id="from-命令"><a class="markdownIt-Anchor" href="#from-命令"></a> FROM 命令</h3><ul><li><p>基于那个镜像进行构建新的镜像,在构建时会自动从docker hub拉取base镜像 必须作为Dockerfile的第一个指令出现</p></li><li><p>语法:</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM  &lt;image&gt;FROM  &lt;image&gt;[:&lt;tag&gt;]     使用版本不写为latestFROM  &lt;image&gt;[@&lt;digest&gt;]  使用摘要<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="run-命令"><a class="markdownIt-Anchor" href="#run-命令"></a> RUN 命令</h3><ul><li><p>RUN指令将在当前映像之上的新层中执行任何命令并提交结果。生成的提交映像将用于Dockerfile中的下一步</p></li><li><p>语法:</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">RUN &lt;command&gt; (shell form, the command is run in a shell, which by default is &#x2F;bin&#x2F;sh -c on Linux or cmd &#x2F;S &#x2F;C on Windows)RUN echo helloRUN [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;] (exec form)RUN [&quot;&#x2F;bin&#x2F;bash&quot;, &quot;-c&quot;, &quot;echo hello&quot;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="expose-命令"><a class="markdownIt-Anchor" href="#expose-命令"></a> EXPOSE 命令</h3><ul><li><p>用来指定构建的镜像在运行为容器时对外暴露的端口</p></li><li><p>语法:</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">EXPOSE 80&#x2F;tcp  如果没有显示指定则默认暴露都是tcpEXPOSE 80&#x2F;udp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h3 id="cmd-命令"><a class="markdownIt-Anchor" href="#cmd-命令"></a> CMD 命令</h3><ul><li><p>用来为启动的容器指定执行的命令,在Dockerfile中只能有一条CMD指令。如果列出多个命令，则只有最后一个命令才会生效。</p></li><li><p>注意: <strong>Dockerfile中只能有一条CMD指令。如果列出多个命令，则只有最后一个命令才会生效。</strong></p></li><li><p>语法:</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">CMD [&quot;executable&quot;,&quot;param1&quot;,&quot;param2&quot;] (exec form, this is the preferred form)CMD [&quot;param1&quot;,&quot;param2&quot;] (as default parameters to ENTRYPOINT)CMD command param1 param2 (shell form)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="workdir-命令"><a class="markdownIt-Anchor" href="#workdir-命令"></a> WORKDIR 命令</h3><ul><li><p>用来为Dockerfile中的任何RUN、CMD、ENTRYPOINT、COPY和ADD指令设置工作目录。如果WORKDIR不存在，即使它没有在任何后续Dockerfile指令中使用，它也将被创建。</p></li><li><p>语法:</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">WORKDIR &#x2F;path&#x2F;to&#x2F;workdirWORKDIR &#x2F;aWORKDIR bWORKDIR c&#96;注意:WORKDIR指令可以在Dockerfile中多次使用。如果提供了相对路径，则该路径将与先前WORKDIR指令的路径相对&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="env-命令"><a class="markdownIt-Anchor" href="#env-命令"></a> ENV 命令</h3><ul><li><p>用来为构建镜像设置环境变量。这个值将出现在构建阶段中所有后续指令的环境中。</p></li><li><p>语法：</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">ENV &lt;key&gt; &lt;value&gt;ENV &lt;key&gt;&#x3D;&lt;value&gt; ...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h3 id="add-命令"><a class="markdownIt-Anchor" href="#add-命令"></a> ADD 命令</h3><ul><li><p>用来从context上下文复制新文件、目录或远程文件url，并将它们添加到位于指定路径的映像文件系统中。</p></li><li><p>语法:</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">ADD hom* &#x2F;mydir&#x2F;       通配符添加多个文件ADD hom?.txt &#x2F;mydir&#x2F;   通配符添加ADD test.txt relativeDir&#x2F;  可以指定相对路径ADD test.txt &#x2F;absoluteDir&#x2F; 也可以指定绝对路径ADD url <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="copy-命令"><a class="markdownIt-Anchor" href="#copy-命令"></a> COPY 命令</h3><ul><li><p>用来将context目录中指定文件复制到镜像的指定目录中</p></li><li><p>语法:</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">COPY src destCOPY [&quot;&lt;src&gt;&quot;,... &quot;&lt;dest&gt;&quot;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h3 id="volume-命令"><a class="markdownIt-Anchor" href="#volume-命令"></a> VOLUME 命令</h3><ul><li><p>用来定义容器运行时可以挂在到宿主机的目录</p></li><li><p>语法:</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">VOLUME [&quot;&#x2F;data&quot;]VOLUME &#x2F;data<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h3 id="entrypoint命令"><a class="markdownIt-Anchor" href="#entrypoint命令"></a> ENTRYPOINT命令</h3><ul><li><p>用来指定容器启动时执行命令和CMD类似</p></li><li><p>语法:</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">  [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]ENTRYPOINT command param1 param2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ENTRYPOINT指令，往往用于设置容器启动后的<strong>第一个命令</strong>，这对一个容器来说往往是固定的。<br />CMD指令，往往用于设置容器启动的第一个命令的<strong>默认参数</strong>，这对一个容器来说可以是变化的。</p></li></ul><h2 id="docker-compose"><a class="markdownIt-Anchor" href="#docker-compose"></a> docker-compose</h2><h4 id="安装与卸载"><a class="markdownIt-Anchor" href="#安装与卸载"></a> 安装与卸载</h4><h4 id="linux系统"><a class="markdownIt-Anchor" href="#linux系统"></a> Linux系统</h4><p>在 Linux 上的也安装十分简单，从 官方 GitHub Release 处直接下载编译好的二进制文件即可。例如，在 Linux 64 位系统上直接下载对应的二进制包。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">curl</span> -L https://github.com/docker/compose/releases/download/1.25.5/docker-compose-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -s<span class="token variable">`</span></span>-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -m<span class="token variable">`</span></span> <span class="token operator">></span> /usr/local/bin/docker-compose<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="linux手动下载"><a class="markdownIt-Anchor" href="#linux手动下载"></a> Linux手动下载</h4><ol><li><p>进入<a href="https://github.com/docker/compose/releases">GitHub</a>下载</p></li><li><p>将文件上传到服务器（Linux机器）</p></li><li><p>将文件放入<code>/usr/local/bin/</code>目录，并改名为<code>docker-compose</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mv</span> docker-compose-Linux-x86_64 /usr/local/bin/docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>为其赋予可执行权限</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h4 id="macos-windows"><a class="markdownIt-Anchor" href="#macos-windows"></a> macos、windows</h4><p>Compose 可以通过 Python 的包管理工具 pip 进行安装，也可以直接下载编译好的二进制文件使用，甚至能够直接在 Docker 容器中运行。<code>Docker Desktop for Mac/Windows 自带 docker-compose 二进制文件，安装 Docker 之后可以直接使用</code>。</p><h4 id="卸载"><a class="markdownIt-Anchor" href="#卸载"></a> 卸载</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">rm</span> /usr/local/bin/docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="文件基本格式"><a class="markdownIt-Anchor" href="#文件基本格式"></a> 文件基本格式</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.2"</span> <span class="token comment"># 官方网址 https://docs.docker.com/compose/compose-file/</span><span class="token key atrule">services</span><span class="token punctuation">:</span>  <span class="token key atrule">tomcat01</span><span class="token punctuation">:</span> <span class="token comment">#服务名称（id）</span>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> tomcat01 <span class="token comment"># 相当于run 的 --name</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> tomcat<span class="token punctuation">:</span>8.0<span class="token punctuation">-</span>jre8 <span class="token comment">#使用哪个镜像  相当于run image</span>    <span class="token key atrule">ports</span><span class="token punctuation">:</span>  <span class="token comment">#用来完成host与容器的端口映射关系  相当于run -p</span>      <span class="token punctuation">-</span> <span class="token string">"8080:8080"</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span> <span class="token comment">#完成宿主机与容器中目录数据卷共享  相当于run -v</span>      <span class="token comment">#- /root/apps:/usr/local/tomcat/webapps #使用自定义路径映射</span>      <span class="token punctuation">-</span> tomcatwebapps01<span class="token punctuation">:</span>/usr/local/tomcat/webapps    <span class="token key atrule">networks</span><span class="token punctuation">:</span> <span class="token comment">#代表当前服务使用哪个网络桥     相当于run --networ</span>      <span class="token punctuation">-</span> hello  <span class="token key atrule">tomcat02</span><span class="token punctuation">:</span> <span class="token comment">#服务名称</span>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> tomcat02    <span class="token key atrule">image</span><span class="token punctuation">:</span> tomcat<span class="token punctuation">:</span>8.0<span class="token punctuation">-</span>jre8 <span class="token comment">#使用哪个镜像</span>    <span class="token key atrule">ports</span><span class="token punctuation">:</span>  <span class="token comment">#用来完成host与容器的端口映射关系</span>      <span class="token punctuation">-</span> <span class="token string">"8081:8080"</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span> <span class="token comment">#完成宿主机与容器中目录数据卷共享</span>      <span class="token comment">#- /root/apps:/usr/local/tomcat/webapps #使用自定义路径映射</span>      <span class="token punctuation">-</span> tomcatwebapps02<span class="token punctuation">:</span>/usr/local/tomcat/webapps    <span class="token key atrule">networks</span><span class="token punctuation">:</span> <span class="token comment">#代表当前服务使用哪个网络桥</span>      <span class="token punctuation">-</span> hello  <span class="token key atrule">mysql</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span>5.7.32    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mysql    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"3307:3306"</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> mysqldata<span class="token punctuation">:</span>/var/lib/mysql      <span class="token punctuation">-</span> mysqlconf<span class="token punctuation">:</span>/etc/mysql    <span class="token key atrule">environment</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> MYSQL_ROOT_PASSWORD=root    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> hello  <span class="token key atrule">redis</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>5.0.10    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> redis    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"6379:6379"</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> redisdata<span class="token punctuation">:</span>/data    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> hello    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token string">"redis-server --appendonly yes"</span> <span class="token comment">#run 镜像之后用来覆盖容器内容默认命令</span><span class="token key atrule">volumes</span><span class="token punctuation">:</span>  <span class="token comment">#声明上面服务所使用的自动创建的卷名</span>  <span class="token key atrule">tomcatwebapps01</span><span class="token punctuation">:</span> <span class="token comment">#声明指令的卷名  compose自动创建该卷名但是会在之前加入项目名</span>    <span class="token key atrule">external</span><span class="token punctuation">:</span>    <span class="token comment">#使用自定义卷名</span>      false       <span class="token comment">#true确定使用指定卷名  注意:一旦使用外部自定义卷名启动服务之前必须手动创建</span>  <span class="token key atrule">tomcatwebapps02</span><span class="token punctuation">:</span>  <span class="token key atrule">mysqldata</span><span class="token punctuation">:</span>  <span class="token key atrule">mysqlconf</span><span class="token punctuation">:</span>  <span class="token key atrule">redisdata</span><span class="token punctuation">:</span><span class="token key atrule">networks</span><span class="token punctuation">:</span> <span class="token comment">#定义服务用到桥</span>  <span class="token key atrule">hello</span><span class="token punctuation">:</span> <span class="token comment">#定义上面的服务用到的网桥名称 默认创建就是 bridge</span>    <span class="token key atrule">external</span><span class="token punctuation">:</span>      <span class="token boolean important">true</span>   <span class="token comment">#使用外部指定网桥  注意:网桥必须存在</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="常用命令"><a class="markdownIt-Anchor" href="#常用命令"></a> 常用命令</h2><p>对于 Compose 来说，大部分命令的对象既可以是项目本身，也可以指定为项目中的服务或者容器。如果没有特别的说明，命令对象将是项目，这意味着项目中所有的服务都会受到命令影响。</p><p>执行 <code>docker-compose [COMMAND] --help</code> 或者 <code>docker-compose help [COMMAND]</code> 可以查看具体某个命令的使用格式。</p><p><code>docker-compose</code> 命令的基本的使用格式是</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker-compose <span class="token punctuation">[</span>-f<span class="token operator">=</span><span class="token operator">&lt;</span>arg<span class="token operator">></span><span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARGS<span class="token punctuation">..</span>.<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="命令选项"><a class="markdownIt-Anchor" href="#命令选项"></a> 命令选项</h3><div class="tabs" id="options"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#options-1">项目、配置文件</button></li><li class="tab"><button type="button" data-href="#options-2">网络特性</button></li><li class="tab"><button type="button" data-href="#options-3">日志输出</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="options-1"><ul><li><p><code>-f, --file FILE</code></p><p>指定使用的 Compose 模板文件，默认为 <code>docker-compose.yml</code>，可以多次指定。</p></li><li><p><code>-p, --project-name NAME</code></p><p>指定项目名称，默认将使用所在目录名称作为项目名。</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="options-2"><ul><li><p><code>--x-networking</code></p><p>使用 Docker 的可拔插网络后端特性</p></li><li><p><code>--x-network-driver DRIVER</code></p><p>指定网络后端的驱动，默认为 <code>bridge</code></p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="options-3"><ul><li><p><code>--verbose</code></p><p>输出更多调试信息。</p></li><li><p><code>-v, --version</code></p><p>打印版本并退出。</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="命令使用说明"><a class="markdownIt-Anchor" href="#命令使用说明"></a> 命令使用说明</h3><h3 id="up"><a class="markdownIt-Anchor" href="#up"></a> up</h3><p>格式为 <code>docker-compose up [options] [SERVICE...]</code>。</p><p>该命令十分强大，它将尝试自动完成包括构建镜像，（重新）创建服务，启动服务，并关联服务相关容器的一系列操作。链接的服务都将会被自动启动，除非已经处于运行状态。可以说，大部分时候都可以直接通过该命令来启动一个项目。</p><blockquote><p>默认情况，<code>docker-compose up</code> 启动的容器都在前台，控制台将会同时打印所有容器的输出信息，可以很方便进行调试。当通过 <code>Ctrl-C</code> 停止命令时，所有容器将会停止。</p><p><em>默认情况，如果服务容器已经存在，<code>docker-compose up</code> 将会尝试停止容器，然后重新创建（保持使用 <code>volumes-from</code> 挂载的卷），以保证新启动的服务匹配 <code>docker-compose.yml</code> 文件的最新内容</em></p><p>如果使用 <code>docker-compose up -d</code>，将会在后台启动并运行所有的容器。一般推荐生产环境下使用该选项。</p></blockquote><h3 id="down"><a class="markdownIt-Anchor" href="#down"></a> down</h3><p>此命令将会停止 <code>up</code> 命令所启动的容器，并移除网络</p><h3 id="exec"><a class="markdownIt-Anchor" href="#exec"></a> exec</h3><p>进入指定的容器。</p><h3 id="ps"><a class="markdownIt-Anchor" href="#ps"></a> ps</h3><p>格式为 <code>docker-compose ps [options] [SERVICE...]</code>。</p><p>列出项目中目前的所有容器。<code>-q</code>可以只打印容器的id信息</p><h3 id="restart"><a class="markdownIt-Anchor" href="#restart"></a> restart</h3><p>格式为 <code>docker-compose restart [options] [SERVICE...]</code>。</p><p>重启项目中的服务。</p><p>选项：</p><ul><li><code>-t, --timeout TIMEOUT</code> 指定重启前停止容器的超时（默认为 10 秒）。</li></ul><h3 id="rm"><a class="markdownIt-Anchor" href="#rm"></a> rm</h3><p>格式为 <code>docker-compose rm [options] [SERVICE...]</code>。</p><p>删除所有（停止状态的）服务容器。推荐先执行 <code>docker-compose stop</code> 命令来停止容器。</p><p>选项：</p><ul><li><code>-f, --force</code> 强制直接删除，包括非停止状态的容器。一般尽量不要使用该选项。</li><li><code>-v</code> 删除容器所挂载的数据卷。</li></ul><h3 id="start"><a class="markdownIt-Anchor" href="#start"></a> start</h3><p>格式为 <code>docker-compose start [SERVICE...]</code>。</p><p>启动已经存在的服务容器。</p><h3 id="stop"><a class="markdownIt-Anchor" href="#stop"></a> stop</h3><p>格式为 <code>docker-compose stop [options] [SERVICE...]</code>。</p><p>停止已经处于运行状态的容器，但不删除它。通过 <code>docker-compose start</code> 可以再次启动这些容器。</p><p>选项：</p><ul><li><code>-t, --timeout TIMEOUT</code> 停止容器时候的超时（默认为 10 秒）。</li></ul><h3 id="top"><a class="markdownIt-Anchor" href="#top"></a> top</h3><p>查看各个服务容器内运行的进程。</p><h3 id="pause"><a class="markdownIt-Anchor" href="#pause"></a> pause</h3><p>格式为 <code>docker-compose pause [SERVICE...]</code>。</p><p>暂停服务</p><h3 id="unpause"><a class="markdownIt-Anchor" href="#unpause"></a> unpause</h3><p>格式为 <code>docker-compose unpause [SERVICE...]</code>。</p><p>恢复处于暂停状态中的服务。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://file.acs.pw/picGo/2021/2/28/aa9db60341e31b3f5df4a8b3480c94d1.png&quot; alt=&quot;image-20210228175240489&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;在服务器中安装d</summary>
      
    
    
    
    <category term="部署与构建" scheme="https://www.antmoe.com/categories/%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%9E%84%E5%BB%BA/"/>
    
    <category term="Docker" scheme="https://www.antmoe.com/categories/%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%9E%84%E5%BB%BA/Docker/"/>
    
    
    <category term="Docker" scheme="https://www.antmoe.com/tags/Docker/"/>
    
    <category term="docker-compose" scheme="https://www.antmoe.com/tags/docker-compose/"/>
    
  </entry>
  
  <entry>
    <title>面向Coding的Git</title>
    <link href="https://www.antmoe.com/posts/f59ea689/"/>
    <id>https://www.antmoe.com/posts/f59ea689/</id>
    <published>2022-03-02T03:06:00.000Z</published>
    <updated>2022-03-08T06:47:42.807Z</updated>
    
    <content type="html"><![CDATA[<h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><p>此篇文章记录在日常 coding 的操作以及一些必要的 git 概念</p><h2 id="git的初始化设置"><a class="markdownIt-Anchor" href="#git的初始化设置"></a> git的初始化设置</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config --global user.name <span class="token string">"Your Name"</span><span class="token function">git</span> config --global user.email <span class="token string">"email@example.com"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>config的三个作用域,缺省等同于<code>local</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config --local <span class="token comment">## local只对某个仓库有效</span><span class="token function">git</span> config --global <span class="token comment">## global对当前用户所有仓库有效</span><span class="token function">git</span> config --system <span class="token comment">## system对系统所有登录的用户有效</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>显示config的配置，加<code>--list</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config --list --local <span class="token comment">## local只对某个仓库有效</span><span class="token function">git</span> config --list --global <span class="token comment">## global对当前用户所有仓库有效</span><span class="token function">git</span> config --list --system <span class="token comment">## system对系统所有登录的用户有效</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="查看提交记录"><a class="markdownIt-Anchor" href="#查看提交记录"></a> 查看提交记录</h2><div class="tabs" id="git-log"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-log-1">只看变更列表</button></li><li class="tab"><button type="button" data-href="#git-log-2">只看最近N次</button></li><li class="tab"><button type="button" data-href="#git-log-3">只看当前分支历史</button></li><li class="tab"><button type="button" data-href="#git-log-4">全部分支历史</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-log-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log --oneline<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305220144.png" alt="image-20220305220137649" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-log-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log -n2 --oneline <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>n2表示所有分支最近两个。</p></blockquote><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305220229.png" alt="image-20220305220229829" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-log-3"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305220412.png" alt="image-20220305220412495" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-log-4"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log --all<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="提交记录"><a class="markdownIt-Anchor" href="#提交记录"></a> 提交记录</h2><h3 id="修改commit的message"><a class="markdownIt-Anchor" href="#修改commit的message"></a> 修改commit的message</h3><p><strong>此操作不建议对已发布到线上的commit做修改。</strong></p><div class="tabs" id="git-commit-message"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-commit-message-1">修改最新的commit</button></li><li class="tab"><button type="button" data-href="#git-commit-message-2">修改老旧commit</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-commit-message-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> commit --amend<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305222413.png" alt="image-20220305222413228" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-commit-message-2"><blockquote><p>修改老旧commit的message,需要使用其上一个commitId。</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> reabase -i commitId<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305222826.png" alt="image-20220305222826712" /></p><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305223007.png" alt="image-20220305223007339" /></p><p>在新窗口中重新编辑commit信息即可。</p><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305223056.png" alt="image-20220305223056685" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="将多个commit整理成一个commit"><a class="markdownIt-Anchor" href="#将多个commit整理成一个commit"></a> 将多个commit整理成一个commit</h3><div class="tabs" id="git-commit-rebase"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-commit-rebase-1">合并连续的commit</button></li><li class="tab"><button type="button" data-href="#git-commit-rebase-2">合并非连续的commit</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-commit-rebase-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> rebase -i commit的父哈希值<span class="token comment"># 然后将需要合并的改为s。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305223844.png" alt="image-20220305223844839" /></p><p>将除第一个外需要合并的修改为<code>s</code>即可进行编辑信息。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-commit-rebase-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> rebase -i commit的父哈希值<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>进入编辑页面后，将需要合并的写在一起。如果没有自动出现则手动键入即可。需要删除的使用<code>s</code>命令，保留的使用<code>pick</code>。</p><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305224945.png" alt="image-20220305224945894" /></p><p><img src="https://file.acs.pw/picGo/2022/03/05/20220305225107.png" alt="image-20220305225107076" /></p><p>接下来编辑commit信息即可。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><blockquote><ul><li>pick：保留该commit（缩写:p）</li><li>reword：保留该commit，但我需要修改该commit的注释（缩写:r）</li><li>edit：保留该commit, 但我要停下来修改该提交(不仅仅修改注释)（缩写:e）</li><li>squash：将该commit和前一个commit合并（缩写:s）</li><li>fixup：将该commit和前一个commit合并，但我不要保留该提交的注释信息（缩写:f）</li><li>exec：执行shell命令（缩写:x）</li><li>drop：我要丢弃该commit（缩写:d）</li></ul></blockquote><h2 id="操作暂存区和工作区"><a class="markdownIt-Anchor" href="#操作暂存区和工作区"></a> 操作暂存区和工作区</h2><h3 id="恢复文件变更"><a class="markdownIt-Anchor" href="#恢复文件变更"></a> 恢复文件变更</h3><ol><li>编辑了某文件，但想放弃修改，恢复至与暂存区一致</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout 文件名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="恢复暂存区"><a class="markdownIt-Anchor" href="#恢复暂存区"></a> 恢复暂存区</h3><div class="tabs" id="git-reset"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-reset-1">整个暂存区</button></li><li class="tab"><button type="button" data-href="#git-reset-2">部分文件</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-reset-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> reset HEAD<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-reset-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> reset HEAD -- fileName1 fileName2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="分支操作"><a class="markdownIt-Anchor" href="#分支操作"></a> 分支操作</h2><h3 id="查看分支"><a class="markdownIt-Anchor" href="#查看分支"></a> 查看分支</h3><div class="tabs" id="git-branch-list"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-branch-list-1">所有本地分支</button></li><li class="tab"><button type="button" data-href="#git-branch-list-2">远程所有分支</button></li><li class="tab"><button type="button" data-href="#git-branch-list-3">本地与远程分支</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-branch-list-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> branch<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-branch-list-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> branch -r<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-branch-list-3"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> branch -a<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="新建分支"><a class="markdownIt-Anchor" href="#新建分支"></a> 新建分支</h3><div class="tabs" id="git-branch-new"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-branch-new-1">新建不切换</button></li><li class="tab"><button type="button" data-href="#git-branch-new-2">新建并切换</button></li><li class="tab"><button type="button" data-href="#git-branch-new-3">指定commit创建</button></li><li class="tab"><button type="button" data-href="#git-branch-new-4">新建一个指向tag的分支</button></li><li class="tab"><button type="button" data-href="#git-branch-new-5">指定的远程分支建立追踪关系</button></li><li class="tab"><button type="button" data-href="#git-branch-new-6">指定的远程分支建立追踪关系</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-branch-new-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> branch <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-branch-new-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-branch-new-3"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-branch-new-4"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-branch-new-5"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> branch --track <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote-branch<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-branch-new-6"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> branch --track <span class="token punctuation">[</span>branch<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote-branch<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="切换分支"><a class="markdownIt-Anchor" href="#切换分支"></a> 切换分支</h3><div class="tabs" id="git-checkout"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-checkout-1">切换到指定分支，并更新工作区</button></li><li class="tab"><button type="button" data-href="#git-checkout-2">切换到上一个分支</button></li><li class="tab"><button type="button" data-href="#git-checkout-3">指定commit创建</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-checkout-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout <span class="token punctuation">[</span>branch-name<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-checkout-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout -<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-checkout-3"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout -b <span class="token punctuation">[</span>branch<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="代码合并"><a class="markdownIt-Anchor" href="#代码合并"></a> 代码合并</h2><h3 id="选择几个commit"><a class="markdownIt-Anchor" href="#选择几个commit"></a> 选择几个commit</h3><blockquote><p>此操作建议将最底层开始选择,例如：<code>git cherry-pick A B</code>，其中A的提交必须早于B的提交。</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> cherry-pick <span class="token operator">&lt;</span>commitHash<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>转移连续的提交A到B，并且包含A</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> cherry-pick A^<span class="token punctuation">..</span>B <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="merge合并"><a class="markdownIt-Anchor" href="#merge合并"></a> merge合并</h3><blockquote><p>此合并方式会生成一个新的commit信息</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> merge <span class="token operator">&lt;</span>branchName<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="标签"><a class="markdownIt-Anchor" href="#标签"></a> 标签</h2><h3 id="查看tag"><a class="markdownIt-Anchor" href="#查看tag"></a> 查看tag</h3><div class="tabs" id="git-tag-show"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-tag-show-1">所有tag</button></li><li class="tab"><button type="button" data-href="#git-tag-show-2">查看tag信息</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-tag-show-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> tag<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-tag-show-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> show <span class="token operator">&lt;</span>tagName<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="新建tag"><a class="markdownIt-Anchor" href="#新建tag"></a> 新建tag</h3><div class="tabs" id="git-tag-create"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-tag-create-1">在当前commit新建</button></li><li class="tab"><button type="button" data-href="#git-tag-create-2">指定commit新建</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-tag-create-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> tag <span class="token operator">&lt;</span>tagName<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-tag-create-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> tag <span class="token operator">&lt;</span>tagName<span class="token operator">></span> <span class="token operator">&lt;</span>commitId<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="删除tag"><a class="markdownIt-Anchor" href="#删除tag"></a> 删除tag</h3><div class="tabs" id="git-tag-delete"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-tag-delete-1">删除本地tag</button></li><li class="tab"><button type="button" data-href="#git-tag-delete-2">删除远程tag</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-tag-delete-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> tag -d <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-tag-delete-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> push origin :refs/tags/<span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="提交tag"><a class="markdownIt-Anchor" href="#提交tag"></a> 提交tag</h3><div class="tabs" id="git-tag-push"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#git-tag-push-1">提交所有tag</button></li><li class="tab"><button type="button" data-href="#git-tag-push-2">提交指定tag</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="git-tag-push-1"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> --tags<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="git-tag-push-2"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> push <span class="token punctuation">[</span>remote<span class="token punctuation">]</span> <span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="常见场景"><a class="markdownIt-Anchor" href="#常见场景"></a> 常见场景</h2><h3 id="开发中临时加塞了紧急任务"><a class="markdownIt-Anchor" href="#开发中临时加塞了紧急任务"></a> 开发中临时加塞了紧急任务</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 将当前状态暂存起来</span><span class="token function">git</span> stash<span class="token comment"># 将之前的暂存信息弹出来，并会保存暂存队列</span><span class="token function">git</span> stash apply<span class="token comment"># 将之前的暂存信息弹出来，不保存暂存队列</span><span class="token function">git</span> stash pop<span class="token comment"># 查看暂存队列</span><span class="token function">git</span> stash list<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="常用命令脑图"><a class="markdownIt-Anchor" href="#常用命令脑图"></a> 常用命令脑图</h2><p><img src="https://file.acs.pw/picGo/2022/03/06/20220306185004.svg" alt="git" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;说明&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#说明&quot;&gt;&lt;/a&gt; 说明&lt;/h2&gt;
&lt;p&gt;此篇文章记录在日常 coding 的操作以及一些必要的 git 概念&lt;/p&gt;
&lt;h2 id=&quot;git的初始化设置&quot;&gt;&lt;a class=&quot;mark</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Git" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Git/"/>
    
    
    <category term="Git" scheme="https://www.antmoe.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>初识vue3之单文件组件script setup</title>
    <link href="https://www.antmoe.com/posts/a6b120db/"/>
    <id>https://www.antmoe.com/posts/a6b120db/</id>
    <published>2021-12-18T10:52:25.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关于此分类"><a class="markdownIt-Anchor" href="#关于此分类"></a> 关于此分类</h2><p>关于<a href="/categories/Vue/%E5%88%9D%E8%AF%86Vue3/">初识 vue3</a>分类主要是记录一些通过 vue3 进行的实践与学习记录。</p><blockquote><p>此文主要记录关于 vue3 script setup的尝试。</p></blockquote><p><strong><a href="/posts/a6b120db/">本文</a>会随着<a href="https://xiaokang.me/">作者</a>日常使用进行补充及内容修正</strong></p><p>本文参考于：</p><ul><li><a href="https://v3.cn.vuejs.org/api/sfc-script-setup.html#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">单文件组件<code>&lt;script setup&gt;</code></a></li></ul><h2 id="默认自动暴露"><a class="markdownIt-Anchor" href="#默认自动暴露"></a> 默认自动暴露</h2><p><code>&lt;script setup&gt;</code> 是在单文件组件 (SFC) 中使用<strong>组合式API</strong>的编译时语法糖。相比于普通的<code>&lt;script&gt;</code>语法，它具有更多优势：</p><ul><li>更少的样板内容，更简洁的代码。</li><li>能够使用纯 Typescript 声明 props 和抛出事件。</li><li>更好的运行时性能 (其模板会被编译成与其同一作用域的渲染函数，没有任何的中间代理)。</li><li>更好的 IDE 类型推断性能 (减少语言服务器从代码中抽离类型的工作)。</li></ul><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>当前msg的值：&#123;&#123; msg &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>当前msg的值(ref的值会被自动解包)：&#123;&#123; msgRef &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token comment">// 1. 顶层的绑定会暴露给模板</span><span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token string">'这是一条msg'</span><span class="token keyword">const</span> msgRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'msg'</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>同样的导入组件也可以直接使用</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">'./MyComponent.vue'</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="动态组件"><a class="markdownIt-Anchor" href="#动态组件"></a> 动态组件</h2><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> Foo <span class="token keyword">from</span> <span class="token string">'./Foo.vue'</span><span class="token keyword">import</span> Bar <span class="token keyword">from</span> <span class="token string">'./Bar.vue'</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Foo<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>someCondition ? Foo : Bar<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="自定义指令"><a class="markdownIt-Anchor" href="#自定义指令"></a> 自定义指令</h2><p>但这里有一个需要注意的限制：必须以 <code>vNameOfDirective</code> 的形式来命名本地自定义指令，以使得它们可以直接在模板中使用。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> vMyDirective <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token function-variable function">beforeMount</span><span class="token operator">:</span> <span class="token punctuation">(</span>el<span class="token operator">:</span> HTMLElement<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token function">mounted</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> value<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// value 即传入的参数值</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-my-directive</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="defineprops-defineemits-defineexpose"><a class="markdownIt-Anchor" href="#defineprops-defineemits-defineexpose"></a> defineProps、defineEmits、defineExpose</h2><p><code>defineProps</code>和<code>defineEmits</code>分别用于定义当前组件需要接收的参数和需要触发的emit。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  foo<span class="token operator">:</span> String<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token string">'delete'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在JavaScript中上述定义即可，但在typescript中可以为其增加类型。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">&#123;</span>  foo<span class="token operator">:</span> <span class="token builtin">string</span>  bar<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">&#125;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineEmits</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">&#123;</span>  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">'update'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">&#125;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>类型声明时的默认值</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">&#123;</span>  foo<span class="token operator">:</span> <span class="token builtin">string</span>  bar<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">&#125;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineEmits</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">&#123;</span>  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">'update'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">&#125;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>defineExpose用于定义暴露出去的属性，此模式下默认是全暴露</p><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;import &#123; ref &#125; from &#39;vue&#39;const a &#x3D; 1const b &#x3D; ref(2)defineExpose(&#123;  a,  b&#125;)&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用 <code>&lt;script setup&gt;</code> 的组件是<strong>默认关闭</strong>的，也即通过模板 ref 或者 <code>$parent</code> 链获取到的组件的公开实例，不会暴露任何在 <code>&lt;script setup&gt;</code> 中声明的绑定。</p><p>为了在 <code>&lt;script setup&gt;</code> 组件中明确要暴露出去的属性，使用 <code>defineExpose</code> 编译器宏</p><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div&gt;test&lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script setup&gt;const a &#x3D; 1defineExpose(&#123;  a: 1&#125;)&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在父组件中使用</p><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;testAVue ref&#x3D;&quot;testRef&quot; &#x2F;&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import testAVue from &#39;.&#x2F;test-a.vue&#39;import &#123; onMounted, ref &#125; from &#39;vue&#39;const testRef &#x3D; ref(null)onMounted(() &#x3D;&gt; &#123;  console.log(testRef.value) &#x2F;&#x2F; Proxy &#123;a: 1, __v_skip: true&#125;&#125;)&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="与普通的script使用"><a class="markdownIt-Anchor" href="#与普通的script使用"></a> 与普通的<code>&lt;script&gt;</code>使用</h2><p><code>&lt;script setup&gt;</code> 可以和普通的 <code>&lt;script&gt;</code> 一起使用。普通的 <code>&lt;script&gt;</code> 在有这些需要的情况下或许会被使用到：</p><ul><li>无法在 <code>&lt;script setup&gt;</code> 声明的选项，例如 <code>inheritAttrs</code> 或通过插件启用的自定义的选项。</li><li>声明命名导出。</li><li>运行副作用或者创建只需要执行一次的对象。</li></ul><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;    &#x2F;&#x2F; 普通 &lt;script&gt;, 在模块范围下执行(只执行一次)    runSideEffectOnce()    &#x2F;&#x2F; 声明额外的选项    export default &#123;        inheritAttrs: false,        customOptions: &#123;&#125;    &#125;&lt;&#x2F;script&gt;&lt;script setup&gt;    &#x2F;&#x2F; 在 setup() 作用域中执行 (对每个实例皆如此)&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;关于此分类&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#关于此分类&quot;&gt;&lt;/a&gt; 关于此分类&lt;/h2&gt;
&lt;p&gt;关于&lt;a href=&quot;/categories/Vue/%E5%88%9D%E8%AF%86Vue3/&quot;&gt;初识 vue3&lt;/a&gt;</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Vue" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Vue/"/>
    
    
    <category term="单文件组件" scheme="https://www.antmoe.com/tags/%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/"/>
    
    <category term="script setup" scheme="https://www.antmoe.com/tags/script-setup/"/>
    
    <category term="初识Vue3" scheme="https://www.antmoe.com/tags/%E5%88%9D%E8%AF%86Vue3/"/>
    
  </entry>
  
  <entry>
    <title>初识vue3之响应式数据</title>
    <link href="https://www.antmoe.com/posts/b3e1c29f/"/>
    <id>https://www.antmoe.com/posts/b3e1c29f/</id>
    <published>2021-12-09T13:14:25.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" href="//at.alicdn.com/t/font_2970550_p76lkpuldlo.css"><h2 id="关于此分类"><a class="markdownIt-Anchor" href="#关于此分类"></a> 关于此分类</h2><p>关于<a href="/categories/Vue/%E5%88%9D%E8%AF%86Vue3/">初识 vue3</a>分类主要是记录一些通过 vue3 进行的实践与学习记录。</p><blockquote><p>此文主要记录关于 vue3 响应式数据的尝试。</p></blockquote><p><strong><a href="/posts/b3e1c29f/">本文</a>会随着<a href="https://xiaokang.me/">作者</a>日常使用进行补充及内容修正</strong></p><h2 id="refs"><a class="markdownIt-Anchor" href="#refs"></a> refs</h2><h3 id="类型声明"><a class="markdownIt-Anchor" href="#类型声明"></a> 类型声明</h3><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> Ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// setup参数参考 https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 声明类型 字符串</span>    <span class="token keyword">const</span> stringVal <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>    <span class="token comment">// 声明类型 数字</span>    <span class="token keyword">const</span> numberVal <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment">// 声明类型 泛型</span>    <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>State <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>initial<span class="token operator">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>initial<span class="token punctuation">)</span> <span class="token keyword">as</span> Ref<span class="token operator">&lt;</span>State<span class="token operator">></span> <span class="token comment">// state.value -> State extends string</span>      <span class="token keyword">return</span> state    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> stringVal<span class="token punctuation">,</span> numberVal<span class="token punctuation">,</span> useState <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="unref"><a class="markdownIt-Anchor" href="#unref"></a> unref</h3><p>如果参数是一个 <a href="https://v3.cn.vuejs.org/api/refs-api.html#ref"><code>ref</code></a>，则返回内部值，否则返回参数本身。这是 <code>val = isRef(val) ? val.value : val</code> 的语法糖函数。</p><h3 id="toref-torefs"><a class="markdownIt-Anchor" href="#toref-torefs"></a> toRef、toRefs</h3><table><thead><tr><th style="text-align:center">API</th><th style="text-align:center">作用简述</th><th style="text-align:center">使用简述</th></tr></thead><tbody><tr><td style="text-align:center"><code>toRef</code></td><td style="text-align:center">用于创建源响应式对象上某个属性的响应式变量<br />此变量可以被传递并保持响应式链接</td><td style="text-align:center">用于将响应式对象某个属性传递给子组件并且不丢失响应式链接</td></tr><tr><td style="text-align:center"><code>toRefs</code></td><td style="text-align:center">将响应式对象转换为普通对象（值是响应式的）</td><td style="text-align:center">用于复合函数返回响应式对象，父组件解构/展开</td></tr></tbody></table><h4 id="toref"><a class="markdownIt-Anchor" href="#toref"></a> toRef</h4><blockquote><p>可以用来为源响应式对象上的某个 property 新创建一个 <a href="https://v3.cn.vuejs.org/api/refs-api.html#ref"><code>ref</code></a>。然后，ref 可以被传递，它会保持对其源 property 的响应式连接。</p></blockquote><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// toRef</span><span class="token keyword">const</span> refReactive <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// 创建ref引用</span><span class="token keyword">const</span> refA <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>refReactive<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token function">useTest</span><span class="token punctuation">(</span>refA<span class="token punctuation">)</span> <span class="token comment">// useTest中修改传入的参数</span><span class="token comment">// 会导致refReactive.a的值也会响应式修改为100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>useTest</code>中</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useTest</span><span class="token punctuation">(</span>a<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  a<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">100</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> a <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>因此，当需要向复合函数传递一个响应式对象的值时可以使用<code>toRef</code>将一个响应式对象某个值转为<code>ref</code>引用。</p><h4 id="torefs"><a class="markdownIt-Anchor" href="#torefs"></a> toRefs</h4><blockquote><p>将响应式对象转换为普通对象，其中结果对象的每个 property 都是指向原始对象相应 property 的 <a href="https://v3.cn.vuejs.org/api/refs-api.html#ref"><code>ref</code></a>。</p></blockquote><p><code>useTest</code>中</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Ref<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> toRefs <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useTest</span><span class="token punctuation">(</span>a<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">,</span> b<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  a<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">100</span>  b<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">200</span>  <span class="token keyword">const</span> testReactive <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'小康'</span><span class="token punctuation">,</span>    website<span class="token operator">:</span> <span class="token string">'https://baidu.com'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token comment">// 暴露的响应式对象使用toRefs包装</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> testReactive<span class="token operator">:</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>testReactive<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>父组件中</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> testReactive <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">useTest</span><span class="token punctuation">(</span>refA<span class="token punctuation">,</span> numberVal<span class="token punctuation">)</span> <span class="token comment">// useTest中修改传入的参数</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  testReactive<span class="token punctuation">.</span>name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'父组件修改'</span>  <span class="token comment">// testReactive.name会被响应式修改</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="customref"><a class="markdownIt-Anchor" href="#customref"></a> customRef</h3><p>创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制。它需要一个工厂函数，该函数接收 <code>track</code> 和 <code>trigger</code> 函数作为参数，并且应该返回一个带有 <code>get</code> 和 <code>set</code> 的对象。</p><p>使用官网的一个小 Demo</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">useDebouncedRef</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> timeout  <span class="token keyword">return</span> <span class="token function">customRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span>track<span class="token punctuation">,</span> trigger<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 追踪</span>        <span class="token function">track</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> value      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token keyword">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>        timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>          value <span class="token operator">=</span> newValue          <span class="token comment">// 触发视图更新</span>          <span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token function">useDebouncedRef</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>虽然看到网上有各种各样在此函数中发送 Ajax 请求，但我个人认为，发送 Ajax 获取数据使用 Hooks 更合适。</p></blockquote><p>类型声明</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">customRef</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>factory<span class="token operator">:</span> CustomRefFactory<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token keyword">type</span> <span class="token class-name">CustomRefFactory<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>  <span class="token function-variable function">track</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">,</span>  <span class="token function-variable function">trigger</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span>  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="computed-与-watch"><a class="markdownIt-Anchor" href="#computed-与-watch"></a> Computed 与 Watch</h2><h3 id="computed"><a class="markdownIt-Anchor" href="#computed"></a> computed</h3><p>接受一个 getter 函数，并根据 getter 的返回值返回一个不可变的响应式 <a href="https://v3.cn.vuejs.org/api/refs-api.html#ref">ref</a> 对象。或者，接受一个具有 <code>get</code> 和 <code>set</code> 函数的对象，用来创建可写的 ref 对象。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> newVal <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 返回val加10的结果</span>  <span class="token keyword">return</span> val<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">const</span> newVal1 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 获取值</span>    <span class="token keyword">return</span> val<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">10</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 设置值</span>    val<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>3.2 中该函数在<strong>开发模式</strong>下可传入第二个参数用于调试。</p></blockquote><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> plusOne <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> count<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token function">onTrack</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 当 count.value 作为依赖被追踪时触发</span>    <span class="token keyword">debugger</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token function">onTrigger</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 当 count.value 被修改时触发</span>    <span class="token keyword">debugger</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// 访问 plusOne，应该触发 onTrack</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>plusOne<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token comment">// 修改 count.value，应该触发 onTrigger</span>count<span class="token punctuation">.</span>value<span class="token operator">++</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>类型声明</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 只读的</span><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">computed</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>  <span class="token function-variable function">getter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span><span class="token punctuation">,</span>  debuggerOptions<span class="token operator">?</span><span class="token operator">:</span> DebuggerOptions<span class="token punctuation">)</span><span class="token operator">:</span> Readonly<span class="token operator">&lt;</span>Ref<span class="token operator">&lt;</span>Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>>></span><span class="token comment">// 可写的</span><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">computed</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>  options<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span>    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  debuggerOptions<span class="token operator">?</span><span class="token operator">:</span> DebuggerOptions<span class="token punctuation">)</span><span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token keyword">interface</span> <span class="token class-name">DebuggerOptions</span> <span class="token punctuation">&#123;</span>  onTrack<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> DebuggerEvent<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>  onTrigger<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> DebuggerEvent<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">&#125;</span><span class="token keyword">interface</span> <span class="token class-name">DebuggerEvent</span> <span class="token punctuation">&#123;</span>  effect<span class="token operator">:</span> ReactiveEffect  target<span class="token operator">:</span> <span class="token builtin">any</span>  <span class="token keyword">type</span><span class="token operator">:</span> OperationTypes  key<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="watch"><a class="markdownIt-Anchor" href="#watch"></a> watch</h3><p><code>watch</code> API 与选项式 API <a href="https://v3.cn.vuejs.org/api/instance-methods.html#watch">this.$watch</a> (以及相应的 <a href="https://v3.cn.vuejs.org/api/options-data.html#watch">watch</a> 选项) 完全等效。<code>watch</code> 需要侦听特定的数据源，并在单独的回调函数中执行副作用。默认情况下，它也是惰性的——即回调仅在侦听源发生变化时被调用。</p><div class="tabs" id="watch"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#watch-1">单一源</button></li><li class="tab"><button type="button" data-href="#watch-2">多个源</button></li><li class="tab"><button type="button" data-href="#watch-3">侦听响应式对象</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="watch-1"><p>侦听器数据源可以是一个具有返回值的<code>getter</code>函数，也可以直接是一个<code>ref</code></p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 侦听一个 getter</span><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> count<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> state<span class="token punctuation">.</span>count<span class="token punctuation">,</span>  <span class="token punctuation">(</span>count<span class="token punctuation">,</span> prevCount<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">/* ... */</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// 直接侦听一个 ref</span><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token function">watch</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> <span class="token punctuation">(</span>count<span class="token punctuation">,</span> prevCount<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* ... */</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="watch-2"><p>侦听器还可以使用数组以同时侦听多个源</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>fooRef<span class="token punctuation">,</span> barRef<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>prevFoo<span class="token punctuation">,</span> prevBar<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* ... */</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p><strong>如果在同一个函数里同时改变这些被侦听的来源，侦听器仍只会执行一次</strong></p></blockquote><p>如果需要监听多个源时每一次更新都响应式变化，那么建议使用<code>nextTick</code>等等监听器再一次步改变之前运行。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">changeValues</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  firstName<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'John'</span> <span class="token comment">// 打印 ["John", ""] ["", ""]</span>  <span class="token keyword">await</span> <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  lastName<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Smith'</span> <span class="token comment">// 打印 ["John", "Smith"] ["John", ""]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="watch-3"><ol><li><p>监听响应式对象或数组变化前与变化后的值，则需要监听由值构成的副本。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">[</span><span class="token operator">...</span>numbers<span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>val<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> newVal<span class="token punctuation">,</span> <span class="token string">'numbers'</span><span class="token punctuation">)</span>    <span class="token comment">// logs: [1,2,3,4,5] [1,2,3,4]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>尝试检查深度嵌套对象或数组中(<strong>非响应式对象</strong>)的 property 变化时，仍然需要 <code>deep</code> 选项设置为 true。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> member <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  attr<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'小康'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> member<span class="token punctuation">,</span>  <span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'not deep'</span><span class="token punctuation">,</span> newVal<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>name<span class="token punctuation">,</span> val<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> member<span class="token punctuation">,</span>  <span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'deep'</span><span class="token punctuation">,</span> newVal<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>name<span class="token punctuation">,</span> val<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    deep<span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>member<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'new小康'</span> <span class="token comment">// deep new小康 new小康</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>侦听一个响应式对象或数组将始终返回该对象的当前值和上一个状态值的引用。为了完全侦听深度嵌套的对象和数组，可能需要对值进行深拷贝。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">'lodash'</span><span class="token keyword">const</span> member <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  attr<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> <span class="token string">'小康'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> _<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'not deep'</span><span class="token punctuation">,</span> newVal<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>name<span class="token punctuation">,</span> val<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>member<span class="token punctuation">.</span>attr<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'new小康'</span> <span class="token comment">// deep new小康 小康</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="watcheffect"><a class="markdownIt-Anchor" href="#watcheffect"></a> watchEffect</h3><p>立即执行传入的一个函数，同时响应式追踪其依赖，并在其依赖变更时重新运行该函数。(根据响应式状态<em>自动应用</em>和<em>重新应用</em>副作用)</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// -> logs 0</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  count<span class="token punctuation">.</span>value<span class="token operator">++</span>  <span class="token comment">// -> logs 1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="provide-inject"><a class="markdownIt-Anchor" href="#provide-inject"></a> Provide / Inject</h2><p>当子组件层级过深时仍需要外层组件传递数据，那么可以使用<code>Provide / Inject</code>，但默认情况下，此 API 并不是响应式的，如果需要响应式则需要在<code>provide</code>时使用<code>ref</code>或者<code>reactive</code>进行包装。</p><p>父组件</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> provide <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">const</span> userName <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">'小康'</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  userName<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'XiaoKang'</span>  <span class="token comment">// 2秒后视图更新为 XiaoKang</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token comment">// 向子组件提供一个名为 name 值为 userName 数据</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> userName<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>子组件</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> inject<span class="token punctuation">,</span> Ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token comment">// 获取父组件提供的名为 name 的值并赋值给userName变量</span><span class="token keyword">const</span> userName <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="修改值"><a class="markdownIt-Anchor" href="#修改值"></a> 修改值</h3><p>当使用响应式 provide / inject 值时，<strong>建议尽可能将对响应式 property 的所有修改限制在<em>定义 provide 的组件</em>内部</strong>。</p><p>例如：</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  userName<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'change Name 小康 '</span> <span class="token operator">+</span> str<span class="token punctuation">&#125;</span><span class="token comment">// 向子组件提供修改userName的方法</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'changeName'</span><span class="token punctuation">,</span> changeName<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>子组件中</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 获取父组件提供的名为 name 的值并赋值给userName变量</span><span class="token keyword">const</span> changeUserName <span class="token operator">=</span> inject<span class="token operator">&lt;</span><span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'changeName'</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token function-variable function">changeUserNameHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  changeUserName <span class="token operator">&amp;&amp;</span> <span class="token function">changeUserName</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>子组件当触发<code>changeUserNameHandler</code>函数时即可调用父组件提供的修改方法将<code>userName</code>的值进行修改。</p><h3 id="只读"><a class="markdownIt-Anchor" href="#只读"></a> 只读</h3><p>当需要确保通过<code>provide</code>传递的数据不会被<code>inject</code>的组件更改，可以使用<code>readonly</code>进行修饰。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'testChange'</span><span class="token punctuation">,</span> <span class="token keyword">readonly</span><span class="token punctuation">(</span>testChange<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>此时如果子组件修改值则不会修改成功。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; href=&quot;//at.alicdn.com/t/font_2970550_p76lkpuldlo.css&quot;&gt;
&lt;h2 id=&quot;关于此分类&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#关于此分类&quot;&gt;&lt;/a&gt;</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Vue" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Vue/"/>
    
    
    <category term="Vue3" scheme="https://www.antmoe.com/tags/Vue3/"/>
    
    <category term="初识Vue3" scheme="https://www.antmoe.com/tags/%E5%88%9D%E8%AF%86Vue3/"/>
    
  </entry>
  
  <entry>
    <title>避坑指北：vue使用history路由</title>
    <link href="https://www.antmoe.com/posts/99201b62/"/>
    <id>https://www.antmoe.com/posts/99201b62/</id>
    <published>2021-12-05T01:49:00.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<h2 id="背景"><a class="markdownIt-Anchor" href="#背景"></a> 背景</h2><p>在部署vue项目时，路由模式默认使用哈希(hash)模式，但是由于某些原因，要求使用history模式。但是对于现在的部署环境则遇到了一个问题。首先是目录：</p><pre class="line-numbers language-none"><code class="language-none">site ---- 项目根目录 ├── siteA ---- 项目A │   └── index.html └── siteB ---- 项目B     └── index.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>即项目放在了同一个根目录下，那么此时我们就需要调整vue的一些配置。具体如下</p><h2 id="vue项目配置"><a class="markdownIt-Anchor" href="#vue项目配置"></a> Vue项目配置</h2><h2 id="路由设置"><a class="markdownIt-Anchor" href="#路由设置"></a> 路由设置</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>    path<span class="token operator">:</span> <span class="token string">'/siteA'</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">'siteARoot'</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/siteA/index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">&#123;</span>            path<span class="token operator">:</span> <span class="token string">'index'</span><span class="token punctuation">,</span>            name<span class="token operator">:</span> <span class="token string">'Index'</span><span class="token punctuation">,</span>            meta<span class="token operator">:</span> <span class="token punctuation">&#123;</span>                title<span class="token operator">:</span> <span class="token string">'siteA'</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/siteA/index'</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>即路由需要包含此项目部署时所需要存放的目录名。</p><h3 id="打包配置"><a class="markdownIt-Anchor" href="#打包配置"></a> 打包配置</h3><p>打包配置时由于使用了history模式，那么<code>publicPath</code>就需要指定绝对路径。</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>    publicPath<span class="token operator">:</span> /siteA/<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>这里设置的绝对路径即项目配置时的目录名，可通过环境变量进行动态修改。</p><h2 id="nginx配置"><a class="markdownIt-Anchor" href="#nginx配置"></a> Nginx配置</h2><pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token keyword">server</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">listen</span>        <span class="token number">10085</span><span class="token punctuation">;</span>    <span class="token keyword">server_name</span>  localhost<span class="token punctuation">;</span>    <span class="token keyword">root</span>   <span class="token string">"D:/code/test/site/"</span><span class="token punctuation">;</span>    <span class="token keyword">location</span> <span class="token operator">/</span>siteA <span class="token punctuation">&#123;</span>        <span class="token keyword">index</span> <span class="token keyword">index</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>        <span class="token keyword">try_files</span> <span class="token variable">$uri</span> <span class="token variable">$uri</span><span class="token operator">/</span> <span class="token operator">/</span>siteA<span class="token operator">/</span><span class="token keyword">index</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">location</span> <span class="token operator">/</span>siteB <span class="token punctuation">&#123;</span>        <span class="token keyword">index</span> <span class="token keyword">index</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>        <span class="token keyword">try_files</span> <span class="token variable">$uri</span> <span class="token variable">$uri</span><span class="token operator">/</span> <span class="token operator">/</span>siteB<span class="token operator">/</span><span class="token keyword">index</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;背景&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#背景&quot;&gt;&lt;/a&gt; 背景&lt;/h2&gt;
&lt;p&gt;在部署vue项目时，路由模式默认使用哈希(hash)模式，但是由于某些原因，要求使用history模式。但是对于现在的部署环境则遇到了一个问题。</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Vue" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Vue/"/>
    
    
    <category term="Vue" scheme="https://www.antmoe.com/tags/Vue/"/>
    
    <category term="history路由" scheme="https://www.antmoe.com/tags/history%E8%B7%AF%E7%94%B1/"/>
    
    <category term="Vue避坑指北" scheme="https://www.antmoe.com/tags/Vue%E9%81%BF%E5%9D%91%E6%8C%87%E5%8C%97/"/>
    
  </entry>
  
  <entry>
    <title>初识vue3之better-scroll组件封装</title>
    <link href="https://www.antmoe.com/posts/909b483c/"/>
    <id>https://www.antmoe.com/posts/909b483c/</id>
    <published>2021-11-27T13:17:25.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关于此分类"><a class="markdownIt-Anchor" href="#关于此分类"></a> 关于此分类</h2><p>关于<a href="/categories/Vue/%E5%88%9D%E8%AF%86Vue3/">初识 vue3</a>分类主要是记录一些通过 vue3 进行的实践与学习记录。</p><blockquote><p>此文主要记录封装基于<a href="https://better-scroll.github.io/docs/zh-CN/">BetterScroll 2.0</a>插件封装的 scroll-view 组件。适用于移动端的弹性滚动及下拉刷新、上拉加载等场景。</p><div class="checkbox green checked">  <input type="checkbox" checked />  <p>弹性滚动</p></div><div class="checkbox green checked">  <input type="checkbox" checked/>  <p>下拉加载</p></div><div class="checkbox green checked">  <input type="checkbox" checked/>  <p>上拉刷新</p></div><div class="checkbox green ">  <input type="checkbox" checked />  <p>滚动前后及滚动中事件</p></div><div class="checkbox yellow">  <input type="checkbox" />  <p>滚动条（待添加）</p></div></blockquote><p><strong><a href="/posts/909b483c/">本文</a>会随着<a href="https://xiaokang.me/">作者</a>日常使用进行补充及内容修正</strong></p><h2 id="简单的实现过程"><a class="markdownIt-Anchor" href="#简单的实现过程"></a> 简单的实现过程</h2><p>实现之前需要先明确一下需求：</p><ol><li>弹性滚动</li><li>下拉刷新、上拉加载</li><li>自定义传入内容</li><li>事件派发</li></ol><h3 id="弹性滚动"><a class="markdownIt-Anchor" href="#弹性滚动"></a> 弹性滚动</h3><p>实现弹性滚动只需要按照官方示例初始化即可实现。</p><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div class&#x3D;&quot;wrapper&quot; ref&#x3D;&quot;wrapper&quot;&gt;    &lt;div class&#x3D;&quot;content&quot;&gt;      &lt;div v-for&#x3D;&quot;i in 100&quot;&gt;&#123;&#123; i &#125;&#125;&lt;&#x2F;div&gt;    &lt;&#x2F;div&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import BScroll from &#39;@better-scroll&#x2F;core&#39;import &#123; onMounted &#125; from &#39;vue&#39;let bscroll: BScrollconst wrapper &#x3D; ref(null)onMounted(() &#x3D;&gt; &#123;  bscroll &#x3D; new BScroll(wrapper.value, &#123;    mouseWheel: true  &#125;)&#125;)&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>只需要在 mounted 阶段进行初始化创建对象即可。</p><h3 id="下拉刷新-上拉加载"><a class="markdownIt-Anchor" href="#下拉刷新-上拉加载"></a> 下拉刷新、上拉加载</h3><p>由于我安装的是<code>@better-scroll/core</code>，并没有安装‘全量包’ ，因此实现此功能同样需要安装其他两个插件：<code>@better-scroll/pull-up</code>、<code>@better-scroll/pull-down</code></p><p>安装后在初始化时开启选项即可。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span><span class="token keyword">import</span> Pullup <span class="token keyword">from</span> <span class="token string">'@better-scroll/pull-up'</span><span class="token keyword">import</span> Pulldown <span class="token keyword">from</span> <span class="token string">'@better-scroll/pull-down'</span>BScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Pullup<span class="token punctuation">)</span>BScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Pulldown<span class="token punctuation">)</span>bscroll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  mouseWheel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  pullDownRefresh<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  pullUpLoad<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>对于其触发事件的监听需要用实例对象去监听：</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span><span class="token keyword">import</span> Pullup <span class="token keyword">from</span> <span class="token string">'@better-scroll/pull-up'</span><span class="token keyword">import</span> Pulldown <span class="token keyword">from</span> <span class="token string">'@better-scroll/pull-down'</span>BScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Pullup<span class="token punctuation">)</span>BScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Pulldown<span class="token punctuation">)</span>bscroll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  mouseWheel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  pullDownRefresh<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  pullUpLoad<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>bscroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pullingUp'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'触发了上拉'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>bscroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pullingUp'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'触发了下拉'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="自定义传入内容"><a class="markdownIt-Anchor" href="#自定义传入内容"></a> 自定义传入内容</h3><p>自定义传入内容这里，由于我并不想传入一个数据列表，然后去渲染元素。因此通过<code>watch</code>监听 props 传入的数据这个方法就不好用了；监听<code>slots</code>里的变化通过一番尝试，最终也是失败，因此最终选择了使用官方提供的插件：<code>@better-scroll/observe-dom</code>、<code>@better-scroll/observe-image</code>进行自动更新实例对象。安装完成后只需要在初始化前<code>use</code>此插件即可。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> BScroll <span class="token keyword">from</span> <span class="token string">'@better-scroll/core'</span>BScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ObserveDOM<span class="token punctuation">)</span>BScroll<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ObserveImage<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="事件派发"><a class="markdownIt-Anchor" href="#事件派发"></a> 事件派发</h3><p>需要派发的事件大致为：滚动事件和上拉下拉事件</p><ol><li><p>滚动事件</p><p>此类事件只需要正常 emit 即可。</p></li><li><p>上拉下拉事件</p><p>上拉下拉刷新需要调用对应的结束事件才可以，因此将其封装为组件时就会遇到一个问题即需要等传入函数执行完毕后在调用结束事件。</p></li></ol><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineProps<span class="token punctuation">,</span> PropType<span class="token punctuation">,</span> defineEmits <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'ckick'</span><span class="token punctuation">,</span> <span class="token string">'beforeScroll'</span><span class="token punctuation">,</span> <span class="token string">'afterScroll'</span><span class="token punctuation">,</span> <span class="token string">'scroll'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'ckick'</span><span class="token punctuation">,</span> <span class="token string">'beforeScroll'</span><span class="token punctuation">,</span> <span class="token string">'afterScroll'</span><span class="token punctuation">,</span> <span class="token string">'scroll'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token comment">/**   * 是否派发滚动事件   */</span>  listenScroll<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">/**   * 是否派发滚动到底部的事件，用于上拉加载   */</span>  pullup<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">type</span><span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">null</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">/**   * 是否派发顶部下拉的事件，用于下拉刷新   */</span>  pulldown<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">type</span><span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">,</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">null</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">/**   * 是否派发列表滚动开始的事件   */</span>  beforeScroll<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">/**   * 是否派发列表滚动开始的事件   */</span>  afterScroll<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">/** * 如果开启了滚动前事件派发 */</span><span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>beforeScroll<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  bscroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'beforeScrollStart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'beforeScroll'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">/** * 如果开启了滚动(滚动中)事件派发 */</span><span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>listenScroll<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  bscroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>position<span class="token operator">:</span> <span class="token punctuation">&#123;</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> y<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> position<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">/** * 如果开启了滚动结束事件派发 */</span><span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>beforeScroll<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  bscroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scrollEnd'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'afterScroll'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>pullup <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  bscroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pullingUp'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>      props<span class="token punctuation">.</span><span class="token function">pullup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        bscroll<span class="token punctuation">.</span><span class="token function">finishPullUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 传入非 Promise 函数</span>      bscroll<span class="token punctuation">.</span><span class="token function">finishPullUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>pulldown <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  bscroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pullingDown'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>      props<span class="token punctuation">.</span><span class="token function">pulldown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        bscroll<span class="token punctuation">.</span><span class="token function">finishPullDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 传入非 Promise 函数</span>      bscroll<span class="token punctuation">.</span><span class="token function">finishPullDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="完整代码"><a class="markdownIt-Anchor" href="#完整代码"></a> 完整代码</h2><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div :class&#x3D;&quot;&#123; wrapper: true, x: props.scrollX &#125;&quot; ref&#x3D;&quot;wrapper&quot;&gt;    &lt;div class&#x3D;&quot;content&quot;&gt;      &lt;slot&gt;&lt;&#x2F;slot&gt;    &lt;&#x2F;div&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script setup lang&#x3D;&quot;ts&quot;&gt;import &#123; onMounted, defineProps, PropType, defineEmits &#125; from &#39;vue&#39;import BScroll from &#39;@better-scroll&#x2F;core&#39;import ObserveDOM from &#39;@better-scroll&#x2F;observe-dom&#39;import ObserveImage from &#39;@better-scroll&#x2F;observe-image&#39;import Pullup from &#39;@better-scroll&#x2F;pull-up&#39;import Pulldown from &#39;@better-scroll&#x2F;pull-down&#39;let bscroll: BScrollconst wrapper &#x3D; ref(null)BScroll.use(ObserveDOM)BScroll.use(ObserveImage)BScroll.use(Pullup)BScroll.use(Pulldown)const emit &#x3D; defineEmits([&#39;ckick&#39;, &#39;beforeScroll&#39;, &#39;afterScroll&#39;, &#39;scroll&#39;])const props &#x3D; defineProps(&#123;  &#x2F;**   * 1 滚动的时候会派发scroll事件，会截流。   * 2 滚动的时候实时派发scroll事件，不会截流。   * 3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件   *&#x2F;  probeType: &#123;    type: Number as PropType&lt;1 | 2 | 3&gt;,    required: false,    default: 1  &#125;,  &#x2F;**   * 是否开启横向滚动，默认纵向滚动。   * 开启横向滚动需要将传入元素设置为横向例如：display:inline-block   *&#x2F;  scrollX: &#123;    type: Boolean,    required: false,    default: false  &#125;,  &#x2F;**   * 点击列表是否派发click事件   *&#x2F;  click: &#123;    type: Boolean,    default: true  &#125;,  &#x2F;**   * 是否派发滚动事件   *&#x2F;  listenScroll: &#123;    type: Boolean,    default: false  &#125;,  &#x2F;**   * 是否派发滚动到底部的事件，用于上拉加载   *&#x2F;  pullup: &#123;    type: Function,    default: null  &#125;,  &#x2F;**   * 是否派发顶部下拉的事件，用于下拉刷新   *&#x2F;  pulldown: &#123;    type: Function,    default: null  &#125;,  &#x2F;**   * 是否派发列表滚动开始的事件   *&#x2F;  beforeScroll: &#123;    type: Boolean,    default: false  &#125;,  &#x2F;**   * 是否派发列表滚动开始的事件   *&#x2F;  afterScroll: &#123;    type: Boolean,    default: false  &#125;&#125;)onMounted(() &#x3D;&gt; &#123;  bscroll &#x3D; new BScroll(wrapper.value, &#123;    scrollX: props.scrollX,    probeType: props.probeType,    click: props.click,    observeDOM: true,    observeImage: true,    mouseWheel: true,    pullDownRefresh: true,    pullUpLoad: true  &#125;)  &#x2F;**   * 如果开启了滚动前事件派发   *&#x2F;  if (props.beforeScroll) &#123;    bscroll.on(&#39;beforeScrollStart&#39;, () &#x3D;&gt; &#123;      emit(&#39;beforeScroll&#39;)    &#125;)  &#125;  &#x2F;**   * 如果开启了滚动(滚动中)事件派发   *&#x2F;  if (props.listenScroll) &#123;    bscroll.on(&#39;scroll&#39;, (position: &#123; x: number; y: number &#125;) &#x3D;&gt; &#123;      emit(&#39;scroll&#39;, position)    &#125;)  &#125;  &#x2F;**   * 如果开启了滚动结束事件派发   *&#x2F;  if (props.beforeScroll) &#123;    bscroll.on(&#39;scrollEnd&#39;, () &#x3D;&gt; &#123;      emit(&#39;afterScroll&#39;)    &#125;)  &#125;  if (props.pullup !&#x3D;&#x3D; null) &#123;    bscroll.on(&#39;pullingUp&#39;, () &#x3D;&gt; &#123;      try &#123;        props.pullup().then(() &#x3D;&gt; &#123;          bscroll.finishPullUp()        &#125;)      &#125; catch (e) &#123;        &#x2F;&#x2F; 传入非 Promise 函数        bscroll.finishPullUp()      &#125;    &#125;)  &#125;  if (props.pulldown !&#x3D;&#x3D; null) &#123;    bscroll.on(&#39;pullingDown&#39;, () &#x3D;&gt; &#123;      try &#123;        props.pulldown().then(() &#x3D;&gt; &#123;          bscroll.finishPullDown()        &#125;)      &#125; catch (e) &#123;        &#x2F;&#x2F; 传入非 Promise 函数        bscroll.finishPullDown()      &#125;    &#125;)  &#125;&#125;)&lt;&#x2F;script&gt;&lt;style scoped lang&#x3D;&quot;scss&quot;&gt;@import &#39;.&#x2F;index.scss&#39;;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-scss" data-language="scss"><code class="language-scss"><span class="token selector">.wrapper </span><span class="token punctuation">&#123;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>  <span class="token selector">.content </span><span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 开启横向滚动</span>  <span class="token selector"><span class="token parent important">&amp;</span>.x </span><span class="token punctuation">&#123;</span>    <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>    <span class="token selector">.content </span><span class="token punctuation">&#123;</span>      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>外部使用时需要传入样式指定宽高</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scroll-view</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 300px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>i in count<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>i<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>当前第&#123;&#123; i &#125;&#125;个元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scroll-view</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;关于此分类&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#关于此分类&quot;&gt;&lt;/a&gt; 关于此分类&lt;/h2&gt;
&lt;p&gt;关于&lt;a href=&quot;/categories/Vue/%E5%88%9D%E8%AF%86Vue3/&quot;&gt;初识 vue3&lt;/a&gt;</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Vue" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Vue/"/>
    
    
    <category term="Vue3" scheme="https://www.antmoe.com/tags/Vue3/"/>
    
    <category term="初识Vue3" scheme="https://www.antmoe.com/tags/%E5%88%9D%E8%AF%86Vue3/"/>
    
  </entry>
  
  <entry>
    <title>初识vue3之基础语法记录</title>
    <link href="https://www.antmoe.com/posts/296e7875/"/>
    <id>https://www.antmoe.com/posts/296e7875/</id>
    <published>2021-11-27T13:01:25.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" href="//at.alicdn.com/t/font_2970550_p76lkpuldlo.css"><h2 id="关于此分类"><a class="markdownIt-Anchor" href="#关于此分类"></a> 关于此分类</h2><p>关于<a href="/categories/Vue/%E5%88%9D%E8%AF%86Vue3/">初识 vue3</a>分类主要是记录一些通过 vue3 进行的实践与学习记录。</p><blockquote><p>此文主要记录一些在 vue3 中的一些语法改变（只记录<code>composition api</code>语法），当然使用<a href="https://www.npmjs.com/package/@vue/composition-api">@vue/composition-api</a>插件也可以令<code>vue2</code>适用本文所记录的语法。</p></blockquote><p><strong><a href="/posts/296e7875/">本文</a>会随着<a href="https://xiaokang.me/">作者</a>日常使用进行补充及内容修正</strong></p><h2 id="数据相关data"><a class="markdownIt-Anchor" href="#数据相关data"></a> 数据相关(data)</h2><div class="tabs" id="data1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#data1-1"><i class="i296e7875 icon-js"></i>setup</button></li><li class="tab"><button type="button" data-href="#data1-2"><i class="i296e7875 icon-vue"></i>script setup</button></li><li class="tab"><button type="button" data-href="#data1-3"><i class="i296e7875 icon-jsx"></i>tsx</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="data1-1"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div&gt;    &lt;!-- vue模式下展示ref数据不需要加.value --&gt;    &lt;div&gt;当前title：&#123;&#123; title &#125;&#125;&lt;&#x2F;div&gt;    &lt;input v-model&#x3D;&quot;title&quot; type&#x3D;&quot;text&quot; &#x2F;&gt;    &lt;div&gt;当前用户名：&#123;&#123; form.name &#125;&#125;&lt;&#x2F;div&gt;    &lt;div&gt;当前用户名：&#123;&#123; form.password &#125;&#125;&lt;&#x2F;div&gt;    &lt;div&gt;      &lt;input v-model&#x3D;&quot;form.name&quot; type&#x3D;&quot;text&quot; &#x2F;&gt;      &lt;input v-model&#x3D;&quot;form.password&quot; type&#x3D;&quot;text&quot; &#x2F;&gt;    &lt;&#x2F;div&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script lang&#x3D;&quot;ts&quot;&gt;import &#123; ref, reactive &#125; from &#39;vue&#39;export default &#123;  setup() &#123;    &#x2F;&#x2F; 定义响应式普通数据    const title &#x3D; ref&lt;string&gt;(&#39;小康&#39;)    &#x2F;&#x2F; 定义响应式引用数据    const form &#x3D; reactive(&#123;      name: &#39;小康&#39;,      password: &#39;12334&#39;    &#125;)    &#x2F;&#x2F; 需要将变量或方法return视图中才可以使用    return &#123; title, form &#125;  &#125;&#125;&lt;&#x2F;script&gt;&lt;style&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="data1-2"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;  &lt;div&gt;    &lt;!-- vue模式下展示ref数据不需要加.value --&gt;    &lt;div&gt;当前title：&#123;&#123; title &#125;&#125;&lt;&#x2F;div&gt;    &lt;input v-model&#x3D;&quot;title&quot; type&#x3D;&quot;text&quot; &#x2F;&gt;    &lt;div&gt;当前用户名：&#123;&#123; form.name &#125;&#125;&lt;&#x2F;div&gt;    &lt;div&gt;当前用户名：&#123;&#123; form.password &#125;&#125;&lt;&#x2F;div&gt;    &lt;div&gt;      &lt;input v-model&#x3D;&quot;form.name&quot; type&#x3D;&quot;text&quot; &#x2F;&gt;      &lt;input v-model&#x3D;&quot;form.password&quot; type&#x3D;&quot;text&quot; &#x2F;&gt;    &lt;&#x2F;div&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script lang&#x3D;&quot;ts&quot; setup&gt;&#x2F;&#x2F; script setup 模式下视图可以直接使用定义的变量import &#123; ref, reactive &#125; from &#39;vue&#39;&#x2F;&#x2F; 定义响应式普通数据const title &#x3D; ref&lt;string&gt;(&#39;小康&#39;)&#x2F;&#x2F; 定义响应式引用数据const form &#x3D; reactive(&#123;  name: &#39;小康&#39;,  password: &#39;12334&#39;&#125;)&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="data1-3"><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 定义响应式普通数据</span>    <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'小康'</span><span class="token punctuation">)</span>    <span class="token comment">// 定义响应式引用数据</span>    <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      name<span class="token operator">:</span> <span class="token string">'小康'</span><span class="token punctuation">,</span>      password<span class="token operator">:</span> <span class="token string">'12334'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">当前title：</span><span class="token punctuation">&#123;</span>title<span class="token punctuation">.</span>value<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">v-model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>title<span class="token punctuation">.</span>value<span class="token punctuation">&#125;</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">当前用户名：</span><span class="token punctuation">&#123;</span>form<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">当前用户名：</span><span class="token punctuation">&#123;</span>form<span class="token punctuation">.</span>password<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">v-model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>form<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">v-model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>form<span class="token punctuation">.</span>password<span class="token punctuation">&#125;</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>      <span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="自定义-v-model"><a class="markdownIt-Anchor" href="#自定义-v-model"></a> 自定义 v-model</h3><p>父组件调用子组件并通过v-model绑定一个值，在子组件中直接触发事件进行修改。</p><blockquote><p>emit使用参考下文</p></blockquote><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span> v-model-setup 当前title：&#123;&#123; title &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-model-setup</span> <span class="token attr-name"><span class="token namespace">v-model:</span>title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>    <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'父组件的标题'</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="tabs" id="vmodel"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#vmodel-1"><i class="i296e7875 icon-js"></i>setup</button></li><li class="tab"><button type="button" data-href="#vmodel-2"><i class="i296e7875 icon-vue"></i>script setup</button></li><li class="tab"><button type="button" data-href="#vmodel-3"><i class="i296e7875 icon-jsx"></i>tsx</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="vmodel-1"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeTitle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>修改传入title值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'update:title'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// setup参数参考 https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token function-variable function">changeTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update:title'</span><span class="token punctuation">,</span> <span class="token string">'子组件修改的值'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> changeTitle <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="vmodel-2"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeTitle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>修改传入title值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token comment">// script setup模式下需要使用defineEmits进行定义emit</span><span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'update:title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token function-variable function">changeTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update:title'</span><span class="token punctuation">,</span> <span class="token string">'script setup子组件修改的值'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="vmodel-3"><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineComponent <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'update:title'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// setup参数参考 https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token function-variable function">changeTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update:title'</span><span class="token punctuation">,</span> <span class="token string">'tsx子组件修改的值'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>changeTitle<span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">修改父组件的的值</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="接收父组件的值props"><a class="markdownIt-Anchor" href="#接收父组件的值props"></a> 接收父组件的值(props)</h3><div class="tabs" id="data-props"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#data-props-1"><i class="i296e7875 icon-js"></i>setup</button></li><li class="tab"><button type="button" data-href="#data-props-2"><i class="i296e7875 icon-vue"></i>script setup</button></li><li class="tab"><button type="button" data-href="#data-props-3"><i class="i296e7875 icon-jsx"></i>tsx</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="data-props-1"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> PropType <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>  props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    title<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">type</span><span class="token operator">:</span> String <span class="token keyword">as</span> PropType<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">,</span>      required<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'没有传入title'</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// setup 第一个参数可以取到props</span>  <span class="token function">setup</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> props <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="data-props-2"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> PropType <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token comment">// script setup模式下需要使用defineProps进行定义emit</span><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  title<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    type<span class="token operator">:</span> String <span class="token keyword">as</span> PropType<span class="token operator">&lt;</span>string<span class="token operator">></span><span class="token punctuation">,</span>    required<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'没有传入title'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="data-props-3"><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineComponent<span class="token punctuation">,</span> PropType <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    title<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">type</span><span class="token operator">:</span> String <span class="token keyword">as</span> PropType<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">,</span>      required<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'没有传入title'</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// setup 第一个参数可以取到props</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">子组件接收的title的值为：</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>title<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>如果需要将<code>props</code>中的值解构，则需要使用<code>toRefs</code>函数</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> title <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="方法相关methods"><a class="markdownIt-Anchor" href="#方法相关methods"></a> 方法相关(methods)</h2><p>事件相关无太大变化，<code>@eventName=&quot;eventFun&quot;</code>即可。</p><ul><li><a href="https://v3.cn.vuejs.org/guide/events.html">事件处理</a></li></ul><h3 id="自定义监听事件emit"><a class="markdownIt-Anchor" href="#自定义监听事件emit"></a> 自定义监听事件(emit)</h3><div class="tabs" id="emit"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#emit-1"><i class="i296e7875 icon-js"></i>setup</button></li><li class="tab"><button type="button" data-href="#emit-2"><i class="i296e7875 icon-vue"></i>script setup</button></li><li class="tab"><button type="button" data-href="#emit-3"><i class="i296e7875 icon-jsx"></i>tsx</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="emit-1"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 为了便于维护，定义好触发的emits</span>  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// setup参数参考 https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0</span>  <span class="token function">setup</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token function-variable function">changeTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'子组件修改的值'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> changeTitle <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="emit-2"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// script setup模式下需要使用defineEmits进行定义emit</span><span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token function-variable function">changeTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'script setup子组件修改的值'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="emit-3"><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineComponent <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token comment">// 为了便于维护，定义好触发的emits</span>  emits<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// setup参数参考 https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token function-variable function">changeTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'tsx子组件修改的值'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>changeTitle<span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">修改父组件的的值</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="计算属性computed和监听器watch"><a class="markdownIt-Anchor" href="#计算属性computed和监听器watch"></a> 计算属性(computed)和监听器(watch)</h2><p>更过细节参考</p><ul><li><a href="https://v3.cn.vuejs.org/guide/computed.html">基础：响应式计算和侦听器</a></li><li><a href="https://v3.cn.vuejs.org/guide/reactivity-computed-watchers.html#%E8%AE%A1%E7%AE%97%E5%80%BC">深入：响应式计算和侦听器</a></li></ul><h3 id="计算属性"><a class="markdownIt-Anchor" href="#计算属性"></a> 计算属性</h3><div class="tabs" id="computed"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#computed-1"><i class="i296e7875 icon-js"></i>setup</button></li><li class="tab"><button type="button" data-href="#computed-2"><i class="i296e7875 icon-vue"></i>script setup</button></li><li class="tab"><button type="button" data-href="#computed-3"><i class="i296e7875 icon-jsx"></i>tsx</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="computed-1"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>当前value原值&#123;&#123; val &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>当前计算属性newVal的值&#123;&#123; newVal &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>change<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>val+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// setup参数参考 https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> newVal <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 返回val加10的结果</span>      <span class="token keyword">return</span> val<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">10</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      val<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> val<span class="token punctuation">,</span> newVal<span class="token punctuation">,</span> change <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="computed-2"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>当前value原值&#123;&#123; val &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>当前计算属性newVal的值&#123;&#123; newVal &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>change<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>val+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">const</span> newVal <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 返回val加10的结果</span>  <span class="token keyword">return</span> val<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  val<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="computed-3"><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> defineComponent <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token comment">// setup参数参考 https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> newVal <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 返回val加10的结果</span>      <span class="token keyword">return</span> val<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">10</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      val<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">当前value原值</span><span class="token punctuation">&#123;</span>val<span class="token punctuation">.</span>value<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">当前计算属性newVal的值</span><span class="token punctuation">&#123;</span>newVal<span class="token punctuation">.</span>value<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>change<span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">val+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>      <span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="监听器watch"><a class="markdownIt-Anchor" href="#监听器watch"></a> 监听器(watch)</h3><h4 id="基础用法监听单个值"><a class="markdownIt-Anchor" href="#基础用法监听单个值"></a> 基础用法(监听单个值)</h4><div class="tabs" id="watch"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#watch-1"><i class="i296e7875 icon-js"></i>setup</button></li><li class="tab"><button type="button" data-href="#watch-2"><i class="i296e7875 icon-vue"></i>script setup</button></li><li class="tab"><button type="button" data-href="#watch-3"><i class="i296e7875 icon-jsx"></i>tsx</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="watch-1"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// setup参数参考 https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token function">watch</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">'发生了变化'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      val<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> val<span class="token punctuation">,</span> change <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="watch-2"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token function">watch</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">'发生了变化'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  val<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="watch-3"><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> defineComponent <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token comment">// setup参数参考 https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> val <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token function">watch</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">'发生了变化'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      val<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">当前value原值</span><span class="token punctuation">&#123;</span>val<span class="token punctuation">.</span>value<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>change<span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">val+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>      <span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="获取组件引用"><a class="markdownIt-Anchor" href="#获取组件引用"></a> 获取组件引用</h2><p>在vue2中获取引用通过<code>this.$ref</code>，然后vue3中并没有<code>this</code>，因此获取ref时的方式也发生了变化。</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; href=&quot;//at.alicdn.com/t/font_2970550_p76lkpuldlo.css&quot;&gt;
&lt;h2 id=&quot;关于此分类&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#关于此分类&quot;&gt;&lt;/a&gt;</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Vue" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Vue/"/>
    
    
    <category term="初识Vue3" scheme="https://www.antmoe.com/tags/%E5%88%9D%E8%AF%86Vue3/"/>
    
  </entry>
  
  <entry>
    <title>VUE单文件组件开发</title>
    <link href="https://www.antmoe.com/posts/380b1077/"/>
    <id>https://www.antmoe.com/posts/380b1077/</id>
    <published>2021-07-14T07:13:25.000Z</published>
    <updated>2022-03-08T06:47:42.807Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>首先需要阐明的是本文单文件开发最终实现的结果：**在 HTML 中通过引入打包后的 js 文件，然后使用组件标签即可渲染。**例如：</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xk-head</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2213<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xk-head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./dist/main.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">      <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        el<span class="token operator">:</span> <span class="token string">'#page'</span><span class="token punctuation">,</span>        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>          msg<span class="token operator">:</span> <span class="token string">'Hello Vue!123'</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>为什么没有把 vue 打包到<code>main.js</code>中?</p><p>考虑到一个页面可能会用到多个组件，而多个组件可能并不是使用的一个 js 生成，因此将 VUE 使用 CDN 方式引入。为了避免引入的繁琐，样式文件也没有进行拆分。</p></blockquote><h2 id="快速开始"><a class="markdownIt-Anchor" href="#快速开始"></a> 快速开始</h2><blockquote><p>此部分只包含核心部分，代码可能不可以直接使用。</p></blockquote><p>既然想要把<code>vue</code>单文件打包成 js 文件，那么核心就是<code>webpack</code>和<code>vue-loader</code>。</p><p>截至到目前（2021-07-04）为止，vue-loader 最新版本为 16+，但是 16 版本是针对 VUE3 的，而我所要使用的则是 VUE2 版本，因此并不能使用最新版本。因此需要安装的版本依赖如下：</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"@babel/core"</span><span class="token operator">:</span> <span class="token string">"^7.14.6"</span><span class="token punctuation">,</span>  <span class="token property">"babel-loader"</span><span class="token operator">:</span> <span class="token string">"8.2.2"</span><span class="token punctuation">,</span>  <span class="token property">"babel-preset-env"</span><span class="token operator">:</span> <span class="token string">"^1.7.0"</span><span class="token punctuation">,</span>  <span class="token property">"vue-loader"</span><span class="token operator">:</span> <span class="token string">"15.9.7"</span><span class="token punctuation">,</span>  <span class="token property">"vue-style-loader"</span><span class="token operator">:</span> <span class="token string">"^4.1.3"</span><span class="token punctuation">,</span>  <span class="token property">"vue-template-compiler"</span><span class="token operator">:</span> <span class="token string">"^2.6.14"</span><span class="token punctuation">,</span>  <span class="token property">"webpack"</span><span class="token operator">:</span> <span class="token string">"5.42.0"</span><span class="token punctuation">,</span>  <span class="token property">"webpack-cli"</span><span class="token operator">:</span> <span class="token string">"^4.7.2"</span><span class="token punctuation">,</span>  <span class="token property">"webpack-dev-server"</span><span class="token operator">:</span> <span class="token string">"^3.11.2"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>接下来配置 webpack（只列出了核心配置）</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// webpack.config.js</span><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> VueLoaderPlugin <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader'</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>  module<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    rules<span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span>        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>        loader<span class="token operator">:</span> <span class="token string">'vue-loader'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token comment">// 它会应用到普通的 `.js` 文件</span>      <span class="token comment">// 以及 `.vue` 文件中的 `&lt;script>` 块</span>      <span class="token punctuation">&#123;</span>        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>        loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token comment">// 它会应用到普通的 `.css` 文件</span>      <span class="token comment">// 以及 `.vue` 文件中的 `&lt;style>` 块</span>      <span class="token punctuation">&#123;</span>        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue-style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token comment">// 请确保引入这个插件来施展魔法</span>    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>vue-loader15 版本后需要引入一个<code>VueLoaderPlugin</code>的 plugin 才可以使用。并且在 15 版本后 vue 中对应的 js 和 css 会分别对应其后缀的文件进行解析。</p></blockquote><p>不出意外此时即可编译出一个 js，将其引入到 HTML 中即可实现。</p><h2 id="优化配置"><a class="markdownIt-Anchor" href="#优化配置"></a> 优化配置</h2><p>以<code>src</code>为开发目录进行配置</p><h3 id="webpack-配置文件"><a class="markdownIt-Anchor" href="#webpack-配置文件"></a> webpack 配置文件</h3><ol><li><p>入口文件</p><p>因为我们开发的是单文件组件，因此入口文件可能不止一个（不同类型或用途的组件），因此我们的入口最好是动态获取。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * @description: 获取入口 */</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> parse<span class="token punctuation">,</span> resolve <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token comment">/** * 传入路径获取入口文件配置 * @date 2021-05-18 * @param &#123;String&#125; path 入口js文件夹 * @returns &#123;Object&#125; 入口配置对象 */</span><span class="token keyword">const</span> <span class="token function-variable function">getEntry</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> files <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>  <span class="token keyword">const</span> entry <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> name<span class="token punctuation">,</span> ext<span class="token punctuation">,</span> base <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> path<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// 如果ext存在,则认为是入口js文件</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ext<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      entry<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">resolve</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> base<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> entry<span class="token punctuation">&#125;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> getEntry<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>向外暴露一个函数，参数传入一个路径，该函数会返回入口文件的对象。</p></blockquote></li><li><p>loader</p><p>由于 loader 包含的类型比较多（sass、scss、stylus 等）因此我会讲他单独提取出来。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./stylus'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./less.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./sass'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./scss'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./javascript'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./image'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./font'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./font'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./vue'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>通过一个入口文件，向外暴露一个 loader 的列表。</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// stylus示例</span><span class="token keyword">const</span> stylus <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.styl(us)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>  use<span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">'vue-style-loader'</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>      options<span class="token operator">:</span> <span class="token punctuation">&#123;</span> importLoaders<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token string">'postcss-loader'</span><span class="token punctuation">,</span>    <span class="token string">'stylus-loader'</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> stylus<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>其他 loader 也是如此配置</p></blockquote></li><li><p>plugins</p><p>plugins 由于只用到了两个，且不需要过多配置，因此个人认为无需提取。</p></li><li><p>其他</p><p>例如<code>mode</code>和<code>devtool</code>则是根据环境变量和个人需求进行配置。</p></li></ol><h3 id="组件开发"><a class="markdownIt-Anchor" href="#组件开发"></a> 组件开发</h3><ol><li><p>入口文件</p><p>这里入口文件暂定为<code>/src/components</code>目录下的每一个 js 文件。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 导入头部组件</span><span class="token keyword">import</span> head <span class="token keyword">from</span> <span class="token string">'../components/head/head.vue'</span><span class="token comment">/** * 全局filter */</span><span class="token keyword">import</span> filterInit <span class="token keyword">from</span> <span class="token string">'../util/filter'</span><span class="token function">filterInit</span><span class="token punctuation">(</span>Vue<span class="token punctuation">)</span>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span>name<span class="token punctuation">,</span> head<span class="token punctuation">)</span>Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>devtools <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span>window<span class="token punctuation">.</span>Vue <span class="token operator">=</span> Vue<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h2 id="问题"><a class="markdownIt-Anchor" href="#问题"></a> 问题</h2><ol><li><p><code>vue-loader</code>版本问题</p><p><code>vue-loader</code>版本 16 只支持 vue3,因此如果使用 vue2 则需要使用 15.x 版本.</p></li><li><p>组件库</p><p>例如<code>elementui</code>组件库</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Button <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'element-ui'</span>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>Button<span class="token punctuation">.</span>name<span class="token punctuation">,</span> Button<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol><h2 id="示例"><a class="markdownIt-Anchor" href="#示例"></a> 示例</h2><p>示例仓库:<a href="https://github.com/kkfive/vue-components-init.git">https://github.com/kkfive/vue-components-init.git</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h2&gt;
&lt;p&gt;首先需要阐明的是本文单文件开发最终实现的结果：**在 HTML 中通过引入打包后的 js 文件，然后使用组件标签即可渲染。**例如：&lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Vue2" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Vue2/"/>
    
    
    <category term="组件化开发" scheme="https://www.antmoe.com/tags/%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript中的防抖和节流</title>
    <link href="https://www.antmoe.com/posts/7f741bc2/"/>
    <id>https://www.antmoe.com/posts/7f741bc2/</id>
    <published>2021-05-29T13:47:25.000Z</published>
    <updated>2022-03-08T06:47:42.807Z</updated>
    
    <content type="html"><![CDATA[<h2 id="什么是防抖"><a class="markdownIt-Anchor" href="#什么是防抖"></a> 什么是防抖</h2><p>函数防抖（debounce）：当持续触发事件时，一定时间段内没有再触发事件，事件处理函数才会执行一次，如果设定的时间到来之前，又一次触发了事件，就重新开始延时。如下图，持续触发scroll事件时，并不执行handle函数，当1000毫秒内没有触发scroll事件时，才会延时触发scroll事件。</p><p><img src="https://file.acs.pw/picgo/2021/05/29/20210529221042.jpeg" alt="防抖" /></p><p>防抖应用场景如下</p><ul><li>搜索框输入查询，如果用户一直在输入中，没有必要不停地调用去请求服务端接口，等用户停止输入的时候，再调用，设置一个合适的时间间隔，有效减轻服务端压力。</li><li>表单验证</li><li>按钮提交事件。</li><li>浏览器窗口缩放，resize事件(如窗口停止改变大小之后重新计算布局)等。</li></ul><h3 id="具体实现lodash库"><a class="markdownIt-Anchor" href="#具体实现lodash库"></a> 具体实现(Lodash库)</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * * @param &#123; Function &#125; func 要进行debouce的函数 * @param &#123; Number &#125; wait 等待时间,默认500ms * @param &#123; Boolean &#125; immediate 是否立即执行 */</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span> immediate<span class="token operator">=</span><span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> timeout    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">this</span>        <span class="token keyword">var</span> args <span class="token operator">=</span> arguments        <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// 如果已经执行过，不再执行</span>            <span class="token keyword">var</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timeout            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                timeout <span class="token operator">=</span> <span class="token keyword">null</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>非立即执行的意思是触发事件后函数不会立即执行，而是在 n 秒后执行，如果在 n 秒内又触发了事件，则会重新计算函数执行时间。</p><p>立即执行的意思是触发事件后函数会立即执行，然后 n 秒内<strong>不触发事件</strong>才能继续执行函数的效果</p></blockquote><h2 id="什么是节流"><a class="markdownIt-Anchor" href="#什么是节流"></a> 什么是节流</h2><p>函数节流（throttle）：当持续触发事件时，保证一定时间段内只调用一次事件处理函数。节流通俗解释就比如我们水龙头放水，阀门一打开，水哗哗的往下流，秉着勤俭节约的优良传统美德，我们要把水龙头关小点，最好是如我们心意按照一定规律在某个时间间隔内一滴一滴的往下滴。如下图，持续触发scroll事件时，并不立即执行handle函数，每隔1000毫秒才会执行一次handle函数。</p><p><img src="https://file.acs.pw/picgo/2021/05/29/20210529221115.jpeg" alt="节流" /></p><p>节流应用场景：</p><ul><li>按钮点击事件</li><li>拖拽事件</li><li>onScoll</li><li>计算鼠标移动的距离(mousemove)</li></ul><h3 id="具体实现"><a class="markdownIt-Anchor" href="#具体实现"></a> 具体实现</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * 节流，多次触发，间隔时间段执行 * @param &#123; Function &#125; func * @param &#123; Number &#125; wait * @param &#123; Object &#125; options */</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> timeout<span class="token punctuation">,</span> context<span class="token punctuation">,</span> args    <span class="token keyword">var</span> previous <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">)</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>leading<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>trailing<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">&#125;</span>    <span class="token keyword">var</span> <span class="token function-variable function">later</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        previous <span class="token operator">=</span> options<span class="token punctuation">.</span>leading <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        timeout <span class="token operator">=</span> <span class="token keyword">null</span>        <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> context <span class="token operator">=</span> args <span class="token operator">=</span> <span class="token keyword">null</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">var</span> <span class="token function-variable function">throttled</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>previous <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>leading <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> previous <span class="token operator">=</span> now        <span class="token keyword">var</span> remaining <span class="token operator">=</span> wait <span class="token operator">-</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> previous<span class="token punctuation">)</span>        context <span class="token operator">=</span> <span class="token keyword">this</span>        args <span class="token operator">=</span> arguments        <span class="token keyword">if</span> <span class="token punctuation">(</span>remaining <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> remaining <span class="token operator">></span> wait<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>                timeout <span class="token operator">=</span> <span class="token keyword">null</span>            <span class="token punctuation">&#125;</span>            previous <span class="token operator">=</span> now            <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> context <span class="token operator">=</span> args <span class="token operator">=</span> <span class="token keyword">null</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>trailing <span class="token operator">!==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span> remaining<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> throttled<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>第三个参数还有点复杂，<code>options</code></p><ul><li>leading，函数在每个等待时延的开始被调用，默认值为false</li><li>trailing，函数在每个等待时延的结束被调用，默认值是true</li></ul><p><code>leading-false，trailing-true</code>：默认情况，即在延时结束后才会调用函数</p><p><code>leading-true，trailing-true</code>：在延时开始时就调用，延时结束后也会调用</p><p><code>leading-true, trailing-false</code>：只在延时开始时调用</p></blockquote><h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2><ul><li><p>函数防抖</p><p>将几次操作合并为一此操作进行。原理是维护一个计时器，规定在delay时间后触发函数，但是在delay时间内再次触发的话，就会取消之前的计时器而重新设置。这样一来，只有最后一次操作能被触发。</p><ol><li>input框搜索，用户在不断输入值时，用防抖来节约请求资源。</li><li>window触发resize的时候，不断的调整浏览器窗口大小会不断的触发这个事件，用防抖来让其只触发一次。</li></ol></li><li><p>函数节流</p><p>使得一定时间内只触发一次函数。原理是通过判断是否到达一定时间来触发函数。</p><ol><li>鼠标不断点击触发，mousedown(单位时间内只触发一次)</li><li>监听滚动事件，比如是否滑到底部自动加载更多，用throttle来判断</li></ol></li><li><p>区别</p><p>函数节流不管事件触发有多频繁，都会保证在规定时间内一定会执行一次真正的事件处理函数</p><p>而函数防抖只是在最后一次事件后才触发一次函数。 比如在页面的无限加载场景下，我们需要用户在滚动页面时，每隔一段时间发一次 Ajax 请求，而不是在用户停下滚动页面操作时才去请求数据。这样的场景，就适合用节流技术来实现。</p></li></ul><h2 id="文章参考"><a class="markdownIt-Anchor" href="#文章参考"></a> 文章参考</h2><ul><li><a href="https://www.cnblogs.com/momo798/p/9177767.html">js防抖和节流</a></li><li><a href="https://github.com/Michael-lzg/my--article/blob/master/javascript/js%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81.md">js防抖和节流</a></li><li><a href="https://juejin.cn/post/7000919400249294862">16个工程必备的JavaScript代码片段（建议添加到项目中）</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;什么是防抖&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#什么是防抖&quot;&gt;&lt;/a&gt; 什么是防抖&lt;/h2&gt;
&lt;p&gt;函数防抖（debounce）：当持续触发事件时，一定时间段内没有再触发事件，事件处理函数才会执行一次，如果设定的时间到来之前，</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="JavaScript" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/JavaScript/"/>
    
    
    <category term="防抖节流" scheme="https://www.antmoe.com/tags/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/"/>
    
  </entry>
  
  <entry>
    <title>给bber换个皮肤</title>
    <link href="https://www.antmoe.com/posts/7ec820ee/"/>
    <id>https://www.antmoe.com/posts/7ec820ee/</id>
    <published>2021-03-24T02:58:00.000Z</published>
    <updated>2022-03-08T06:47:42.807Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简单介绍"><a class="markdownIt-Anchor" href="#简单介绍"></a> 简单介绍</h2><div class="note danger modern"><p>此项目只是一个前端皮肤，其功能受限于后端云函数。因此我已经将哔哔迁移<a href="https://www.antmoe.com/speak/">speak</a>。此皮肤项目不在维护！！！</p></div><p>此项目仅仅作为<a href="https://immmmm.com/bb-by-wechat-pro/">哔哔点啥</a>数据的前端页面展示，并不会修改及影响任何关于云函数的内容。</p><p><em>注：前端解析不在使用markdown语法解析，但支持<code>![]()</code> 语法的图片。</em></p><p>示例页面：<a target="_blank" href="https://www.antmoe.com/bb/"><span>小康的bb页面</span></a></p><p><img src="https://file.acs.pw/picGo/2021/3/24/9c756e25681681755e2599dd7c0cd009.png" alt="image-20210324110323140" /></p><blockquote><p>样式参考：<a href="https://tomotoes.com/blog/weibo/">微博</a></p></blockquote><h2 id="快速开始"><a class="markdownIt-Anchor" href="#快速开始"></a> 快速开始</h2><p>请先确保按照其教程成功部署后，在你的markdown文件写入如下内容即可。</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>speak-bber<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>speak</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/ispeak-bber@1.1.1-beta/ispeak-bber.min.js<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">ispeakBber    <span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      el<span class="token operator">:</span> <span class="token string">'#speak-bber'</span><span class="token punctuation">,</span>      name<span class="token operator">:</span> <span class="token string">'DreamyTZK 🦄'</span><span class="token punctuation">,</span> <span class="token comment">// 显示的昵称</span>      envId<span class="token operator">:</span> <span class="token string">'腾讯云开发环境id'</span><span class="token punctuation">,</span> <span class="token comment">// 环境id</span>      region<span class="token operator">:</span> <span class="token string">'ap-shanghai'</span><span class="token punctuation">,</span> <span class="token comment">// 腾讯云地址，默认为上海</span>      limit<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 每次加载的条数，默认为5</span>      avatar<span class="token operator">:</span> <span class="token string">'https://cdn.jsdelivr.net/npm/kang-static@latest/avatar.jpg'</span><span class="token punctuation">,</span>      fromcolor<span class="token operator">:</span><span class="token string">'rgb(245, 150, 170)'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ispeak 加载完成'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>按照注释需求填写对应的信息即可。</p></blockquote><h2 id="发布哔哔的新方式"><a class="markdownIt-Anchor" href="#发布哔哔的新方式"></a> 发布哔哔的新方式</h2><blockquote><p>此插件仅适用于chrome内核的浏览器。</p></blockquote><p>发布哔哔的方式很简单，即调用接口请求数据即可。作者提供了一种微信发布哔哔的方式，参考<a href="https://blog.zhheo.com/p/27be0e44.html">张洪</a>的教程又解锁了通过<strong>快捷指令</strong>、<strong>Utools</strong>发布哔哔的方式。但这三种方式对我来说均有些不足，因此参考<a href="https://www.ihewro.com/archives/489/">handsome</a>主题附赠的浏览器插件源码，改装成了一个发送哔哔的发射台。</p><p><img src="https://file.acs.pw/picGo/2021/3/24/a10b5f149e45b97d3f429bd291511c88.png" alt="image-20210324111051857" /></p><ul><li><p>接口地址：也就是云函数的接口地址</p><p>示例：<code>https://环境id.ap-shanghai.app.tcloudbase.com/bber</code>，参考木木的教程进行获取。</p></li><li><p>key</p><p>自定义的key</p></li><li><p>7bu图床token</p><p>插件允许<strong>ctrl+v</strong>、<strong>拖拽</strong>方式进行上传图片到<a href="https://7bu.top/">7bu图床</a>，因此你可以设置token，如果设置会将图片上传到自己的账户下，不设置则会匿名上传。</p><p>token获取参考：<a href="https://7bu.top/index/api.html">https://7bu.top/index/api.html</a></p></li><li><p>from</p><p>对应接口from字段，原意为哔哔来源，但我更倾向于标签的定义。</p></li></ul><h2 id="浏览器如何安装插件"><a class="markdownIt-Anchor" href="#浏览器如何安装插件"></a> 浏览器如何安装插件</h2><ol><li>使用Edge浏览器安装<a href="https://microsoftedge.microsoft.com/addons/detail/ispeakbber%E6%97%B6%E5%85%89%E6%9C%BA/nbojopnokkmdbmnneoagianhafgmohfc">ispeak-bber</a>插件</li><li>填写对应字段，然后发送哔哔</li></ol><h2 id="添加首页轮播"><a class="markdownIt-Anchor" href="#添加首页轮播"></a> 添加首页轮播</h2><p>添加首页轮播借助了<a href="https://butterfly.js.org/posts/ea33ab97/">butterfly主题自定义组件</a>的功能实现，通过在自定义组件处加载JavaScript生成首页的轮播展示。示例代码如下：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> latestBB  <span class="token key atrule">id_name</span><span class="token punctuation">:</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> 最新吐槽  <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>bolt  <span class="token key atrule">order</span><span class="token punctuation">:</span> <span class="token number">2</span>  <span class="token key atrule">html</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">    &lt;div class="swiper-container swiper-container-aside">      &lt;div class="swiper-wrapper swiper-weapper-aside">&lt;/div>    &lt;/div>    &lt;a class="bb-btn button--animated" href="/bb/" title="查看全部">&lt;i class="far fa-hand-point-right fa-fw">&lt;/i> 查看更多 &lt;/a>    &lt;script>      window.kkBBConfig = &#123;        limit: 9,        blog:'/bb/',        api_url:          'https://636f-comment-5gj5t55m7efcd73d-1251136071.tcb.qcloud.la/json/bber.json'      &#125;    &lt;/script>    &lt;script src="https://cdn.jsdelivr.net/npm/butterfly-bber-swiper/dist/index.min.js">&lt;/script></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><code>latestBB</code></p><p>容器class名，请保持<code>latestBB</code>不要更改</p></li><li><p><code>html</code></p><p>必须包含的内容如下：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">class_name</span><span class="token punctuation">:</span> latestBB  <span class="token key atrule">html</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">    &lt;div class="swiper-container swiper-container-aside">      &lt;div class="swiper-wrapper swiper-weapper-aside">&lt;/div>    &lt;/div>    &lt;script>      window.kkBBConfig = &#123;        // 如果使用API 那么此字段表示读取的数量        limit: 9,        // 点击后跳转的链接        blog:'/bb/',        // api地址，可以是json文件地址 也可以是api地址        api_url:          'https://636f-comment-5gj5t55m7efcd73d-1251136071.tcb.qcloud.la/json/bber.json'      &#125;    &lt;/script>    &lt;script src="https://cdn.jsdelivr.net/npm/butterfly-bber-swiper/dist/index.min.js">&lt;/script></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>其他可根据自己的需求今天添加。</p></li><li><p>其他</p><p>其他未提及字段非本项目必须字段，因此不做解释，可参考官方文档：<a href="https://butterfly.js.org/posts/ea33ab97/">https://butterfly.js.org/posts/ea33ab97/</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;简单介绍&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#简单介绍&quot;&gt;&lt;/a&gt; 简单介绍&lt;/h2&gt;
&lt;div class=&quot;note danger modern&quot;&gt;&lt;p&gt;此项目只是一个前端皮肤，其功能受限于后端云函数。因此我已经将哔哔迁移</summary>
      
    
    
    
    <category term="Project" scheme="https://www.antmoe.com/categories/Project/"/>
    
    <category term="Speak-bber" scheme="https://www.antmoe.com/categories/Project/Speak-bber/"/>
    
    
    <category term="bber" scheme="https://www.antmoe.com/tags/bber/"/>
    
  </entry>
  
  <entry>
    <title>一、VUE中的遗漏的知识</title>
    <link href="https://www.antmoe.com/posts/c99a2dda/"/>
    <id>https://www.antmoe.com/posts/c99a2dda/</id>
    <published>2021-03-19T08:35:25.000Z</published>
    <updated>2022-03-08T06:47:42.807Z</updated>
    
    <content type="html"><![CDATA[<h2 id="render中的h函数"><a class="markdownIt-Anchor" href="#render中的h函数"></a> render中的h函数</h2><p>h函数可以创建虚拟dom，通过创建的虚拟dom再转化为真的的DOM，从而渲染到页面中。</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">  <span class="token comment">// render function</span>  <span class="token comment">// template -> render -> h -> 虚拟DOM（JS对象）-> 真实 DOM -> 展示到页面上</span>  <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;my-title :level="2">hello xiaokang  &lt;/my-title></span><span class="token template-punctuation string">`</span></span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-title'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>    props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'level'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> h <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'h'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>level<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$slots<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'h4'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">'xiaokang'</span><span class="token punctuation">)</span>      <span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> vm <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>h函数第一个参数为<code>tag name</code>，也就是你需要创建的标签名，第二参数为此标签上的属性，第三个参数为其内容数组。</p></blockquote><p><img src="https://file.acs.pw/picGo/2021/3/19/8389ca8508a1c1f8408036f2b7a819a2.png" alt="image-20210319172822390" /></p><blockquote><p>参考链接：<a href="https://vue3js.cn/docs/zh/guide/render-function.html">https://vue3js.cn/docs/zh/guide/render-function.html</a></p></blockquote><h2 id="插件"><a class="markdownIt-Anchor" href="#插件"></a> 插件</h2><p>vue中插件主要用于把一些通用性的功能封装起来</p><p>插件定义的基本语法</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> myPlugin <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>当使用插件时，会调用插件的install方法。第一个参数app为生成的app对象，第二个参数为传递的参数。</p></blockquote><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">  <span class="token comment">// plugin 插件, 也是把通用性的功能封装起来</span>  <span class="token keyword">const</span> myPlugin <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 提供和注入</span>      app<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'xiaokang'</span><span class="token punctuation">)</span>      <span class="token comment">// 自定义指令</span>      app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token comment">// 混入</span>      app<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mixin'</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token comment">// 全局属性</span>      app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$sayHello <span class="token operator">=</span> <span class="token string">'hello world'</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;my-title /></span><span class="token template-punctuation string">`</span></span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-title'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>    inject<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$sayHello<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div>&#123;&#123;name&#125;&#125;&lt;input v-focus />&lt;/div></span><span class="token template-punctuation string">`</span></span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>myPlugin<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'xiaokang'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> vm <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details ><summary> <p>数据校验插件</p> </summary>              <div class='content'>              <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'dell'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  rules<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    age<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token parameter">age</span> <span class="token operator">=></span> age <span class="token operator">></span> <span class="token number">25</span><span class="token punctuation">,</span>      message<span class="token operator">:</span> <span class="token string">'too young, to simple'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token parameter">name</span> <span class="token operator">=></span> name<span class="token punctuation">.</span>length <span class="token operator">>=</span> <span class="token number">4</span><span class="token punctuation">,</span>      message<span class="token operator">:</span> <span class="token string">'name too short'</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div>name:&#123;&#123;name&#125;&#125;, age:&#123;&#123;age&#125;&#125;&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 对数据做校验的插件</span><span class="token keyword">const</span> <span class="token function-variable function">validatorPlugin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  app<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>rules<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>rules<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>          <span class="token keyword">const</span> result <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>validatorPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> vm <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>              </div>            </details><blockquote><p>参考：<a href="https://vue3js.cn/docs/zh/guide/plugins.html">https://vue3js.cn/docs/zh/guide/plugins.html</a></p></blockquote><h2 id="teleport传送门-vue3"><a class="markdownIt-Anchor" href="#teleport传送门-vue3"></a> Teleport传送门-vue3</h2><p>主要用于将dom元素挂载到其他位置，例如挂载到<code>head</code>里。</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">  <span class="token comment">// teleport 传送门</span>  <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>        show<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        message<span class="token operator">:</span> <span class="token string">'hello'</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token function">handleBtnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>show <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>show<span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">      &lt;div class="area">        &lt;button @click="handleBtnClick">按钮&lt;/button>        &lt;teleport to="body">          &lt;div class="mask" v-show="show">&#123;&#123;message&#125;&#125;&lt;/div>        &lt;/teleport>      &lt;/div>    </span><span class="token template-punctuation string">`</span></span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> vm <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2021/3/19/aa3bc2cad2374fc1ba959ab54d4faf45.png" alt="image-20210319171148266" /></p><h2 id="components-api-vue3"><a class="markdownIt-Anchor" href="#components-api-vue3"></a> components API-vue3</h2><h3 id="setup函数"><a class="markdownIt-Anchor" href="#setup函数"></a> setup函数</h3><p>该函数会在<strong>创建组件之前</strong>执行，由于在执行 <code>setup</code> 时尚未创建组件实例，因此在 <code>setup</code> 选项中没有 <code>this</code>。这意味着，除了 <code>props</code> 之外，你将无法访问组件中声明的任何属性——<strong>本地状态</strong>、<strong>计算属性</strong>或<strong>方法</strong>。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 对数据做校验的插件</span><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div @click="handleClick">&#123;&#123;name&#125;&#125;&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>  methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// 实例可以调用setup方法</span>  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// 这里不能调用this</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>      name<span class="token operator">:</span> <span class="token string">'xiaokang'</span><span class="token punctuation">,</span>      <span class="token function-variable function">handleClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">const</span> vm <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>setup里返回的内容可以在实例中调用。</p></blockquote><h3 id="响应式引用与只读"><a class="markdownIt-Anchor" href="#响应式引用与只读"></a> 响应式引用与只读</h3><p>主要用于将<code>setup</code>中的变量转换为响应式的变量。默认变量并不是响应式的。</p><p>其中<code>ref</code>处理基础类型的数据，<code>reactive</code>用于处理非基础类型的数据（对象和数组）。</p><table><thead><tr><th style="text-align:center">方法名</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>ref</code></td><td style="text-align:center">将基础类型数据转化为响应式数据</td></tr><tr><td style="text-align:center"><code>reactive</code></td><td style="text-align:center">将非基础类型的数据（对象和数组）。</td></tr><tr><td style="text-align:center"><code>readonly</code></td><td style="text-align:center">将数据设为只读</td></tr><tr><td style="text-align:center"><code>toRefs</code></td><td style="text-align:center">将非基础类型的子元素设置为响应式数据</td></tr></tbody></table><ol><li><p>基础类型引用</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> ref <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue  <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'2'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> name <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>通过ref包装后，name实则变成了<code>proxy(&#123;value: '2'&#125;)</code>这样的引用，当修改值时需要修改name的value属性。但是调用时不需要使用<code>value</code>，vue会识别并自动调用。</p></blockquote></li><li><p>非基础类型引用</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> reactive<span class="token punctuation">,</span> readonly<span class="token punctuation">,</span> toRefs <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue  <span class="token keyword">const</span> nameObj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'xiaokang'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">21</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    nameObj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">'22'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> nameObj <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>通过<code>reactive</code>包装后，nameObj就是响应式的了。</p></blockquote></li><li><p>组合使用</p><p>在非响应式引用里，只有整个对象是响应式的，而对象里的某个属性并不是响应式的，因此，需要将这个对象再次进行包装才可以使其属性变成响应式的。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> reactive<span class="token punctuation">,</span> readonly<span class="token punctuation">,</span> toRefs <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue  <span class="token keyword">const</span> nameObj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'xiaokang'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">21</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    nameObj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">'22'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> name<span class="token punctuation">,</span> age <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>nameObj<span class="token punctuation">)</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> age <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>只读</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> nameObj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'xiaokang'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">const</span> nameObjCopy <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>nameObj<span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  nameObj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">21</span>  nameObjCopy<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><blockquote><p>参考：<a href="https://vue3js.cn/docs/zh/guide/composition-api-introduction.html#%E5%B8%A6-ref-%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8F%98%E9%87%8F">https://vue3js.cn/docs/zh/guide/composition-api-introduction.html#带-ref-的响应式变量</a></p></blockquote><h3 id="toref"><a class="markdownIt-Anchor" href="#toref"></a> toRef</h3><p>可以用来为源响应式对象上的 property 性创建一个 <a href="https://vue3js.cn/docs/zh/api/refs-api.html#ref"><code>ref</code></a>。然后可以将 ref 传递出去，从而保持对其源 property 的响应式连接。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> reactive<span class="token punctuation">,</span> toRef <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue  <span class="token keyword">const</span> nameObj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'xiaokang'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    age<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">21</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> age <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="setup中context参数"><a class="markdownIt-Anchor" href="#setup中context参数"></a> setup中context参数</h2><p>context参数一共可以结构出三个参数：</p><ul><li><p><code>attrs</code></p><p>None-Props属性</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;child app='app' style='color:red'>&lt;/child></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'child'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  template<span class="token operator">:</span> <span class="token string">'&lt;div>child&lt;/div>'</span><span class="token punctuation">,</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> attrs<span class="token punctuation">,</span> slots<span class="token punctuation">,</span> emit <span class="token punctuation">&#125;</span> <span class="token operator">=</span> context    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attrs<span class="token punctuation">)</span> <span class="token comment">// 接收没有被props接收的属性</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">const</span> vm <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2021/3/19/f33997da9bc1eff1e1330a4b0196cee2.png" alt="image-20210319190338185" /></p></li><li><p><code>slots</code></p><p>插槽</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;child app='app' style='color:red'>插槽内容  &lt;/child></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'child'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> h <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> attrs<span class="token punctuation">,</span> slots<span class="token punctuation">,</span> emit <span class="token punctuation">&#125;</span> <span class="token operator">=</span> context    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> slots<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">const</span> vm <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>可以使用<code>jsx</code>进行模板渲染：<a href="https://github.com/vuejs/jsx-next#installation">https://github.com/vuejs/jsx-next#installation</a></p></blockquote></li><li><p><code>emit</code></p><p>触发自定义事件</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;child @change='handleChange' app='app' style='color:red'>插槽内容&lt;/child></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>  methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'child'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  template<span class="token operator">:</span> <span class="token string">"&lt;div @click='handleClick'>123123&lt;/div>"</span><span class="token punctuation">,</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> h <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> attrs<span class="token punctuation">,</span> slots<span class="token punctuation">,</span> emit <span class="token punctuation">&#125;</span> <span class="token operator">=</span> context    <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>      handleClick    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">const</span> vm <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="计算属性"><a class="markdownIt-Anchor" href="#计算属性"></a> 计算属性</h3><p>计算属性同样使用<code>Vue</code>对象提供的<code>computed</code>方法。computed方法接收参数有两种类型，一种是函数，另一种是对象。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue  <span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token keyword">let</span> number2 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    number<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>    number2<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 传入函数</span>  <span class="token keyword">let</span> cNumber <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> number<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">5</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token comment">// 传入对象</span>  <span class="token keyword">let</span> cNumberObj <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> number2<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">5</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      number2<span class="token punctuation">.</span>value <span class="token operator">=</span> val <span class="token operator">-</span> <span class="token number">1</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> number<span class="token punctuation">,</span> cNumber<span class="token punctuation">,</span> handle<span class="token punctuation">,</span> cNumberObj <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="watch与watcheffect"><a class="markdownIt-Anchor" href="#watch与watcheffect"></a> watch与watchEffect</h3><p>就像我们如何使用 <code>watch</code> 选项在组件内的 <code>user</code> property 上设置侦听器一样，我们也可以使用从 Vue 导入的 <code>watch</code> 函数执行相同的操作。它接受 3 个参数：</p><ul><li>一个<strong>响应式引用</strong>或我们想要侦听的 getter 函数</li><li>一个回调函数</li><li>可选的配置选项</li></ul><ol><li><p>侦听单个源</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 侦听一个 getter</span><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> count<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> state<span class="token punctuation">.</span>count<span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token parameter">count<span class="token punctuation">,</span> prevCount</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">/* ... */</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// 直接侦听ref</span><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token function">watch</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">count<span class="token punctuation">,</span> prevCount</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* ... */</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>侦听多个源</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>fooRef<span class="token punctuation">,</span> barRef<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>prevFoo<span class="token punctuation">,</span> prevBar<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* ... */</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ol><table><thead><tr><th style="text-align:center">不同点</th><th style="text-align:center"><code>watch</code></th><th style="text-align:center"><code>watchEffect</code></th></tr></thead><tbody><tr><td style="text-align:center">惰性</td><td style="text-align:center">默认情况下是惰性的，但第三个参数传入<code>immediate</code>为true可以立即执行</td><td style="text-align:center">非惰性</td></tr><tr><td style="text-align:center">能拿到原始值和当前值</td><td style="text-align:center">能</td><td style="text-align:center">只能拿到当前值</td></tr><tr><td style="text-align:center">只可以侦听多个数据</td><td style="text-align:center">可以</td><td style="text-align:center">可以</td></tr></tbody></table><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> stop <span class="token operator">=</span> <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>  <span class="token comment">// 会自动判断依赖并更新</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nameObj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 调用后会停止监听</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="生命周期"><a class="markdownIt-Anchor" href="#生命周期"></a> 生命周期</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>    ref<span class="token punctuation">,</span>    onBeforeMount<span class="token punctuation">,</span>    onMounted<span class="token punctuation">,</span>    onBeforeUpdate<span class="token punctuation">,</span>    onUpdated<span class="token punctuation">,</span>    onRenderTracked<span class="token punctuation">,</span>    onRenderTriggered  <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'dell'</span><span class="token punctuation">)</span>  <span class="token function">onBeforeMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onBeforeMount'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onMounted'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onBeforeUpdate'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onUpdated'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token comment">// 每次渲染后重新收集响应式依赖</span>  <span class="token function">onRenderTracked</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onRenderTracked'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token comment">// 每次触发页面重新渲染时自动执行</span>  <span class="token function">onRenderTriggered</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onRenderTriggered'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'lee'</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> name<span class="token punctuation">,</span> handleClick <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="provide-inject和ref"><a class="markdownIt-Anchor" href="#provide-inject和ref"></a> Provide、Inject和ref</h3><p>提供与注入</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> provide<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> readonly <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue<span class="token punctuation">;</span>        <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'name1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token function">readonly</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'changeName'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>          name<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">        &lt;div>          &lt;child />        &lt;/div>      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'child'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>      <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> inject <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue<span class="token punctuation">;</span>        <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> changeName <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'changeName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>          <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token string">'name2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> name<span class="token punctuation">,</span> handleClick <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      template<span class="token operator">:</span> <span class="token string">'&lt;div @click="handleClick">&#123;&#123;name&#125;&#125;&lt;/div>'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>通过<code>readonly</code>对提供的变量进行包装，实现数据单向流（子组件不能修改父组件的值）。</p></blockquote><p>ref</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">&#125;</span> <span class="token operator">=</span> Vue    <span class="token keyword">const</span> hello <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// dom节点</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> hello <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div>&lt;div ref="hello">hello world&lt;/div>&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;render中的h函数&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#render中的h函数&quot;&gt;&lt;/a&gt; render中的h函数&lt;/h2&gt;
&lt;p&gt;h函数可以创建虚拟dom，通过创建的虚拟dom再转化为真的的DOM，从而渲染到页面中。&lt;/</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="Vue" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Vue/"/>
    
    
    <category term="Vue2" scheme="https://www.antmoe.com/tags/Vue2/"/>
    
    <category term="Vue3" scheme="https://www.antmoe.com/tags/Vue3/"/>
    
  </entry>
  
  <entry>
    <title>基于Vercel的API接口文档</title>
    <link href="https://www.antmoe.com/posts/fb3f3bba/"/>
    <id>https://www.antmoe.com/posts/fb3f3bba/</id>
    <published>2021-03-04T15:38:00.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简单说明"><a class="markdownIt-Anchor" href="#简单说明"></a> 简单说明</h2><blockquote><p>此项目重新调整了代码结构及框架，具体请参考：<a href="https://kkapi.js.org">kkapi-doc</a></p></blockquote><p>接口Base域名：<code>https://kkapi.vercel.app/</code>当然你也可以部署到自己的vercel中绑定自己的域名。该项目开源仓库：<a href="https://github.com/kkfive/api-vercel">api-vercel</a></p><p><strong>所有的接口无特殊声明均支持GET、POST两种请求。</strong></p><h2 id="普通类型接口"><a class="markdownIt-Anchor" href="#普通类型接口"></a> 普通类型接口</h2><p>此类接口地址全部为<code>/index</code>，通过参数<code>type</code>区分行为</p><h3 id="获取文件内容"><a class="markdownIt-Anchor" href="#获取文件内容"></a> 获取文件内容</h3><blockquote><p>此接口会返回一个允许任何域的文件。</p></blockquote><table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">含义</th><th style="text-align:center">值</th></tr></thead><tbody><tr><td style="text-align:center"><code>type</code></td><td style="text-align:center">【必填】操作的类型</td><td style="text-align:center"><code>cros</code></td></tr><tr><td style="text-align:center"><code>url</code></td><td style="text-align:center">【必填】请求文件的地址</td><td style="text-align:center"><a href="https://raw.githubusercontent.com/DreamyTZK/DreamyTZK/master/README.md">README.md</a></td></tr></tbody></table><blockquote><p>示例：<a href="https://kkapi.vercel.app/index?type=cros&amp;url=https://raw.githubusercontent.com/DreamyTZK/DreamyTZK/master/README.md">https://kkapi.vercel.app/index?type=cros&amp;url=https://raw.githubusercontent.com/DreamyTZK/DreamyTZK/master/README.md</a></p></blockquote><h3 id="返回qq头像"><a class="markdownIt-Anchor" href="#返回qq头像"></a> 返回qq头像</h3><blockquote><p>此接口返回qq头像</p></blockquote><table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">含义</th><th style="text-align:center">值</th></tr></thead><tbody><tr><td style="text-align:center"><code>type</code></td><td style="text-align:center">【必填】操作的类型</td><td style="text-align:center"><code>qlogo</code></td></tr><tr><td style="text-align:center"><code>qq</code></td><td style="text-align:center">【必填】需要获取的qq号</td><td style="text-align:center"><code>2045105376</code></td></tr></tbody></table><blockquote><p>调用示例：<a href="https://kkapi.vercel.app/index?type=qlogo&amp;qq=2045105376">https://kkapi.vercel.app/index?type=qlogo&amp;qq=2045105376</a></p></blockquote><h3 id="必应壁纸"><a class="markdownIt-Anchor" href="#必应壁纸"></a> 必应壁纸</h3><blockquote><p>此接口重定向到指定日期的必应壁纸，数据存储在jsd</p></blockquote><table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">含义</th><th style="text-align:center">值</th></tr></thead><tbody><tr><td style="text-align:center"><code>type</code></td><td style="text-align:center">【必填】操作的类型</td><td style="text-align:center"><code>bing</code></td></tr><tr><td style="text-align:center"><code>date</code></td><td style="text-align:center">【选填】需要获取的日期。<br />只能获取<code>20200312</code>及之后的图，之前的无法获取</td><td style="text-align:center"><code>20210101</code></td></tr></tbody></table><blockquote><p>调用示例：<a href="http://kkapi.vercel.app/index?type=bing&amp;date=20210101">http://kkapi.vercel.app/index?type=bing&amp;date=20210101</a></p></blockquote><h2 id="图片处理类"><a class="markdownIt-Anchor" href="#图片处理类"></a> 图片处理类</h2><blockquote><p>此接口可以处理一些图片，例如返回格式、宽度高度等。</p></blockquote><table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">含义</th><th style="text-align:center">值</th></tr></thead><tbody><tr><td style="text-align:center"><code>img</code></td><td style="text-align:center">【必填】图片地址</td><td style="text-align:center"><code>cros</code></td></tr><tr><td style="text-align:center"><code>r</code></td><td style="text-align:center">【选填】图片旋转角度</td><td style="text-align:center"><code>45</code></td></tr><tr><td style="text-align:center"><code>w</code></td><td style="text-align:center">【选填】设置图片的宽度</td><td style="text-align:center"><code>100</code></td></tr><tr><td style="text-align:center"><code>h</code></td><td style="text-align:center">【选填】设置图片的高度</td><td style="text-align:center"><code>100</code></td></tr><tr><td style="text-align:center"><code>fit</code></td><td style="text-align:center">【选填】设置图片填充方式，可选值：<code>cover</code>、<code>contain</code>、<code>fill</code>、<code>inside</code>、<code>outside</code></td><td style="text-align:center"><code>cover</code></td></tr><tr><td style="text-align:center"><code>bg</code></td><td style="text-align:center">【选填】背景颜色</td><td style="text-align:center"><code>#000</code></td></tr><tr><td style="text-align:center"><code>withoutEnlargement</code></td><td style="text-align:center">【选填】如果宽度或高度已经小于指定的尺寸，不要放大，默认<code>false</code></td><td style="text-align:center"><code>false</code></td></tr><tr><td style="text-align:center"><code>format</code></td><td style="text-align:center">【选填】格式化图片，<code>jpeg</code>、<code>png</code>、<code>webp</code>、<code>tiff</code>、<code>heif</code>、<code>raw</code>、<code>tile</code></td><td style="text-align:center"><code>webp</code></td></tr><tr><td style="text-align:center"><code>pos</code></td><td style="text-align:center">【选填】定位</td><td style="text-align:center"><code>center</code></td></tr><tr><td style="text-align:center"><code>q</code></td><td style="text-align:center">【选填】输出图片的质量，取值为1-100</td><td style="text-align:center"><code>100</code></td></tr></tbody></table><blockquote><p>调用示例：<a href="https://kkapi.vercel.app/image?img=https://cdn.jsdelivr.net/gh/DreamyTZK/xiaokang.me@master/www/assets/bg/003.jpg&amp;fit=outside&amp;w=1440&amp;h=900&amp;format=webp">https://kkapi.vercel.app/image?img=https://cdn.jsdelivr.net/gh/DreamyTZK/xiaokang.me@master/www/assets/bg/003.jpg&amp;fit=outside&amp;w=1440&amp;h=900&amp;format=webp</a></p></blockquote><h2 id="消息发送类"><a class="markdownIt-Anchor" href="#消息发送类"></a> 消息发送类</h2><blockquote><p>用于快捷的发送一些消息</p></blockquote><h3 id="发送电报消息"><a class="markdownIt-Anchor" href="#发送电报消息"></a> 发送电报消息</h3><p>接口地址：<code>/tegegram</code>，参数</p><table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">含义</th><th style="text-align:center">示例值</th></tr></thead><tbody><tr><td style="text-align:center"><code>type</code></td><td style="text-align:center">【必填】操作类型，发送消息填写为<code>send</code>即可</td><td style="text-align:center"><code>send</code></td></tr><tr><td style="text-align:center"><code>text</code></td><td style="text-align:center">【必填】消息内容</td><td style="text-align:center">小康</td></tr><tr><td style="text-align:center"><code>chat_id</code></td><td style="text-align:center">【必填】发送tg消息的对象，支持群组和个人。请先添加<a href="https://t.me/kang_notice_bot">通知小助手</a>否则api接口会调用失败。</td><td style="text-align:center"><code>-1001289698078</code></td></tr></tbody></table><blockquote><p>调用示例：<a href="https://kkapi.vercel.app/telegram?type=send&amp;text=test&amp;chat_id=">https://kkapi.vercel.app/telegram?type=send&amp;text=test&amp;chat_id=</a></p></blockquote><h3 id="企业微信通知"><a class="markdownIt-Anchor" href="#企业微信通知"></a> 企业微信通知</h3><p>接口地址：<code>/qywx</code>，参数</p><table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">含义</th><th style="text-align:center">示例值</th></tr></thead><tbody><tr><td style="text-align:center"><code>type</code></td><td style="text-align:center">【必填】操作类型，发送普通文本使用<code>text</code>,markdown使用<code>markdown</code></td><td style="text-align:center"><code>text</code></td></tr><tr><td style="text-align:center"><code>id</code></td><td style="text-align:center">【必填】微信企业的id</td><td style="text-align:center"><code>ww3dxxxxxxxxxxx76</code></td></tr><tr><td style="text-align:center"><code>secert</code></td><td style="text-align:center">【必填】企业应用的<code>secert</code></td><td style="text-align:center"><code>wYN1xxxLsbwod_eRexxxxxGLgFxxxxxD6b-xxxx</code></td></tr><tr><td style="text-align:center"><code>agentid</code></td><td style="text-align:center">【必填】企业应用ID</td><td style="text-align:center"><code>1000002</code></td></tr><tr><td style="text-align:center"><code>msg</code></td><td style="text-align:center">【必填】发送的消息</td><td style="text-align:center">1223</td></tr><tr><td style="text-align:center"><code>touser</code></td><td style="text-align:center">【必填】指定接收消息的成员，成员ID列表（多个接收者用‘|’分隔，最多支持1000个）。</td><td style="text-align:center"><code>@all</code></td></tr></tbody></table><blockquote><p>调用示例：<a href="https://kkapi.vercel.app/api/qywx?type=text&amp;id=%7B%E4%BC%81%E4%B8%9Aid%7D&amp;secert=%7B%E5%BA%94%E7%94%A8secert%7D&amp;agentid=%7B%E5%BA%94%E7%94%A8id%7D&amp;msg=%7B%E4%BD%A0%E8%A6%81%E5%8F%91%E7%9A%84%E6%B6%88%E6%81%AF%7D&amp;touser=%7B%E5%8F%91%E9%80%81%E7%BB%99%E8%B0%81%7D">https://kkapi.vercel.app/api/qywx?type=text&amp;id={企业id}&amp;secert={应用secert}&amp;agentid={应用id}&amp;msg={你要发的消息}&amp;touser={发送给谁}</a></p></blockquote><p>官方文档：<a href="https://work.weixin.qq.com/api/doc/90001/90143/90372">https://work.weixin.qq.com/api/doc/90001/90143/90372</a></p><blockquote><p>同类功能接口及教程：<a href="https://blog.zhheo.com/p/1e9f35bc.html">https://blog.zhheo.com/p/1e9f35bc.html</a></p></blockquote><h2 id="github相关的接口"><a class="markdownIt-Anchor" href="#github相关的接口"></a> Github相关的接口</h2><p>此类接口地址全部为：<code>/github</code>，通过<code>type</code>区分操作类型。</p><h3 id="触发actions"><a class="markdownIt-Anchor" href="#触发actions"></a> 触发Actions</h3><table><thead><tr><th style="text-align:center">参数名称</th><th style="text-align:center">含义</th><th style="text-align:center">示例值</th></tr></thead><tbody><tr><td style="text-align:center"><code>type</code></td><td style="text-align:center">【必填】操作类型</td><td style="text-align:center"><code>dispatch</code></td></tr><tr><td style="text-align:center"><code>owner</code></td><td style="text-align:center">【必填】仓库主人用户名</td><td style="text-align:center"><code>iServes</code></td></tr><tr><td style="text-align:center"><code>repo</code></td><td style="text-align:center">【必填】仓库名</td><td style="text-align:center"><code>actions-friend-spider</code></td></tr><tr><td style="text-align:center"><code>token</code></td><td style="text-align:center">【必填】生成个人Token，不会请参考<a href="https://www.antmoe.com/posts/cdc580cd/">项目中常用的密钥获取方式</a></td><td style="text-align:center"><code>xxxxxxxx</code></td></tr><tr><td style="text-align:center"><code>runit_text</code></td><td style="text-align:center">【可选】触发Actions时的文本</td><td style="text-align:center"><code>test</code></td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;简单说明&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#简单说明&quot;&gt;&lt;/a&gt; 简单说明&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;此项目重新调整了代码结构及框架，具体请参考：&lt;a href=&quot;https://kkapi.js.org&quot;&gt;</summary>
      
    
    
    
    <category term="参考手册" scheme="https://www.antmoe.com/categories/%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="vercel" scheme="https://www.antmoe.com/tags/vercel/"/>
    
  </entry>
  
  <entry>
    <title>项目中常用的密钥获取方式</title>
    <link href="https://www.antmoe.com/posts/cdc580cd/"/>
    <id>https://www.antmoe.com/posts/cdc580cd/</id>
    <published>2021-03-04T01:05:00.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>此文记录项目中常用的密钥获取，例如GitHub的token，码云的token等。</p><h2 id="github的token"><a class="markdownIt-Anchor" href="#github的token"></a> Github的Token</h2><ol><li><p>登录GitHub后，打开网址<a href="https://github.com/settings/tokens">tokens</a></p></li><li><p>添加一个新的token</p><p><img src="https://file.acs.pw/picGo/2021/3/4/a09072680d3cfb3252cfebec940309ad.png" alt="image-20210304091152601" /></p></li><li><p>至于权限根据自己项目需求给就行，或者生成一个全权限的token，每次直接用这个token即可。</p></li></ol><h2 id="gitee的token"><a class="markdownIt-Anchor" href="#gitee的token"></a> Gitee的Token</h2><ol><li><p>登录Gitee后，打开网址<a href="https://gitee.com/profile/personal_access_tokens">tokens</a></p></li><li><p>添加一个新的令牌</p><p><img src="https://file.acs.pw/picGo/2021/3/4/1cfdb41abfd673912152804a4cfed15d.png" alt="image-20210304091340788" /></p></li><li><p>至于权限根据自己项目需求给就行，或者生成一个全权限的token，每次直接用这个token即可。</p></li></ol><h2 id="npm的token"><a class="markdownIt-Anchor" href="#npm的token"></a> NPM的Token</h2><ol><li><p>登录<a href="https://www.npmjs.com/">NPM</a>官网后，打开网址<a href="https://www.npmjs.com/settings/antmoe/tokens">tokens</a></p></li><li><p>生成一个新的token即可。</p><p><img src="https://file.acs.pw/picGo/2021/3/4/e058f008537bfa803f0de3530c3f9a14.png" alt="image-20210304091546588" /></p></li><li><p>至于权限，如果我们用于CI/CD调用，一般选择<code>Automation</code>即可。</p><p><img src="https://file.acs.pw/picGo/2021/3/4/175f28d03fc0a6787c95c90767dcf65c.png" alt="image-20210304091642152" /></p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h2&gt;
&lt;p&gt;此文记录项目中常用的密钥获取，例如GitHub的token，码云的token等。&lt;/p&gt;
&lt;h2 id=&quot;github的token&quot;&gt;&lt;a cl</summary>
      
    
    
    
    <category term="参考手册" scheme="https://www.antmoe.com/categories/%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/"/>
    
    
  </entry>
  
  <entry>
    <title>规范化Commit提交信息</title>
    <link href="https://www.antmoe.com/posts/40e311db/"/>
    <id>https://www.antmoe.com/posts/40e311db/</id>
    <published>2021-02-26T11:13:00.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>自从上次写了<a href="https://www.antmoe.com/posts/34ede0da/index.html">Commit 表情符号使用指南</a>后，提交信息便一直使用标签符号进行提交。虽然好看，但是提交终归是不太方便，每次还需要打开文章进行符号搜索，然后粘贴。于是参考网上的各种规范记录此文。</p><h2 id="提交预览"><a class="markdownIt-Anchor" href="#提交预览"></a> 提交预览</h2><div class="tabs" id="message1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#message1-1">提交格式</button></li><li class="tab"><button type="button" data-href="#message1-2">参数说明(type)</button></li><li class="tab"><button type="button" data-href="#message1-3">参数说明(scope)</button></li><li class="tab"><button type="button" data-href="#message1-4">参数说明(subject)</button></li><li class="tab"><button type="button" data-href="#message1-5">示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="message1-1"><pre class="line-numbers language-none"><code class="language-none">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="message1-2"><blockquote><p>用于说明git commit的类别，只允许使用下面的标识。</p><p>以下表格来自<a href="https://zhuanlan.zhihu.com/p/182553920?utm_source=org.mozilla.firefox">阿里技术</a></p></blockquote><table><thead><tr><th style="text-align:center">标识</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"><code>feat</code></td><td style="text-align:center">新功能（feature）</td></tr><tr><td style="text-align:center"><code>fix/to</code></td><td style="text-align:center">修复bug，可以是QA发现的BUG，也可以是研发自己发现的BUG。<br/><code>fix</code>：产生diff并自动修复此问题。适合于一次提交直接修复问题<br /><code>to</code>：只产生diff不自动修复此问题。适合于多次提交。最终修复问题提交时使用fix</td></tr><tr><td style="text-align:center"><code>docs</code></td><td style="text-align:center">文档（documentation）</td></tr><tr><td style="text-align:center"><code>style</code></td><td style="text-align:center">格式（不影响代码运行的变动）</td></tr><tr><td style="text-align:center"><code>refactor</code></td><td style="text-align:center">重构（即不是新增功能，也不是修改bug的代码变动）。</td></tr><tr><td style="text-align:center"><code>perf</code></td><td style="text-align:center">优化相关，比如提升性能、体验。</td></tr><tr><td style="text-align:center"><code>test</code></td><td style="text-align:center">增加测试。</td></tr><tr><td style="text-align:center"><code>chore</code></td><td style="text-align:center">构建过程或辅助工具的变动。</td></tr><tr><td style="text-align:center"><code>revert</code></td><td style="text-align:center">回滚到上一个版本。</td></tr><tr><td style="text-align:center"><code>merge</code></td><td style="text-align:center">代码合并。</td></tr><tr><td style="text-align:center"><code>sync</code></td><td style="text-align:center">同步主线或分支的Bug。</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="message1-3"><p>scope用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p><p>例如在<code>Angular</code>，可以是<code>$location</code>, <code>$browser</code>, <code>$compile</code>, <code>$rootScope</code>, <code>ngHref</code>, <code>ngClick</code>, <code>ngView</code>等。</p><p>如果你的修改影响了不止一个<code>scope</code>，你可以使用<code>*</code>代替。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="message1-4"><p><code>subject</code>是 commit 目的的简短描述，不超过50个字符。</p><p>建议使用中文（感觉中国人用中文描述问题能更清楚一些）。</p><p>结尾不加句号或其他标点符号。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="message1-5"><pre class="line-numbers language-none"><code class="language-none">fix(DAO): 用户查询缺少username属性 feat(Controller): 用户查询接口开发<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="工具"><a class="markdownIt-Anchor" href="#工具"></a> 工具</h2><h3 id="vscode"><a class="markdownIt-Anchor" href="#vscode"></a> VScode</h3><p>vscode中<code>Git-commit-plugin</code>插件可以快速生成提交模板。</p><p>设置项</p><ul><li><p>展示Emoji</p><p>默认为<code>true</code>。可在设置中修改</p></li><li><p>提交类型</p><p>增加其他的提交类型，需要在json中添加。</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"GitCommitPlugin.CustomCommitType"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"label"</span><span class="token operator">:</span> <span class="token string">"customTypeName"</span><span class="token punctuation">,</span>    <span class="token property">"detail"</span><span class="token operator">:</span> <span class="token string">"customTypeDetail"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2021/2/26/bd2758e24c3871454ade002984f32ef0.png" alt="image-20210226204746986" /></p></li><li><p>subject最大长度</p><p>subject的最大长度限制，默认为20。可在设置中修改。</p></li></ul><h3 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h3><ul><li><a href="https://github.com/typicode/husky">https://github.com/typicode/husky</a></li><li><a href="https://commitlint.js.org/#/">https://commitlint.js.org/#/</a></li></ul><h2 id="文章参考"><a class="markdownIt-Anchor" href="#文章参考"></a> 文章参考</h2><ul><li><p><a href="https://segmentfault.com/a/1190000009048911">git commit 规范指南</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/182553920?utm_source=org.mozilla.firefox">如何规范你的Git commit？</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h2&gt;
&lt;p&gt;自从上次写了&lt;a href=&quot;https://www.antmoe.com/posts/34ede0da/index.html&quot;&gt;Commit </summary>
      
    
    
    
    <category term="编码规范" scheme="https://www.antmoe.com/categories/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/"/>
    
    <category term="Git" scheme="https://www.antmoe.com/categories/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/Git/"/>
    
    
    <category term="手册查询" scheme="https://www.antmoe.com/tags/%E6%89%8B%E5%86%8C%E6%9F%A5%E8%AF%A2/"/>
    
    <category term="规范commit" scheme="https://www.antmoe.com/tags/%E8%A7%84%E8%8C%83commit/"/>
    
  </entry>
  
  <entry>
    <title>一文搞懂弹性盒子flex布局</title>
    <link href="https://www.antmoe.com/posts/140eb59/"/>
    <id>https://www.antmoe.com/posts/140eb59/</id>
    <published>2021-01-25T06:23:58.000Z</published>
    <updated>2021-01-25T06:23:58.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="什么是flex布局"><a class="markdownIt-Anchor" href="#什么是flex布局"></a> 什么是flex布局</h2><p>flex布局又称为弹性盒子模型，它<strong>有自己的一套属性，效率高，学习成本低，兼容性强！</strong></p><p>弹性盒子模型实现 HTML 页面布局是<strong>与方向无关的</strong>。不类似于块级布局侧重垂直方向，内联布局侧重水平方向。</p><p>弹性盒子模型主要<strong>适用于 HTML 页面的组件以及小规模的布局</strong>，而并<strong>不适用于大规模的布局</strong>，否则会影响 HTML 页面性能。</p><details class="toggle" ><summary class="toggle-button" style="">名词定义</summary><div class="toggle-content"><p><img src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/03/09/20200309124626.png" alt="img" /></p><ul><li>伸缩容器（flex container）：包裹伸缩项目的父元素。</li><li>伸缩项目（flex item）：伸缩容器的每个子元素。</li><li>轴（axis）：每个弹性盒子模型拥有两个轴。<ul><li>主轴（main axis）：伸缩项目沿其一次排列的轴被称为主轴。</li><li>侧轴（cross axis）：垂直于主轴的轴被称为侧轴。</li></ul></li><li>方向（direction）：伸缩容器的主轴由主轴起点和主轴终点，侧轴由侧轴起点和侧轴终点描述伸缩项目排列的方向。</li><li>尺寸（dimension）：根据伸缩容器的主轴和侧轴，伸缩项目的宽度和高度。<ul><li>对应主轴的称为主轴尺寸。</li><li>对应侧轴的称为侧轴尺寸。</li></ul></li></ul></div></details><h2 id="定义弹性盒子"><a class="markdownIt-Anchor" href="#定义弹性盒子"></a> 定义弹性盒子</h2><p>弹性盒子是css3新增的属性，因此弹性盒子模型及其属性存在浏览器兼容问题。具体可查看<a href="https://caniuse.com/?search=flex">Can I Use</a>。</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span> <span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">display</span> <span class="token punctuation">:</span> inline-flex<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>flex</code>：设置指定元素为块级元素的弹性盒子模型。</li><li><code>inline-flex</code>：设置指定元素为行内块级元素的弹性盒子模型。</li></ul><p>浏览器兼容前缀</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">div</span><span class="token punctuation">&#123;</span>  <span class="token property">display</span> <span class="token punctuation">:</span> -webkit-flex<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> -ms-flex<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> -moz-flex<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> -o-flex<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="tabs" id="flex1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#flex1-1">flex</button></li><li class="tab"><button type="button" data-href="#flex1-2">inline-block</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="flex1-1"><p>会将容器内的元素按照水平方向进行排列。容器内的元素类似于浮动水平排列在一起</p><p><img src="https://file.acs.pw/picGo/2021/1/25/327b4e1d544eb32fbf75642f5dd40dc6.png" alt="image-20210125153111540" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex1-2"><p>将容器内的元素视为块级元素，按行排列在一起。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/466db4092263f3925fcddf1d139a9a4d.png" alt="image-20210125153621860" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="容器属性"><a class="markdownIt-Anchor" href="#容器属性"></a> 容器属性</h2><p>用于测试的HTML结构。</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightgray</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightgreen</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightpink</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightsalmon</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightskyblue</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>本文所涉及的属性为常用属性及其取值，更多属性及取值请参考<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Flex_Container">MDN</a></p><div class="note danger flat"><p>以下属性作用域弹性盒子的容器。</p></div><h3 id="创建主轴方向"><a class="markdownIt-Anchor" href="#创建主轴方向"></a> 创建主轴方向</h3><p>元素基础样式</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 3px solid black<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>flex-direction</code> 属性用于创建主轴的方向。</p><p><strong>容器内子元素的排列方向</strong></p><p><img src="https://file.acs.pw/picGo/2021/1/25/88f718156e75ca09a7b07cbb3bc0af39.png" alt="image-20210125184805938" /></p><div class="tabs" id="flex-direction"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#flex-direction-1">row</button></li><li class="tab"><button type="button" data-href="#flex-direction-2">row-reverse</button></li><li class="tab"><button type="button" data-href="#flex-direction-3">column</button></li><li class="tab"><button type="button" data-href="#flex-direction-4">column-reverse</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="flex-direction-1"><p><code>row</code>：设置主轴是水平方向。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/37389c5581f1b1e0f393d0be40e6c469.png" alt="image-20210125154908007" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-direction-2"><p><code>row-reverse</code>：与 row 的排列方向相反。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/803603266f73491749545ce23448476f.png" alt="image-20210125154954030" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> row-reverse<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-direction-3"><p><code>column</code>：设置主轴是垂直方向。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/54aa34ebb2e75870d64dca6df7f3dabe.png" alt="image-20210125155251253" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-direction-4"><p><code>column-reverse</code>：与 column 的排列方向相反。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/590a72e8867f83e75d7962b9f75a767c.png" alt="image-20210125155324411" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column-reverse<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="设置沿主轴线的对齐方式"><a class="markdownIt-Anchor" href="#设置沿主轴线的对齐方式"></a> 设置沿主轴线的对齐方式</h3><p>CSS <code>justify-content</code> 属性适用于伸缩容器元素，用于设置伸缩项目沿着主轴线的对齐方式。关于此属性更多取值参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/justify-content">MDN</a></p><p>css基础样式</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 3px solid black<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2021/1/25/08d9bd85aa3da08e92df855455ac420c.png" alt="image-20210125184836199" /></p><div class="tabs" id="flex3"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#flex3-1">center</button></li><li class="tab"><button type="button" data-href="#flex3-2">flex-start</button></li><li class="tab"><button type="button" data-href="#flex3-3">flex-end</button></li><li class="tab"><button type="button" data-href="#flex3-4">space-between</button></li><li class="tab"><button type="button" data-href="#flex3-5">space-around</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="flex3-1"><p><code>center</code>：伸缩项目向第一行的中间位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/3ca45a48c335c9f0acd94adc0d12a288.png" alt="image-20210125160041613" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex3-2"><p><code>flex-start</code>：伸缩项目向第一行的开始位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/ab29192583e9110496601b63929eb8af.png" alt="image-20210125160455842" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex3-3"><p><code>flex-end</code>：伸缩项目向第一行的结束位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/9b46ff363f323af3ef75ffd21a9b54f6.png" alt="image-20210125160618374" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex3-4"><p><code>space-between</code>：伸缩项目会平均分布在一行中。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/a9a0f85b87fd467e48a29f4bd552f02a.png" alt="image-20210125160658914" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><details class="toggle" style="border: 1px solid #feefee"><summary class="toggle-button" style="background-color: #feefee;color: rgb(85">小技巧</summary><div class="toggle-content"><p>当只有两个元素时会导致元素左右两端对齐，如图：</p><p><img src="https://file.acs.pw/picGo/2021/1/29/1b81f487399a03481d437437fb726752.png" alt="image-20210129162910972" /></p><p>可以通过对容器进行设置伪类样式将其排列。</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container::after</span> <span class="token punctuation">&#123;</span>  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>  <span class="token comment">/* 设置成一个子元素的宽度 */</span>  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2021/1/29/5c2a2120a1e20e4cad032798e43109ce.png" alt="image-20210129163012081" /></p></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex3-5"><p><code>space-around</code>：伸缩项目会平均分布在一行中，两端保留一半的空间。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/848efdf5bcf7c9c876e5e2bcebfccaa7.png" alt="image-20210125160743719" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-around<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="设置沿侧轴线的对齐方式"><a class="markdownIt-Anchor" href="#设置沿侧轴线的对齐方式"></a> 设置沿侧轴线的对齐方式</h3><p>CSS <code>align-items</code> 属性适用于伸缩容器元素，用于设置伸缩项目所在行沿着侧轴线的对齐方式。</p><p>基础CSS样式</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 3px solid black<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token comment">/* 主轴对齐方式 */</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2021/1/25/1cffb7d71df4c341267517e04e634d94.png" alt="image-20210125184854429" /></p><div class="tabs" id="align-items"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#align-items-1">stretch</button></li><li class="tab"><button type="button" data-href="#align-items-2">center</button></li><li class="tab"><button type="button" data-href="#align-items-3">flex-start</button></li><li class="tab"><button type="button" data-href="#align-items-4">flex-end</button></li><li class="tab"><button type="button" data-href="#align-items-5">baseline</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="align-items-1"><p><code>stretch</code>：默认值，伸缩项目拉伸填充整个伸缩容器。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/45063f087bcef0f2da756137e27bed0d.png" alt="image-20210125162146943" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* 侧轴对齐方式 */</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> stretch<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-items-2"><p><code>center</code>：伸缩项目向侧轴的中间位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/624fbce6d802f1d792af745771ab51a9.png" alt="image-20210125162237276" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* 侧轴对齐方式 */</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-items-3"><p><code>flex-start</code>：伸缩项目向侧轴的起点位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/45063f087bcef0f2da756137e27bed0d.png" alt="image-20210125162146943" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* 侧轴对齐方式 */</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-items-4"><p><code>flex-end</code>：伸缩项目向侧轴的终点位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/ee182a22b02e5b71410343411fe9a013.png" alt="image-20210125162455304" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* 侧轴对齐方式 */</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-items-5"><p><code>baseline</code>：伸缩项目根据伸缩项目的基线对齐(第一行文字)。</p><p><img src="https://file.acs.pw/picGo/2022/03/06/20220306192615.jpeg" alt="image-20210125191144903" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* 侧轴对齐方式 */</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> baseline<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="设置单多行显示"><a class="markdownIt-Anchor" href="#设置单多行显示"></a> 设置单/多行显示</h3><p>CSS <code>flex-wrap</code> 属性适用于伸缩容器元素，用于设置伸缩容器的子元素是单行显示还是多行显示。</p><p>基础css样式</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 3px solid black<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token comment">/* 主轴对齐方式 */</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2021/1/25/6e5a1262cfa661dd7a633656a2639b4c.png" alt="image-20210125184821421" /></p><div class="tabs" id="flex-wrap"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#flex-wrap-1">nowrap</button></li><li class="tab"><button type="button" data-href="#flex-wrap-2">wrap</button></li><li class="tab"><button type="button" data-href="#flex-wrap-3">wrap-reverse</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="flex-wrap-1"><p><code>nowrap</code>：设置伸缩项目单行显示。这种方式可能导致溢出伸缩容器。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/f44c75285737bc115ce759d8da66c29a.png" alt="image-20210125163058707" /></p><blockquote><p>可见，容器宽度900px，容器内一共9个子元素，每个120px，他们紧紧的排列在一起。</p></blockquote><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-wrap-2"><p><code>wrap</code>：设置伸缩项目多行显示。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/6a7a66335ef131c61852a1da4ea223e0.png" alt="image-20210125163225279" /></p><blockquote><p>当多行显示时，第一行放不下的元素会被放到<strong>下一行</strong>（第二行），因为设置了主轴对齐方式为<code>space-between</code>，所以多出来的两个元素分别到了两端。</p></blockquote><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-wrap-3"><p><code>wrap-reverse</code>：与 wrap 相反。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/68f3e9345e97d6168e135a0a57b72767.png" alt="image-20210125163428589" /></p><blockquote><p>当多行显示时，第一行放不下的元素会被放到<strong>上一行</strong>（第二行），因为设置了主轴对齐方式为<code>space-between</code>，所以多出来的两个元素分别到了两端。</p></blockquote><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap-reverse<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="设置伸缩行的对齐方式"><a class="markdownIt-Anchor" href="#设置伸缩行的对齐方式"></a> 设置伸缩行的对齐方式</h3><p>CSS <code>align-content</code> 属性适用于伸缩容器元素，用于设置浏览器如何沿着弹性盒子布局的纵轴和网格布局的主轴在内容项之间和周围分配空间。**该属性对单行弹性盒子模型无效。（即：带有 <code>flex-wrap: nowrap</code>）。**更多参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/align-content">MDN</a></p><p>基础CSS样式</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 3px solid black<span class="token punctuation">;</span>  <span class="token comment">/* 将当前元素设置为弹性盒子模型的伸缩容器 */</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token comment">/* justify-content属性表示项目在主轴的对其方式 */</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>  <span class="token comment">/* 设置伸缩项目是单行显示还是多行显示 */</span>  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2021/1/25/6c9545234e1c4bc826f896f2df3bffac.png" alt="image-20210125184919489" /></p><div class="tabs" id="align-content"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#align-content-1">stretch</button></li><li class="tab"><button type="button" data-href="#align-content-2">center</button></li><li class="tab"><button type="button" data-href="#align-content-3">flex-start</button></li><li class="tab"><button type="button" data-href="#align-content-4">flex-end</button></li><li class="tab"><button type="button" data-href="#align-content-5">space-between</button></li><li class="tab"><button type="button" data-href="#align-content-6">space-around</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="align-content-1"><p><code>stretch</code>：默认值，各行将会伸展以占用额外的空间。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/3c1090dbd41ba0eba17c7898c87e998a.png" alt="image-20210125165443121" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* align-content属性设置伸缩项目所在行的对齐方式 */</span>  <span class="token property">align-content</span><span class="token punctuation">:</span> stretch<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-content-2"><p><code>center</code>：各行向伸缩容器的中间位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/805a28e03655fbd3119c4afdcb9c4ed1.png" alt="image-20210125165530820" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* align-content属性设置伸缩项目所在行的对齐方式 */</span>  <span class="token property">align-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-content-3"><p><code>flex-start</code>：各行向伸缩容器的起点位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/d30affd9e07a03e34346a8edaaa7a003.png" alt="image-20210125165550793" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* align-content属性设置伸缩项目所在行的对齐方式 */</span>  <span class="token property">align-content</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-content-4"><p><code>flex-end</code>：各行向伸缩容器的终点位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/0e35ad282dcd38703964d990508fe8cc.png" alt="image-20210125165606310" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* align-content属性设置伸缩项目所在行的对齐方式 */</span>  <span class="token property">align-content</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-content-5"><p><code>space-between</code>：各行会平均分布在一行中。第一项与起始点齐平，最后一项与终止点齐平。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/dfdf45e4d48810985cc5931aa556b6f2.png" alt="image-20210125165641772" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* align-content属性设置伸缩项目所在行的对齐方式 */</span>  <span class="token property">align-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-content-6"><p><code>space-around</code>：各行会平均分布在一行中，两端保留一半的空间。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/a0b03d2eca5689738240e2dbc22175a3.png" alt="image-20210125165729566" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token comment">/* align-content属性设置伸缩项目所在行的对齐方式 */</span>  <span class="token property">align-content</span><span class="token punctuation">:</span> space-around<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="flex-flow"><a class="markdownIt-Anchor" href="#flex-flow"></a> <code>flex-flow</code></h3><p>CSS flex-flow 属性适用于伸缩容器元素，该属性是 <code>flex-direction</code> 和 <code>flex-wrap</code> 的简写。</p><p>其语法：<code>flex-flow: &lt;'flex-direction'&gt; || &lt;'flex-wrap'&gt;</code>，示例：<code>flex-flow: row wrap</code></p><h2 id="项目属性"><a class="markdownIt-Anchor" href="#项目属性"></a> 项目属性</h2><h3 id="flex-属性"><a class="markdownIt-Anchor" href="#flex-属性"></a> <code>flex</code> 属性</h3><p><code>flex</code>属性是的属性简称。用于定义剩余空间的分配。更多参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex">MDN</a></p><ul><li><p><code>flex-grow</code></p><p>属性定义项目的放大比例(<strong>剩余空间按比例分配</strong>)。默认为0，即如果存在剩余空间，也不放大。</p><p>其属性的取值为数字。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/c2e4f379f5fe91245eee27eabc7c67b2.png" alt="image-20210125185100165" /></p></li><li><p><code>flex-shrink</code></p><p>属性定义了<strong>项目的缩小比例</strong>，默认为1，即如果空间不足，该项目将缩小。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/ae80f26c2897a68994540eb38de25f3a.png" alt="image-20210125185119475" /></p><blockquote><p>如果所有项目的flex-shrink属性都为1(默认)，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。<strong>负值对该属性无效。</strong></p></blockquote></li><li><p><code>flex-basis</code></p><p>属性定义了在分配多余空间之前，项目占据的主轴空间（main size） 和width有一定的关系，大部分情况和width表现一致，如果两者同时使用flex-basis优先级会高一些</p><details class="toggle" style="border: 1px solid #feefee "><summary class="toggle-button" style="background-color: #feefee ;color:  #4C4948">使用注意</summary><div class="toggle-content"><ol><li>单独使用<code>width</code>，正常使用</li><li>如果单独使用<code>flex-basis</code>，超过会自动变大，不会限制，相当于<code>flex-basis</code>是最小宽度。</li><li>如果同时使用，<strong>实际宽度</strong>为限制<code>flex-basis</code>和<code>width</code>两者的最大者，并且会限制，内容超出直接溢出（不使用break-all）</li><li>如果有<code>max-width</code>和<code>min-width</code>，<code>flex-basis</code>受到这两个属性的限制，<code>flex-basis = max-width</code>，<code>flex-basis = max-width</code></li></ol></div></details><p>如果<code>flex-basis</code>没有设置，<code>flex-basis = width</code>；如果<code>width</code>也没有设置，<code>flex-basis = content</code>的宽度</p></li></ul><div class="note warning flat"><p>三个值的取值以及含义参考博文：<a href="https://blog.csdn.net/m0_37058714/article/details/80765562">css弹性盒子</a></p></div><div class="tabs" id="flex"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#flex-1">单值语法</button></li><li class="tab"><button type="button" data-href="#flex-2">双值语法</button></li><li class="tab"><button type="button" data-href="#flex-3">三值语法</button></li><li class="tab"><button type="button" data-href="#flex-4">示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="flex-1"><ul><li><p>一个无单位数(<number>): 它会被当作<code>flex:&lt;number&gt; 1 0</code>; <code>&lt;flex-shrink&gt;</code>的值被假定为1，然后<code>&lt;flex-basis&gt;</code> 的值被假定为0。</p></li><li><p>一个有效的宽度(width)值: 它会被当作 <flex-basis>的值。</p></li><li><p>关键字none，auto或initial.</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-2"><p>第一个值必须为一个无单位数，并且它会被当作 <code>&lt;flex-grow&gt;</code> 的值。第二个值必须为以下之一：</p><ul><li>一个无单位数：它会被当作 <code>&lt;flex-shrink&gt;</code> 的值。</li><li>一个有效的宽度值: 它会被当作 <code>&lt;flex-basis&gt;</code> 的值。</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-3"><ul><li><p>第一个值必须为一个无单位数，并且它会被当作 <code>&lt;flex-grow&gt;</code> 的值。</p></li><li><p>第二个值必须为一个无单位数，并且它会被当作  <code>&lt;flex-shrink&gt;</code> 的值。</p></li><li><p>第三个值必须为一个有效的宽度值， 并且它会被当作 <code>&lt;flex-basis&gt;</code> 的值。</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-4"><details class="toggle" ><summary class="toggle-button" style="">平均分配，中间大左右小</summary><div class="toggle-content"><p><img src="https://file.acs.pw/picGo/2021/1/25/8e3b501d76557f96e16a95ba579c631f.png" alt="image-20210125175448393" /></p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">  <span class="token selector">.container</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 3px solid black<span class="token punctuation">;</span>    <span class="token comment">/* 将当前元素设置为弹性盒子模型的伸缩容器 */</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.container div:nth-child(2)</span> <span class="token punctuation">&#123;</span>    <span class="token property">flex</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightgray</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightgreen</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightpink</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>将每个div配1等份，而第二个div分配2等份即可。</p></blockquote></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="设置自身元素在侧轴的对齐方式"><a class="markdownIt-Anchor" href="#设置自身元素在侧轴的对齐方式"></a> 设置自身元素在侧轴的对齐方式</h3><p>CSS <code>align-self</code> 属性适用于伸缩容器元素，用于设置伸缩项目自身元素在侧轴的对齐方式。实际上效果与容器属性<code>align-content</code>较为类似</p><p>基础样式</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 3px solid black<span class="token punctuation">;</span>  <span class="token comment">/* 将当前元素设置为弹性盒子模型的伸缩容器 */</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token comment">/* justify-content属性表示项目在主轴的对其方式 */</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>  <span class="token comment">/* 设置伸缩项目是单行显示还是多行显示 */</span>  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>  <span class="token property">align-self</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="tabs" id="align-self"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#align-self-1">stretch</button></li><li class="tab"><button type="button" data-href="#align-self-2">center</button></li><li class="tab"><button type="button" data-href="#align-self-3">flex-start</button></li><li class="tab"><button type="button" data-href="#align-self-4">flex-end</button></li><li class="tab"><button type="button" data-href="#align-self-5">baseline</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="align-self-1"><p><code>stretch</code>：默认值，伸缩项目拉伸填充整个伸缩容器。</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">align-self</span><span class="token punctuation">:</span> stretch<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://file.acs.pw/picGo/2021/1/25/3c1090dbd41ba0eba17c7898c87e998a.png" alt="image-20210125165443121" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-self-2"><p><code>center</code>：伸缩项目向侧轴的中间位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/805a28e03655fbd3119c4afdcb9c4ed1.png" alt="image-20210125165530820" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">align-self</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-self-3"><p><code>flex-start</code>：伸缩项目向侧轴的起点位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/d30affd9e07a03e34346a8edaaa7a003.png" alt="image-20210125165550793" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">align-self</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-self-4"><p><code>flex-end</code>：伸缩项目向侧轴的终点位置对齐。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/0e35ad282dcd38703964d990508fe8cc.png" alt="image-20210125165606310" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">align-self</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="align-self-5"><p><code>baseline</code>：伸缩项目根据伸缩项目的基线对齐。</p><p><img src="https://file.acs.pw/picGo/2022/03/06/20220306192648.jpeg" alt="image-20210125191732822" /></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>  <span class="token property">align-self</span><span class="token punctuation">:</span> baseline<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.container span</span> <span class="token punctuation">&#123;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="设置布局时的顺序"><a class="markdownIt-Anchor" href="#设置布局时的顺序"></a> 设置布局时的顺序</h3><p>CSS <code>order</code> 属性适用于伸缩项目，用于设置伸缩项目在布局时的顺序。默认为0，值越大越靠后。</p><p><img src="https://file.acs.pw/picGo/2021/1/25/64573d89b16a59c241284a68d5a4fb67.png" alt="image-20210125183116414" /></p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">  <span class="token selector">.container</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 3px solid black<span class="token punctuation">;</span>    <span class="token comment">/* 将当前元素设置为弹性盒子模型的伸缩容器 */</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token comment">/* justify-content属性表示项目在主轴的对其方式 */</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>    <span class="token comment">/* 设置伸缩项目是单行显示还是多行显示 */</span>    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.container div</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.container div:nth-child(1)</span> <span class="token punctuation">&#123;</span>    <span class="token property">order</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.container div:nth-child(2)</span> <span class="token punctuation">&#123;</span>    <span class="token property">order</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.container div:nth-child(3)</span> <span class="token punctuation">&#123;</span>    <span class="token property">order</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightgray</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子1 - order:2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightgreen</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子2 - order:3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> lightpink</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>盒子3 - order:1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;什么是flex布局&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#什么是flex布局&quot;&gt;&lt;/a&gt; 什么是flex布局&lt;/h2&gt;
&lt;p&gt;flex布局又称为弹性盒子模型，它&lt;strong&gt;有自己的一套属性，效率高，学习成本低，兼容性强！&lt;/</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="HTML&amp;CSS" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/HTML-CSS/"/>
    
    
    <category term="flex" scheme="https://www.antmoe.com/tags/flex/"/>
    
  </entry>
  
  <entry>
    <title>HTML5中audio与video</title>
    <link href="https://www.antmoe.com/posts/b4f006e7/"/>
    <id>https://www.antmoe.com/posts/b4f006e7/</id>
    <published>2021-01-22T08:16:58.000Z</published>
    <updated>2021-01-22T08:16:58.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="音频"><a class="markdownIt-Anchor" href="#音频"></a> 音频</h2><p>HTML5中提供的音频API标签为<code>&lt;audio&gt;&lt;/audio&gt;</code>，使用示例如：</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>野狼disco.m4a<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><div class="note danger flat"><p>兼容写法</p></div><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">controls</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resource/audio/OUTPUT.mp3<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>audio/mpeg<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resource/audio/OUTPUT.aac<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>audio/aac; codecs=<span class="token punctuation">"</span>aac<span class="token punctuation">"</span><span class="token punctuation">'</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resource/audio/OUTPUT.ogg<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>audio/ogg; codecs=<span class="token punctuation">"</span>vorbis<span class="token punctuation">"</span><span class="token punctuation">'</span></span><span class="token punctuation">></span></span>    您的浏览器不支持，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resource/audio/OUTPUT.mp3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>请下载<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>当浏览器不支持或者当前音乐地址失效时会分别访问<code>source</code>提供的路径，如果全部失效则提示最下边的文本。</p><h3 id="音乐属性"><a class="markdownIt-Anchor" href="#音乐属性"></a> 音乐属性</h3><table><thead><tr><th style="text-align:center">属性名</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>controls</code></td><td style="text-align:center">显示控件</td></tr><tr><td style="text-align:center"><code>autoplay</code></td><td style="text-align:center">自动播放</td></tr><tr><td style="text-align:center"><code>loop</code></td><td style="text-align:center">循环播放</td></tr><tr><td style="text-align:center"><code>preload</code></td><td style="text-align:center">预加载</td></tr><tr><td style="text-align:center"><code>muted</code></td><td style="text-align:center">静音</td></tr></tbody></table><h2 id="视频"><a class="markdownIt-Anchor" href="#视频"></a> 视频</h2><p>HTML5中提供的音频API标签为<code>&lt;video&gt;&lt;/video&gt;</code>，使用示例如：</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>不能说的秘密.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><div class="note success flat"><p>兼容写法与音乐相同</p></div><h3 id="视频属性"><a class="markdownIt-Anchor" href="#视频属性"></a> 视频属性</h3><table><thead><tr><th style="text-align:center">属性名</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>controls</code></td><td style="text-align:center">显示控件</td></tr><tr><td style="text-align:center"><code>autoplay</code></td><td style="text-align:center">自动播放</td></tr><tr><td style="text-align:center"><code>loop</code></td><td style="text-align:center">循环播放</td></tr><tr><td style="text-align:center"><code>muted</code></td><td style="text-align:center">静音</td></tr><tr><td style="text-align:center"><code>poster</code></td><td style="text-align:center">预览图片设置</td></tr><tr><td style="text-align:center"><code>preload</code></td><td style="text-align:center">预加载<br /><code>none</code>:不预先加载任何数据<br /><code>metadata</code>:只预先加载元数据 （视频总时长，第一帧画面图形等）<br /><code>auto</code>:预先加载视频<br /></td></tr></tbody></table><h2 id="音视频事件"><a class="markdownIt-Anchor" href="#音视频事件"></a> 音视频事件</h2><table><thead><tr><th style="text-align:center">事件名</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>onloadedmetadata</code></td><td style="text-align:center">当音频元数据加载完毕时触发，作用<strong>在于获取音视频文件的总时长</strong></td></tr><tr><td style="text-align:center"><code>ontimeupdate</code></td><td style="text-align:center">当音频播放时间变化时触发</td></tr><tr><td style="text-align:center"><code>onvolumechange</code></td><td style="text-align:center">当声音改变时触发</td></tr></tbody></table><h2 id="音视频对象属性"><a class="markdownIt-Anchor" href="#音视频对象属性"></a> 音视频对象属性</h2><div class="note success modern"><p>可读可写属性</p></div><table><thead><tr><th style="text-align:center">属性名</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>currentTime</code></td><td style="text-align:center">音频已经播放时长（返回未格式化的秒）</td></tr><tr><td style="text-align:center"><code>volume</code></td><td style="text-align:center">控制音量。值为0 ~ 1的任意值。</td></tr><tr><td style="text-align:center"><code>muted</code></td><td style="text-align:center">布尔值。静音。（ture表示静音，false表示非静音）</td></tr><tr><td style="text-align:center"><code>playbackRate</code></td><td style="text-align:center">播放速率</td></tr></tbody></table><div class="note danger modern"><p>只读属性</p></div><table><thead><tr><th style="text-align:center">属性名</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>duration</code></td><td style="text-align:center">音频总时长（返回未格式化的秒）</td></tr><tr><td style="text-align:center"><code>paused</code></td><td style="text-align:center">布尔值。音频文件是否暂停。（ture表示暂停，false表示播放）</td></tr><tr><td style="text-align:center"><code>ended</code></td><td style="text-align:center">布尔值。音频文件播放结束（ture表示播放结束，false表示播放中或者暂停）</td></tr></tbody></table><h2 id="音视频对象方法"><a class="markdownIt-Anchor" href="#音视频对象方法"></a> 音视频对象方法</h2><table><thead><tr><th style="text-align:center">方法名</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>pause</code></td><td style="text-align:center">暂停</td></tr><tr><td style="text-align:center"><code>play</code></td><td style="text-align:center">播放</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;音频&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#音频&quot;&gt;&lt;/a&gt; 音频&lt;/h2&gt;
&lt;p&gt;HTML5中提供的音频API标签为&lt;code&gt;&amp;lt;audio&amp;gt;&amp;lt;/audio&amp;gt;&lt;/code&gt;，使用示例如：&lt;/p&gt;
&lt;pr</summary>
      
    
    
    
    <category term="技术学习" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="HTML&amp;CSS" scheme="https://www.antmoe.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/HTML-CSS/"/>
    
    
    <category term="audio" scheme="https://www.antmoe.com/tags/audio/"/>
    
  </entry>
  
  <entry>
    <title>Github之Actions自动发布GitHub Release</title>
    <link href="https://www.antmoe.com/posts/18c087cf/"/>
    <id>https://www.antmoe.com/posts/18c087cf/</id>
    <published>2021-01-18T11:13:00.000Z</published>
    <updated>2021-01-18T11:13:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>此文以node项目为例，目录存在<code>package.json</code>，其他项目如果参考本教程需自行创建json文件用于记录当前版本。</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"version"</span><span class="token operator">:</span><span class="token string">"1.1.1"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><div class="note danger modern"><p>上述代码仅作为JSON文件示例。</p></div><p>先来看看actions官方提供的发布demo</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 创建GitHub Release  <span class="token key atrule">id</span><span class="token punctuation">:</span> create_release  <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/create<span class="token punctuation">-</span>release@latest  <span class="token key atrule">env</span><span class="token punctuation">:</span>    <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> secrets.GITHUB_TOKEN <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token key atrule">with</span><span class="token punctuation">:</span>    <span class="token key atrule">tag_name</span><span class="token punctuation">:</span> tag的名称    <span class="token key atrule">release_name</span><span class="token punctuation">:</span> 发布的名字    <span class="token key atrule">body</span><span class="token punctuation">:</span> 发布的内容    <span class="token key atrule">draft</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">prerelease</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>以上几个需要我们自己填写的只有<code>tag_name</code>、<code>release_name</code>、<code>body</code>。因此我们只需要动态获取这三个变量即可实现按照我们的需求进行发布。</p><h2 id="获取tag_name"><a class="markdownIt-Anchor" href="#获取tag_name"></a> 获取tag_name</h2><p>tag_name一般指的是版本号，也就是需要在我们的JSON文件中读取的信息。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 读取当前版本号  <span class="token key atrule">id</span><span class="token punctuation">:</span> version  <span class="token key atrule">uses</span><span class="token punctuation">:</span> ashley<span class="token punctuation">-</span>taylor/read<span class="token punctuation">-</span>json<span class="token punctuation">-</span>property<span class="token punctuation">-</span>action@v1.0  <span class="token key atrule">with</span><span class="token punctuation">:</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./package.json    <span class="token key atrule">property</span><span class="token punctuation">:</span> version<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><code>path</code></p><p>表示Json文件的路径</p></li><li><p><code>property</code></p><p>json文件里的属性名。</p></li></ul><p>所以上述步骤表示读取<code>./package.json</code>文件里的<code>version</code>字段，也就是开头JSON示例中<code>1.1.1</code>值。</p><h2 id="获取release_name"><a class="markdownIt-Anchor" href="#获取release_name"></a> 获取release_name</h2><p>也就是发布release的名称，一般为<code>xxx-</code>版本号这样的格式，因此我们可以直接用版本号作为发布名。</p><h2 id="获取body"><a class="markdownIt-Anchor" href="#获取body"></a> 获取body</h2><p>由于body的内容较多，因此我们单独创建一个文件用于记录本次发布的内容。</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 读取描述文件  <span class="token key atrule">id</span><span class="token punctuation">:</span> description  <span class="token key atrule">uses</span><span class="token punctuation">:</span> juliangruber/read<span class="token punctuation">-</span>file<span class="token punctuation">-</span>action@v1  <span class="token key atrule">with</span><span class="token punctuation">:</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./description.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><code>path</code></p><p>表示文件的路径</p></li></ul><p>这样下来我们的三个字段就全部获取完了。接下来只需要发布即可</p><h2 id="发布release"><a class="markdownIt-Anchor" href="#发布release"></a> 发布release</h2><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 创建GitHub Release  <span class="token key atrule">id</span><span class="token punctuation">:</span> create_release  <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/create<span class="token punctuation">-</span>release@latest  <span class="token key atrule">env</span><span class="token punctuation">:</span>    <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> secrets.GITHUB_TOKEN <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token key atrule">with</span><span class="token punctuation">:</span>    <span class="token key atrule">tag_name</span><span class="token punctuation">:</span> v$<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>steps.version.outputs.value<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>    <span class="token key atrule">release_name</span><span class="token punctuation">:</span> v$<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>steps.version.outputs.value<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>    <span class="token key atrule">body</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>steps.description.outputs.content<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>    <span class="token key atrule">draft</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">prerelease</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>$&#123;&#123;steps.version.outputs.value&#125;&#125;</code>可以输出获取json文件时读取到的值，<code>$&#123;&#123;steps.description.outputs.content&#125;&#125;</code>可以输出获取文本内容时读取到的值。</p><h2 id="完整代码含npm包发布"><a class="markdownIt-Anchor" href="#完整代码含npm包发布"></a> 完整代码（含NPM包发布）</h2><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Node.js Package<span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> master<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">publish-npm</span><span class="token punctuation">:</span>    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest    <span class="token key atrule">strategy</span><span class="token punctuation">:</span>      <span class="token key atrule">matrix</span><span class="token punctuation">:</span>        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>12.x<span class="token punctuation">]</span>    <span class="token key atrule">steps</span><span class="token punctuation">:</span>      <span class="token comment"># check it to your workflow can access it</span>      <span class="token comment"># from: https://github.com/actions/checkout</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 1. 检查master分支        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master      <span class="token comment"># from: https://github.com/actions/setup-node</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 2. 设置Node.js        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@master        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 3. 缓存        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v2        <span class="token key atrule">id</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>dependencies        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">path</span><span class="token punctuation">:</span> node_modules          <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>runner.OS<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">-</span>$<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>hashFiles('<span class="token important">**/yarn.lock')</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 4. 安装插件        <span class="token key atrule">if</span><span class="token punctuation">:</span> steps.cache<span class="token punctuation">-</span>dependencies.outputs.cache<span class="token punctuation">-</span>hit <span class="token tag">!=</span> 'true'        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          export TZ='Asia/Shanghai'          yarn install</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 5. 生成文件        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          export TZ='Asia/Shanghai'          node index.js</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 6. 读取当前版本号        <span class="token key atrule">id</span><span class="token punctuation">:</span> version        <span class="token key atrule">uses</span><span class="token punctuation">:</span> ashley<span class="token punctuation">-</span>taylor/read<span class="token punctuation">-</span>json<span class="token punctuation">-</span>property<span class="token punctuation">-</span>action@v1.0        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">path</span><span class="token punctuation">:</span> ./package.json          <span class="token key atrule">property</span><span class="token punctuation">:</span> version      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 7. 读取描述文件        <span class="token key atrule">id</span><span class="token punctuation">:</span> description        <span class="token key atrule">uses</span><span class="token punctuation">:</span> juliangruber/read<span class="token punctuation">-</span>file<span class="token punctuation">-</span>action@v1        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">path</span><span class="token punctuation">:</span> ./description.txt      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 8. 发布NPM包        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          npm config set //registry.npmjs.org/:_authToken=$NPM_TOKEN          npm publish</span>        <span class="token key atrule">env</span><span class="token punctuation">:</span>          <span class="token key atrule">NPM_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>secrets.NPM_TOKEN<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 9. 创建GitHub Release        <span class="token key atrule">id</span><span class="token punctuation">:</span> create_release        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/create<span class="token punctuation">-</span>release@latest        <span class="token key atrule">env</span><span class="token punctuation">:</span>          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> secrets.GITHUB_TOKEN <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">tag_name</span><span class="token punctuation">:</span> v$<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>steps.version.outputs.value<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>          <span class="token key atrule">release_name</span><span class="token punctuation">:</span> v$<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>steps.version.outputs.value<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>          <span class="token key atrule">body</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>steps.description.outputs.content<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>          <span class="token key atrule">draft</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>          <span class="token key atrule">prerelease</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 10. 刷新缓存        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          curl https://purge.jsdelivr.net/npm/iemotion-pic@latest/dist/name.json</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h2&gt;
&lt;p&gt;此文以node项目为例，目录存在&lt;code&gt;package.json&lt;/code&gt;，其他项目如果参考本教程需自行创建json文件用于记录当前版本</summary>
      
    
    
    
    <category term="部署与构建" scheme="https://www.antmoe.com/categories/%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%9E%84%E5%BB%BA/"/>
    
    <category term="Github Actions" scheme="https://www.antmoe.com/categories/%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%9E%84%E5%BB%BA/Github-Actions/"/>
    
    
    <category term="GitHub release" scheme="https://www.antmoe.com/tags/GitHub-release/"/>
    
  </entry>
  
  <entry>
    <title>小康的butterfly主题使用文档</title>
    <link href="https://www.antmoe.com/posts/3b43914f/"/>
    <id>https://www.antmoe.com/posts/3b43914f/</id>
    <published>2021-01-17T13:25:00.000Z</published>
    <updated>2022-03-08T06:47:42.811Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文件头"><a class="markdownIt-Anchor" href="#文件头"></a> 文件头</h2><h3 id="page-front-matter"><a class="markdownIt-Anchor" href="#page-front-matter"></a> Page Front-matter</h3><table><thead><tr><th style="text-align:center">写法</th><th style="text-align:center">解释</th></tr></thead><tbody><tr><td style="text-align:center">title</td><td style="text-align:center">【必需】页面标题</td></tr><tr><td style="text-align:center">date</td><td style="text-align:center">【必需】页面创建日期</td></tr><tr><td style="text-align:center">type</td><td style="text-align:center">【必需】标籤、分类和友情链接三个页面需要配置</td></tr><tr><td style="text-align:center">updated</td><td style="text-align:center">【可选】页面更新日期</td></tr><tr><td style="text-align:center">description</td><td style="text-align:center">【可选】页面描述</td></tr><tr><td style="text-align:center">keywords</td><td style="text-align:center">【可选】页面关键字</td></tr><tr><td style="text-align:center">comments</td><td style="text-align:center">【可选】显示页面评论模块(默认 true)</td></tr><tr><td style="text-align:center">top_img</td><td style="text-align:center">【可选】页面顶部图片</td></tr><tr><td style="text-align:center">mathjax</td><td style="text-align:center">【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td style="text-align:center">katex</td><td style="text-align:center">【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td style="text-align:center">aside</td><td style="text-align:center">【可选】显示侧边栏 (默认 true)</td></tr><tr><td style="text-align:center">aplayer</td><td style="text-align:center">【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的<code>音乐</code> 配置</td></tr><tr><td style="text-align:center">highlight_shrink</td><td style="text-align:center">【可选】配置代码框是否展开(true/false)(默认为设置中 highlight_shrink 的配置)</td></tr></tbody></table><h3 id="post-front-matter"><a class="markdownIt-Anchor" href="#post-front-matter"></a> Post Front-matter</h3><table><thead><tr><th style="text-align:center">写法</th><th style="text-align:center">解释</th></tr></thead><tbody><tr><td style="text-align:center">title</td><td style="text-align:center">【必需】文章标题</td></tr><tr><td style="text-align:center">date</td><td style="text-align:center">【必需】文章创建日期</td></tr><tr><td style="text-align:center">updated</td><td style="text-align:center">【可选】文章更新日期</td></tr><tr><td style="text-align:center">tags</td><td style="text-align:center">【可选】文章标籤</td></tr><tr><td style="text-align:center">categories</td><td style="text-align:center">【可选】文章分类</td></tr><tr><td style="text-align:center">keywords</td><td style="text-align:center">【可选】文章关键字</td></tr><tr><td style="text-align:center">description</td><td style="text-align:center">【可选】文章描述</td></tr><tr><td style="text-align:center">top_img</td><td style="text-align:center">【可选】文章顶部图片</td></tr><tr><td style="text-align:center">cover</td><td style="text-align:center">【可选】文章缩略图(如果没有设置 top_img,文章页顶部将显示缩略图，可设为 false/图片地址/留空)</td></tr><tr><td style="text-align:center">comments</td><td style="text-align:center">【可选】显示文章评论模块(默认 true)</td></tr><tr><td style="text-align:center">toc</td><td style="text-align:center">【可选】显示文章 TOC(默认为设置中 toc 的 enable 配置)</td></tr><tr><td style="text-align:center">toc_number</td><td style="text-align:center">【可选】显示 toc_number(默认为设置中 toc 的 number 配置)</td></tr><tr><td style="text-align:center">copyright</td><td style="text-align:center">【可选】显示文章版权模块(默认为设置中 post_copyright 的 enable 配置)</td></tr><tr><td style="text-align:center">copyright_author</td><td style="text-align:center">【可选】文章版权模块的<code>文章作者</code></td></tr><tr><td style="text-align:center">copyright_author_href</td><td style="text-align:center">【可选】文章版权模块的<code>文章作者</code>链接</td></tr><tr><td style="text-align:center">copyright_url</td><td style="text-align:center">【可选】文章版权模块的<code>文章连结</code>链接</td></tr><tr><td style="text-align:center">copyright_info</td><td style="text-align:center">【可选】文章版权模块的<code>版权声明</code>文字</td></tr><tr><td style="text-align:center">mathjax</td><td style="text-align:center">【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td style="text-align:center">katex</td><td style="text-align:center">【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td style="text-align:center">aplayer</td><td style="text-align:center">【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的<code>音乐</code> 配置</td></tr><tr><td style="text-align:center">highlight_shrink</td><td style="text-align:center">【可选】配置代码框是否展开(true/false)(默认为设置中 highlight_shrink 的配置)</td></tr><tr><td style="text-align:center">aside</td><td style="text-align:center">【可选】显示侧边栏 (默认 true)</td></tr><tr><td style="text-align:center">hide</td><td style="text-align:center">【可选】隐藏文章</td></tr><tr><td style="text-align:center">sticky</td><td style="text-align:center">【可选】文章置顶，值越大越考上</td></tr></tbody></table><h2 id="外挂标签"><a class="markdownIt-Anchor" href="#外挂标签"></a> 外挂标签</h2><h3 id="相册"><a class="markdownIt-Anchor" href="#相册"></a> 相册</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% gallery %&#125;markdown 图片格式&#123;% endgallery %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><div class="fj-gallery"><p><img src="https://tva1.sinaimg.cn/large/832afe33ly1gbi87185y4g209g09gmy4.gif" alt="loading5.gif" /><br /><img src="https://tva1.sinaimg.cn/large/832afe33ly1gbi8718jtpg20r00lc776.gif" alt="loading1.gif" /><br /><img src="https://tva1.sinaimg.cn/large/832afe33ly1gbi8718495g20b40b4weq.gif" alt="loading2.gif" /><br /><img src="https://tva1.sinaimg.cn/large/832afe33ly1gbi8718vdsg20ee0d4gmz.gif" alt="loading3.gif" /><br /><img src="https://tva1.sinaimg.cn/large/832afe33ly1gbi87195tcg20m80godif.gif" alt="loading4.gif" /></p>          </div><h3 id="相册图库"><a class="markdownIt-Anchor" href="#相册图库"></a> 相册图库</h3><p>写法</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery-group-main<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  &#123;% galleryGroup name description link img-url %&#125; &#123;% galleryGroup name  description link img-url %&#125; &#123;% galleryGroup name description link img-url %&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>name：图库名字</li><li>description：图库描述</li><li>link：连接到对应相册的地址</li><li>img-url：图库封面的地址</li></ul><p>示例</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery-group-main<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  &#123;% galleryGroup '壁纸' '收藏的一些壁纸' '/Gallery/wallpaper'  https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %&#125; &#123;% galleryGroup '漫威'  '关于漫威的图片' '/Gallery/marvel'  https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %&#125; &#123;% galleryGroup 'OH MY  GIRL' '关于OH MY GIRL的图片' '/Gallery/ohmygirl'  https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/03/22/20200322082005.png" alt="" /></p><h3 id="note"><a class="markdownIt-Anchor" href="#note"></a> Note</h3><h4 id="内置图标"><a class="markdownIt-Anchor" href="#内置图标"></a> 内置图标</h4><div class="tabs" id="built-inicons"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#built-inicons-1">simple</button></li><li class="tab"><button type="button" data-href="#built-inicons-2">modern</button></li><li class="tab"><button type="button" data-href="#built-inicons-3">flat</button></li><li class="tab"><button type="button" data-href="#built-inicons-4">disabled</button></li><li class="tab"><button type="button" data-href="#built-inicons-5">no-icon</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="built-inicons-1"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note simple %&#125;默认 提示块标签&#123;% endnote %&#125;&#123;% note default simple %&#125;default 提示块标签&#123;% endnote %&#125;&#123;% note primary simple %&#125;primary 提示块标签&#123;% endnote %&#125;&#123;% note success simple %&#125;success 提示块标签&#123;% endnote %&#125;&#123;% note info simple %&#125;info 提示块标签&#123;% endnote %&#125;&#123;% note warning simple %&#125;warning 提示块标签&#123;% endnote %&#125;&#123;% note danger simple %&#125;danger 提示块标签&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="built-inicons-2"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span><span class="token operator">%</span> note modern <span class="token operator">%</span><span class="token punctuation">&#125;</span>默认 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note <span class="token keyword">default</span> modern <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token keyword">default</span> 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note primary modern <span class="token operator">%</span><span class="token punctuation">&#125;</span>primary 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note success modern <span class="token operator">%</span><span class="token punctuation">&#125;</span>success 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note info modern <span class="token operator">%</span><span class="token punctuation">&#125;</span>info 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note warning modern <span class="token operator">%</span><span class="token punctuation">&#125;</span>warning 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note danger modern <span class="token operator">%</span><span class="token punctuation">&#125;</span>danger 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note modern"><p>默认 提示块标签</p></div><div class="note default modern"><p>default 提示块标签</p></div><div class="note primary modern"><p>primary 提示块标签</p></div><div class="note success modern"><p>success 提示块标签</p></div><div class="note info modern"><p>info 提示块标签</p></div><div class="note warning modern"><p>warning 提示块标签</p></div><div class="note danger modern"><p>danger 提示块标签</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="built-inicons-3"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span><span class="token operator">%</span> note flat <span class="token operator">%</span><span class="token punctuation">&#125;</span>默认 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note <span class="token keyword">default</span> flat <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token keyword">default</span> 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note primary flat <span class="token operator">%</span><span class="token punctuation">&#125;</span>primary 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note success flat <span class="token operator">%</span><span class="token punctuation">&#125;</span>success 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note info flat <span class="token operator">%</span><span class="token punctuation">&#125;</span>info 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note warning flat <span class="token operator">%</span><span class="token punctuation">&#125;</span>warning 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token operator">%</span> note danger flat <span class="token operator">%</span><span class="token punctuation">&#125;</span>danger 提示块标签<span class="token punctuation">&#123;</span><span class="token operator">%</span> endnote <span class="token operator">%</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="built-inicons-4"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note disabled %&#125;默认 提示块标签&#123;% endnote %&#125;&#123;% note default disabled %&#125;default 提示块标签&#123;% endnote %&#125;&#123;% note primary disabled %&#125;primary 提示块标签&#123;% endnote %&#125;&#123;% note success disabled %&#125;success 提示块标签&#123;% endnote %&#125;&#123;% note info disabled %&#125;info 提示块标签&#123;% endnote %&#125;&#123;% note warning disabled %&#125;warning 提示块标签&#123;% endnote %&#125;&#123;% note danger disabled %&#125;danger 提示块标签&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note disabled"><p>默认 提示块标签</p></div><div class="note default disabled"><p>default 提示块标签</p></div><div class="note primary disabled"><p>primary 提示块标签</p></div><div class="note success disabled"><p>success 提示块标签</p></div><div class="note info disabled"><p>info 提示块标签</p></div><div class="note warning disabled"><p>warning 提示块标签</p></div><div class="note danger disabled"><p>danger 提示块标签</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="built-inicons-5"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note no-icon %&#125;默认 提示块标签&#123;% endnote %&#125;&#123;% note default no-icon %&#125;default 提示块标签&#123;% endnote %&#125;&#123;% note primary no-icon %&#125;primary 提示块标签&#123;% endnote %&#125;&#123;% note success no-icon %&#125;success 提示块标签&#123;% endnote %&#125;&#123;% note info no-icon %&#125;info 提示块标签&#123;% endnote %&#125;&#123;% note warning no-icon %&#125;warning 提示块标签&#123;% endnote %&#125;&#123;% note danger no-icon %&#125;danger 提示块标签&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note no-icon flat"><p>默认 提示块标签</p></div><div class="note default no-icon flat"><p>default 提示块标签</p></div><div class="note primary no-icon flat"><p>primary 提示块标签</p></div><div class="note success no-icon flat"><p>success 提示块标签</p></div><div class="note info no-icon flat"><p>info 提示块标签</p></div><div class="note warning no-icon flat"><p>warning 提示块标签</p></div><div class="note danger no-icon flat"><p>danger 提示块标签</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="自定义图标"><a class="markdownIt-Anchor" href="#自定义图标"></a> 自定义图标</h4><div class="tabs" id="customicon"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#customicon-1">sample</button></li><li class="tab"><button type="button" data-href="#customicon-2">modern</button></li><li class="tab"><button type="button" data-href="#customicon-3">flat</button></li><li class="tab"><button type="button" data-href="#customicon-4">disabled</button></li><li class="tab"><button type="button" data-href="#customicon-5">no-icon</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="customicon-1"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'fab fa-cc-visa' simple %&#125;你是刷 Visa 还是是 UnionPay&#123;% endnote %&#125;&#123;% note red 'fas fa-bullhorn' simple %&#125;2021 年快到了....&#123;% endnote %&#125;&#123;% note pink 'fas fa-car-crash' simple %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note green 'fas fa-fan' simple%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'fas fa-battery-half' simple %&#125;该充电了哦！&#123;% endnote %&#125;&#123;% note purple 'far fa-hand-scissors' simple %&#125;剪刀石頭布&#123;% endnote %&#125;&#123;% note blue 'fab fa-internet-explorer' simple %&#125;前端最討厭的瀏覽器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note icon simple"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是是 UnionPay</p></div><div class="note red icon simple"><i class="note-icon fas fa-bullhorn"></i><p>2021 年快到了…</p></div><div class="note pink icon simple"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note green icon simple"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon simple"><i class="note-icon fas fa-battery-half"></i><p>该充电了哦！</p></div><div class="note purple icon simple"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石頭布</p></div><div class="note blue icon simple"><i class="note-icon fab fa-internet-explorer"></i><p>前端最討厭的瀏覽器</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="customicon-2"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'fab fa-cc-visa' modern %&#125;你是刷 Visa 还是是 UnionPay&#123;% endnote %&#125;&#123;% note red 'fas fa-bullhorn' modern %&#125;2021 年快到了....&#123;% endnote %&#125;&#123;% note pink 'fas fa-car-crash' modern %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note green 'fas fa-fan' modern%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'fas fa-battery-half' modern %&#125;该充电了哦！&#123;% endnote %&#125;&#123;% note purple 'far fa-hand-scissors' modern %&#125;剪刀石頭布&#123;% endnote %&#125;&#123;% note blue 'fab fa-internet-explorer' modern %&#125;前端最討厭的瀏覽器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note icon modern"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是是 UnionPay</p></div><div class="note red icon modern"><i class="note-icon fas fa-bullhorn"></i><p>2021 年快到了…</p></div><div class="note pink icon modern"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note green icon modern"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon modern"><i class="note-icon fas fa-battery-half"></i><p>该充电了哦！</p></div><div class="note purple icon modern"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石頭布</p></div><div class="note blue icon modern"><i class="note-icon fab fa-internet-explorer"></i><p>前端最討厭的瀏覽器</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="customicon-3"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'fab fa-cc-visa' flat %&#125;你是刷 Visa 还是是 UnionPay&#123;% endnote %&#125;&#123;% note red 'fas fa-bullhorn' flat %&#125;2021 年快到了....&#123;% endnote %&#125;&#123;% note pink 'fas fa-car-crash' flat %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note green 'fas fa-fan' flat%&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'fas fa-battery-half' flat %&#125;该充电了哦！&#123;% endnote %&#125;&#123;% note purple 'far fa-hand-scissors' flat %&#125;剪刀石頭布&#123;% endnote %&#125;&#123;% note blue 'fab fa-internet-explorer' flat %&#125;前端最討厭的瀏覽器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note icon flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是是 UnionPay</p></div><div class="note red icon flat"><i class="note-icon fas fa-bullhorn"></i><p>2021 年快到了…</p></div><div class="note pink icon flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note green icon flat"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon flat"><i class="note-icon fas fa-battery-half"></i><p>该充电了哦！</p></div><div class="note purple icon flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石頭布</p></div><div class="note blue icon flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最討厭的瀏覽器</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="customicon-4"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note 'fab fa-cc-visa' disabled  %&#125;你是刷 Visa 还是是 UnionPay&#123;% endnote %&#125;&#123;% note red 'fas fa-bullhorn' disabled  %&#125;2021 年快到了....&#123;% endnote %&#125;&#123;% note pink 'fas fa-car-crash' disabled  %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note green 'fas fa-fan' disabled %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange 'fas fa-battery-half' disabled  %&#125;该充电了哦！&#123;% endnote %&#125;&#123;% note purple 'far fa-hand-scissors' disabled  %&#125;剪刀石頭布&#123;% endnote %&#125;&#123;% note blue 'fab fa-internet-explorer' disabled  %&#125;前端最討厭的瀏覽器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="customicon-5"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% note no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note blue no-icon %&#125;2021 年快到了....&#123;% endnote %&#125;&#123;% note pink no-icon %&#125;小心开车 安全至上&#123;% endnote %&#125;&#123;% note red no-icon %&#125;这是三片呢？还是四片？&#123;% endnote %&#125;&#123;% note orange no-icon %&#125;你是刷 Visa 还是 UnionPay&#123;% endnote %&#125;&#123;% note purple no-icon %&#125;剪刀石头布&#123;% endnote %&#125;&#123;% note green no-icon %&#125;前端最讨厌的浏览器&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue no-icon flat"><p>2021 年快到了…</p></div><div class="note pink no-icon flat"><p>小心开车 安全至上</p></div><div class="note red no-icon flat"><p>这是三片呢？还是四片？</p></div><div class="note orange no-icon flat"><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple no-icon flat"><p>剪刀石头布</p></div><div class="note green no-icon flat"><p>前端最讨厌的浏览器</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="自定义图标阿里图标及颜色"><a class="markdownIt-Anchor" href="#自定义图标阿里图标及颜色"></a> 自定义图标（阿里图标）及颜色</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html">/* default */<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>note icon custom iconfont icon-QQ2<span class="token punctuation">"</span></span>  <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background</span><span class="token punctuation">:</span> #f7f7f7<span class="token punctuation">;</span><span class="token property">border-left-color</span><span class="token punctuation">:</span> #777<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>/* success */<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>note icon custom iconfont icon-QQ2<span class="token punctuation">"</span></span>  <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background</span><span class="token punctuation">:</span> #eff8f0<span class="token punctuation">;</span><span class="token property">border-left-color</span><span class="token punctuation">:</span> #5cb85c<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>success<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>/* primary */<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>note icon custom iconfont icon-QQ2<span class="token punctuation">"</span></span>  <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background</span><span class="token punctuation">:</span> #f5f0fa<span class="token punctuation">;</span><span class="token property">border-left-color</span><span class="token punctuation">:</span> #6f42c1<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>primary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>/* info */<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>note icon custom iconfont icon-QQ2<span class="token punctuation">"</span></span>  <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background</span><span class="token punctuation">:</span> #eef7fa<span class="token punctuation">;</span><span class="token property">border-left-color</span><span class="token punctuation">:</span> #428bca<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>info<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>/* warning */<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>note icon custom iconfont icon-QQ2<span class="token punctuation">"</span></span>  <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background</span><span class="token punctuation">:</span> #fdf8ea<span class="token punctuation">;</span><span class="token property">border-left-color</span><span class="token punctuation">:</span> #f0ad4e<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>warning<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>/* danger */<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>note icon custom iconfont icon-QQ2<span class="token punctuation">"</span></span>  <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background</span><span class="token punctuation">:</span> #fcf1f2<span class="token punctuation">;</span><span class="token property">border-left-color</span><span class="token punctuation">:</span> #d9534f<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>danger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="note  icon custom iconfont icon-QQ2" style="background: #f7f7f7;border-left-color: #777;"><p>default</p></div><div class="note  icon custom iconfont icon-QQ2" style="background: #eff8f0;border-left-color: #5cb85c;"><p>success</p></div><div class="note  icon custom iconfont icon-QQ2" style="background: #f5f0fa;border-left-color: #6f42c1;"><p>primary</p></div><div class="note  icon custom iconfont icon-QQ2" style="background: #eef7fa;border-left-color: #428bca;"><p>info</p></div><div class="note icon custom iconfont icon-QQ2" style="background: #fdf8ea;border-left-color: #f0ad4e;"><p>warning</p></div><div class="note  icon custom iconfont icon-QQ2" style="background: #fcf1f2;border-left-color: #d9534f;"><p>danger</p></div><h3 id="自定义小标签"><a class="markdownIt-Anchor" href="#自定义小标签"></a> 自定义小标签</h3><div class="snote red"><p>默认red</p></div><div class="snote quote"><p>quote</p></div><div class="snote info"><p>info</p></div><div class="snote done"><p>done</p></div><div class="snote success"><p>success</p></div><div class="snote danger"><p>danger</p></div><div class="snote error"><p>error</p></div><div class="snote radiation"><p>radiation</p></div><div class="snote bug"><p>bug</p></div><div class="snote idea yellow"><p>idea-yellow</p></div><div class="snote link blue"><p>link- blue</p></div><div class="snote paperclip"><p>paperclip</p></div><div class="snote todo"><p>todo</p></div><div class="snote msg cyan"><p>msg cyan</p></div><div class="snote guide"><p>guide</p></div><div class="snote download"><p>download</p></div><div class="snote up"><p>up</p></div><div class="snote undo"><p>undo</p></div><div class="snote quote"><p class='p subtitle'>引用框</p><p>引用内容</p></div><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>默认red<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote quote<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>quote<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>info<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote done<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>done<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>success<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote danger<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>danger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote error<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>error<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote radiation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>radiation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote bug<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>bug<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote idea yellow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>idea-yellow<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote link blue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>link- blue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote paperclip<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>paperclip<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote todo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>todo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote msg cyan<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>msg cyan<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote guide<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>guide<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote download<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>download<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>up<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote undo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>undo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>/* 引用 */<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>snote quote<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p subtitle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>小标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  这是个引用<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>关于颜色及标记控制</p><ul><li><p>彩色图标</p><pre class="line-numbers language-Code" data-language="Code"><code class="language-Code">quote, info, warning, done&#x2F;success, error&#x2F;dangerquote     蓝色引号info      蓝色叹号warning   黄色叹号done      绿色打钩success   绿色打钩error     红色禁止danger    红色打叉<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>灰色图标</p><p>也可以指定颜色</p><pre class="line-numbers language-code" data-language="code"><code class="language-code">radiation, bug, idea, link, paperclip, todo, msg, guide, download, up, undoradiation    核标记bug            爬虫idea        电灯泡link        锁链paperclip   回形针todo        勾选框msg         向右箭头guide       指路牌download    下载标记up          上传标记undo        回转箭头标记<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>颜色</p><pre class="line-numbers language-code" data-language="code"><code class="language-code">clear, light, gray, red, yellow, green, cyan, blue<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li></ul><h3 id="渐变背景标签"><a class="markdownIt-Anchor" href="#渐变背景标签"></a> 渐变背景标签</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>默认情况<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>info<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>success<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip error<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>error<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip warning<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>warning<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip font5 fas fa-atom<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>自定义font5图标<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip custom icon-QQ2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>自定义iconfont图标<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip wtgo font5 fas fa-bolt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip ban font5 fas fa-ban<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip home font5 fas fa-home<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip important font5 fas fa-home<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>魔改标签4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip ref font5 fas fa-sync<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>魔改标签5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip ffa font5 fas fa-cogs<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>魔改标签6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip key font5 fas fa-key<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>魔改标签7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip socd font5 fas fa-bell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>魔改标签8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tip qq font5 fab fa-qq<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>魔改标签9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class='tip' ><p>默认情况<p></div><div class='tip info'><p>info<p></div><div class='tip success'><p>success<p></div><div class='tip error'><p>error<p></div><div class='tip warning'><p>warning<p></div><div class='tip font5 fas fa-atom'><p>自定义fontawesome5图标<p></div><div class='tip font5 fab fa-qq'><p>自定义fontawesome5图标<p></div><div class='tip custom icon-QQ2'><p>自定义iconfont图标<p></div><div class="tip wtgo font5 fas fa-bolt"><p>文字</p><p></p></div><div class="tip ban font5 fas fa-ban"><p>文字</p><p></p></div><div class="tip home font5 fas fa-home"><p>文字</p><p></p></div><div class="tip important font5 fas fa-home"><p>魔改标签4</p><p></p></div><div class="tip ref font5 fas fa-sync"><p>魔改标签5</p><p></p></div><div class="tip ffa font5 fas fa-cogs"><p>魔改标签6</p><p></p></div><div class="tip key font5 fas fa-key"><p>魔改标签7</p><p></p></div><div class="tip socd font5 fas fa-bell"><p>魔改标签8</p><p></p></div><div class="tip qq font5 fab fa-qq"><p>魔改标签9</p><p></p></div><h3 id="小标签及边框颜色"><a class="markdownIt-Anchor" href="#小标签及边框颜色"></a> 小标签及边框颜色</h3><p><span class="inline-tag red">红色小标签</span> <span class="inline-tag green">绿色小标签</span> <span class="inline-tag blue">蓝色小标签</span> <span class="inline-tag yellow">黄色小标签</span> <span class="inline-tag grey">灰色小标签</span></p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inline-tag [red|green|blue|yellow|grey]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>语法<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inline-tag red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>红色小标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inline-tag green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>绿色小标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inline-tag blue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>蓝色小标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inline-tag yellow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>黄色小标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inline-tag grey<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>灰色小标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>自定义颜色</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inline-tag<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">--Color</span><span class="token punctuation">:</span>#881B12</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>自定义颜色小标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p class="div-border top red">上边框</p><p class="div-border right red">右边框</p><p class="div-border bottom red">下边框</p><p class="div-border left red">左边框</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border [left|right|top|bottom] [red|green|blue|yellow|grey]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  语法<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border top red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>上边框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border right red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>右边框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border bottom red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>下边框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border left red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>左边框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>预设颜色分别为<code>red</code>、<code>green</code>、<code>blue</code>、<code>yellow</code>、<code>grey</code>也就是小标签的五种颜色</p><p>自定义颜色</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class="div-border</span> <span class="token attr-name">left</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">--Color</span><span class="token punctuation">:</span>#881B12</span><span class="token punctuation">"</span></span></span><span class="token attr-name">"</span><span class="token punctuation">></span></span>左边框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="全边框及自定义颜色"><a class="markdownIt-Anchor" href="#全边框及自定义颜色"></a> 全边框及自定义颜色</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border<span class="token punctuation">"</span></span>  <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>82<span class="token punctuation">,</span>196<span class="token punctuation">,</span>26<span class="token punctuation">,</span>.1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #52c41a<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span> 0.4rem<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  全边框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>/* 或者如下写法 */<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span>  <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>82<span class="token punctuation">,</span>196<span class="token punctuation">,</span>26<span class="token punctuation">,</span>.1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #52c41a<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span> 0.4rem<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  全边框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>/* 内置样式 */<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>绿色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>红色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border yellow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>黄色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border grey<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>灰色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>div-border blue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>蓝色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p class="div-border" style="background-color: rgba(82,196,26,.1);border: 1px solid #52c41a;border-radius: 0.4rem;">全边框</p><p class='div-border green'>绿色</p><p class='div-border red'>红色</p><p class='div-border yellow'>黄色</p><p class='div-border grey'>灰色</p><p class='div-border blue'>蓝色</p><h3 id="行内小标签"><a class="markdownIt-Anchor" href="#行内小标签"></a> 行内小标签</h3><div class="tabs" id="inline-label"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#inline-label-1">下划线</button></li><li class="tab"><button type="button" data-href="#inline-label-2">着重线</button></li><li class="tab"><button type="button" data-href="#inline-label-3">波浪线</button></li><li class="tab"><button type="button" data-href="#inline-label-4">删除线</button></li><li class="tab"><button type="button" data-href="#inline-label-5">按键</button></li><li class="tab"><button type="button" data-href="#inline-label-6">隐藏框</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="inline-label-1"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>u</span><span class="token punctuation">></span></span>下划线<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>u</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><u>下划线</u></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inline-label-2"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>emp</span><span class="token punctuation">></span></span>着重线<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>emp</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><emp>着重线</emp></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inline-label-3"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wavy</span><span class="token punctuation">></span></span>波浪线<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wavy</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><wavy>波浪线</wavy></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inline-label-4"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>del</span><span class="token punctuation">></span></span>删除线<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>del</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><del>删除线</del></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inline-label-5"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>kbd</span><span class="token punctuation">></span></span>command<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>kbd</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><kbd>command</kbd></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inline-label-6"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>psw</span><span class="token punctuation">></span></span>这里没有验证码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>psw</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><psw>这里没有验证码</psw></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="时间线"><a class="markdownIt-Anchor" href="#时间线"></a> 时间线</h3><div class="tabs" id="inline-label"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#inline-label-1">语法</button></li><li class="tab"><button type="button" data-href="#inline-label-2">示例</button></li><li class="tab"><button type="button" data-href="#inline-label-3">效果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="inline-label-1"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% timeline 时间节点标题,颜色 %&#125;<span class="token comment">&lt;!-- timeline 时间节点 --></span>正文内容<span class="token comment">&lt;!-- endtimeline --></span>&#123;% endtimeline %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inline-label-2"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% timeline 2022,red %&#125;<span class="token comment">&lt;!-- timeline 01-02 --></span>這是測試頁面<span class="token comment">&lt;!-- endtimeline --></span>&#123;% endtimeline %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inline-label-3"><div class="timeline red"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>這是測試頁面</p></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="link"><a class="markdownIt-Anchor" href="#link"></a> Link</h3><div class="tabs" id="inline-label"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#inline-label-1">语法</button></li><li class="tab"><button type="button" data-href="#inline-label-2">示例</button></li><li class="tab"><button type="button" data-href="#inline-label-3">效果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="inline-label-1"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% link 标题, 链接, 图片 %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inline-label-2"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% link 小康博客, http://www.antmoe.com/, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inline-label-3"><div style="display: inline-block;"><a class='link-card' target="_blank" rel="external nofollow noopener noreferrer" title='http://www.antmoe.com/' href='http://www.antmoe.com/'><div class='left'><img src=https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg></div><div class='right'><p class='text'>小康博客</p><p class='url'>http://www.antmoe.com/</p></div></a></div><div style="display: inline-block;"><a class='link-card' target="_blank" rel="external nofollow noopener noreferrer" title='http://www.antmoe.com/' href='http://www.antmoe.com/'><div class='left'><img src=https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg></div><div class='right'><p class='text'>小康博客</p><p class='url'>http://www.antmoe.com/</p></div></a></div><div style="display: inline-block;"><a class='link-card' target="_blank" rel="external nofollow noopener noreferrer" title='http://www.antmoe.com/' href='http://www.antmoe.com/'><div class='left'><img src=https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg></div><div class='right'><p class='text'>小康博客</p><p class='url'>http://www.antmoe.com/</p></div></a></div><div style="display: inline-block;"><a class='link-card' target="_blank" rel="external nofollow noopener noreferrer" title='http://www.antmoe.com/' href='http://www.antmoe.com/'><div class='left'><img src=https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg></div><div class='right'><p class='text'>小康博客</p><p class='url'>http://www.antmoe.com/</p></div></a></div><div style="display: inline-block;"><a class='link-card' target="_blank" rel="external nofollow noopener noreferrer" title='http://www.antmoe.com/' href='http://www.antmoe.com/'><div class='left'><img src=https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg></div><div class='right'><p class='text'>小康博客</p><p class='url'>http://www.antmoe.com/</p></div></a></div><div style="display: inline-block;"><a class='link-card' target="_blank" rel="external nofollow noopener noreferrer" title='http://www.antmoe.com/' href='http://www.antmoe.com/'><div class='left'><img src=https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg></div><div class='right'><p class='text'>小康博客</p><p class='url'>http://www.antmoe.com/</p></div></a></div><div style="display: inline-block;"><a class='link-card' target="_blank" rel="external nofollow noopener noreferrer" title='http://www.antmoe.com/' href='http://www.antmoe.com/'><div class='left'><img src=https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg></div><div class='right'><p class='text'>小康博客</p><p class='url'>http://www.antmoe.com/</p></div></a></div><div style="display: inline-block;"><a class='link-card' target="_blank" rel="external nofollow noopener noreferrer" title='http://www.antmoe.com/' href='http://www.antmoe.com/'><div class='left'><img src=https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg></div><div class='right'><p class='text'>小康博客</p><p class='url'>http://www.antmoe.com/</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="隐藏内容"><a class="markdownIt-Anchor" href="#隐藏内容"></a> 隐藏内容</h3><p>隐藏一些内容，需要点击才能插看</p><p><code>inline</code> 在文本里面添加按钮隐藏内容，只限文字</p><p>( content 不能包含当引号，可用 <code>&amp;apos;</code>)</p><p><code>block</code> 独立的 block 隐藏内容，可以隐藏很多内容，包括图片，`代码块等等</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% hideInline content,display,bg,color %&#125;&#123;% hideBlock display,bg,color %&#125;content&#123;% endhideBlock %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>content: 文本内容</li><li>display: 按钮显示的文字 (可选)</li><li>bg: 按钮的背景颜色 (可选)</li><li>color: 按钮文字的颜色 (可选)</li></ul><p>示例：</p><p>隐藏 inline 内容 <span class="hide-inline"><button type="button" class="hide-button" style="">Click  </button><span class="hide-content">这是隐藏内容</span></span></p><p>隐藏 block 内容<div class="hide-block"><button type="button" class="hide-button" style="">这是隐藏内容    </button><div class="hide-content"><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></div></p><h3 id="hidetoggle"><a class="markdownIt-Anchor" href="#hidetoggle"></a> hideToggle</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% hideToggle display,bg,color %&#125;content&#123;% endhideToggle %&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide-toggle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide-button toggle-title<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fa fa-caret-right fa-fw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>默认效果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>content: 文本内容</li><li>display: 显示的文字 (可选)</li><li>bg: 背景颜色 (可选)</li><li>color: 文字的颜色 (可选)</li></ul><details class="toggle" ><summary class="toggle-button" style="">文字</summary><div class="toggle-content"><p>默认效果</p></div></details><h3 id="mermaid"><a class="markdownIt-Anchor" href="#mermaid"></a> mermaid</h3><p>使用 mermaid 标签可以绘制 Flowchart（流程图）、Sequence diagram（时序图 ）、Class Diagram（类别图）、State Diagram（状态图）、Gantt（甘特图）和 Pie Chart（圆形图），具体可以查看<a href="https://mermaid-js.github.io/mermaid/#/">mermaid 文档</a></p><p>写法</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% mermaid %&#125;内容&#123;% endmermaid %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>示例</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% mermaid %&#125;pietitle Key elements in Product X"Calcium" : 42.96"Potassium" : 50.05"Magnesium" : 10.01"Iron" : 5&#123;% endmermaid %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="checkbox-radio"><a class="markdownIt-Anchor" href="#checkbox-radio"></a> Checkbox &amp; Radio</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>参数列表：</p><ul><li><p>颜色</p><p><code>red, yellow, green, cyan, blue</code></p></li><li><p>样式</p><p><code>plus, minus, times</code></p></li><li><p>选中状态</p><p><code>checked</code></p></li></ul><p>tag 标签格式</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% checkbox 纯文本测试 %&#125;&#123;% checkbox checked, 支持简单的 <span class="token url">[<span class="token content">markdown</span>](<span class="token url">https://guides.github.com/features/mastering-markdown/</span>)</span> 语法 %&#125;&#123;% checkbox red, 支持自定义颜色 %&#125;&#123;% checkbox green checked, 绿色 + 默认选中 %&#125;&#123;% checkbox yellow checked, 黄色 + 默认选中 %&#125;&#123;% checkbox cyan checked, 青色 + 默认选中 %&#125;&#123;% checkbox blue checked, 蓝色 + 默认选中 %&#125;&#123;% checkbox plus green checked, 增加 %&#125;&#123;% checkbox minus yellow checked, 减少 %&#125;&#123;% checkbox times red checked, 叉 %&#125;&#123;% radio 纯文本测试 %&#125;&#123;% radio checked, 支持简单的 <span class="token url">[<span class="token content">markdown</span>](<span class="token url">https://guides.github.com/features/mastering-markdown/</span>)</span> 语法 %&#125;&#123;% radio red, 支持自定义颜色 %&#125;&#123;% radio green, 绿色 %&#125;&#123;% radio yellow, 黄色 %&#125;&#123;% radio cyan, 青色 %&#125;&#123;% radio blue, 蓝色 %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>html 格式</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>纯文本测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox checked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>    支持简单的    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>      <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://guides.github.com/features/mastering-markdown/<span class="token punctuation">"</span></span>      <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span>      <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>      <span class="token punctuation">></span></span>markdown<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span>    <span class="token punctuation">></span></span>    语法  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>支持自定义颜色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox green checked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>绿色 + 默认选中<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox yellow checked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>黄色 + 默认选中<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox cyan checked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>青色 + 默认选中<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox blue checked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>蓝色 + 默认选中<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox plus green checked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>增加<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox minus yellow checked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>减少<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox times red checked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>叉<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>纯文本测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox checked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>    支持简单的    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>      <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://guides.github.com/features/mastering-markdown/<span class="token punctuation">"</span></span>      <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span>      <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>      <span class="token punctuation">></span></span>markdown<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span>    <span class="token punctuation">></span></span>    语法  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>支持自定义颜色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>绿色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox yellow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>黄色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox cyan<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>青色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox blue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>蓝色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class='checkbox'><input type="checkbox" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>支持自定义颜色</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>绿色 + 默认选中</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>黄色 + 默认选中</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>青色 + 默认选中</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>蓝色 + 默认选中</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>增加</p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>减少</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>叉</p>            </div><div class='checkbox'><input type="radio" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="radio" />            <p>支持自定义颜色</p>            </div><div class='checkbox green'><input type="radio" />            <p>绿色</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>黄色</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>青色</p>            </div><div class='checkbox blue'><input type="radio" />            <p>蓝色</p>            </div><h3 id="按钮"><a class="markdownIt-Anchor" href="#按钮"></a> 按钮</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% btn [url],[text],[icon],<span class="token url">[<span class="token content">color</span>] [<span class="token variable">style</span>]</span> <span class="token url">[<span class="token content">layout</span>] [<span class="token variable">position</span>]</span> [size] %&#125;[url] : 链接[text] : 按钮文字[icon] : [可选] 图标[color] : [可选] 按钮背景顔色(默认 style 时）按钮字体和边框顔色(outline 时)default/blue/pink/red/purple/orange/green[style] : [可选] 按钮样式 默认实心outline/留空[layout] : [可选] 按钮佈局 默认为 lineblock/留空[position] : [可选] 按钮位置 前提是设置了 layout 为 block 默认为左边center/right/留空[size] : [可选] 按钮大小larger/留空<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="demo1"><a class="markdownIt-Anchor" href="#demo1"></a> demo1</h4><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">This is my website, click the button &#123;% btn 'http://www.antmoe.com',小康博客 %&#125;This is my website, click the button &#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right %&#125;This is my website, click the button &#123;% btn 'http://www.antmoe.com',小康博客,,outline %&#125;This is my website, click the button &#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,outline %&#125;This is my website, click the button &#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,larger %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-beautify button--animated <span class="token punctuation">"</span></span>  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.antmoe.com<span class="token punctuation">"</span></span>  <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span>  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>小康博客<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span>小康博客<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-beautify button--animated <span class="token punctuation">"</span></span>  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.antmoe.com<span class="token punctuation">"</span></span>  <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span>  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>小康博客<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>far fa-hand-point-right fa-fw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span> 小康博客<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-beautify button--animated outline<span class="token punctuation">"</span></span>  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.antmoe.com<span class="token punctuation">"</span></span>  <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span>  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>小康博客<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span>小康博客<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-beautify button--animated outline<span class="token punctuation">"</span></span>  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.antmoe.com<span class="token punctuation">"</span></span>  <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span>  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>小康博客<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>far fa-hand-point-right fa-fw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span> 小康博客<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-beautify button--animated larger<span class="token punctuation">"</span></span>  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.antmoe.com<span class="token punctuation">"</span></span>  <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span>  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>小康博客<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>far fa-hand-point-right fa-fw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span> 小康博客<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a class="btn-beautify button--animated " href="http://www.antmoe.com" target="_blank" rel="noopener" title="小康博客">小康博客 </a></p><p><a class="btn-beautify button--animated " href="http://www.antmoe.com" target="_blank" rel="noopener" title="小康博客"><i class="far fa-hand-point-right fa-fw"></i> 小康博客 </a></p><p><a class="btn-beautify button--animated outline" href="http://www.antmoe.com" target="_blank" rel="noopener" title="小康博客">小康博客 </a></p><p><a class="btn-beautify button--animated outline" href="http://www.antmoe.com" target="_blank" rel="noopener" title="小康博客"><i class="far fa-hand-point-right fa-fw"></i> 小康博客 </a></p><p><a class="btn-beautify button--animated larger" href="http://www.antmoe.com" target="_blank" rel="noopener" title="小康博客"><i class="far fa-hand-point-right fa-fw"></i> 小康博客 </a></p><h4 id="demo2"><a class="markdownIt-Anchor" href="#demo2"></a> demo2</h4><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,block %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,block center larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,block right outline larger %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-beautify button--animated block<span class="token punctuation">"</span></span>  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.antmoe.com<span class="token punctuation">"</span></span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>小康博客<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>far fa-hand-point-right fa-fw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span> 小康博客<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-beautify button--animated block center larger<span class="token punctuation">"</span></span>  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.antmoe.com<span class="token punctuation">"</span></span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>小康博客<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>far fa-hand-point-right fa-fw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span> 小康博客<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-beautify button--animated block right outline larger<span class="token punctuation">"</span></span>  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.antmoe.com<span class="token punctuation">"</span></span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>小康博客<span class="token punctuation">"</span></span>  <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>far fa-hand-point-right fa-fw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span> 小康博客<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a class="btn-beautify button--animated block" href="http://www.antmoe.com" title="小康博客"><i class="far fa-hand-point-right fa-fw"></i> 小康博客 </a></p><p><a class="btn-beautify button--animated block center larger" href="http://www.antmoe.com" title="小康博客"><i class="far fa-hand-point-right fa-fw"></i> 小康博客 </a></p><p><a class="btn-beautify button--animated block right outline larger" href="http://www.antmoe.com" title="小康博客"><i class="far fa-hand-point-right fa-fw"></i> 小康博客 </a></p><h4 id="demo3"><a class="markdownIt-Anchor" href="#demo3"></a> demo3</h4><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,blue larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,pink larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,red larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,purple larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,orange larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,green larger %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><a class="btn-beautify larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify blue larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify pink larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify red larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify purple larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify orange larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify green larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a>#### demo4<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,outline larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,outline blue larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,outline pink larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,outline red larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,outline purple larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,outline orange larger %&#125;&#123;% btn 'http://www.antmoe.com',小康博客,far fa-hand-point-right,outline green larger %&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="btn-center"><a class="btn-beautify outline larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify outline blue larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify outline pink larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify outline red larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify outline purple larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify outline orange larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a><a class="btn-beautify outline green larger" href="http://www.antmoe.com"   title="小康博客"><i class="far fa-hand-point-right"></i><span>小康博客</span></a></div>### 富文本按钮<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% btns 样式参数 %&#125;&#123;% cell 标题, 链接, 图片或者图标 %&#125;&#123;% cell 标题, 链接, 图片或者图标 %&#125;&#123;% endbtns %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>参数列表：- 圆角样式  `rounded, circle`- 布局方式  默认为自动宽度，适合视野内只有一两个的情况。  |  参数  |                   含义                   |  | :----: | :--------------------------------------: |  |  wide  |               宽一点的按钮               |  |  fill  | 填充布局，自动铺满至少一行，多了会换行。 |  | center |        居中，按钮之间是固定间距。        |  | around |                 居中分散                 |  | grid2  | 等宽最多 2 列，屏幕变窄会适当减少列数。  |  | grid3  | 等宽最多 3 列，屏幕变窄会适当减少列数。  |  | grid4  | 等宽最多 4 列，屏幕变窄会适当减少列数。  |  | grid5  | 等宽最多 5 列，屏幕变窄会适当减少列数。  |- 增加文字样式  可以在容器内增加 `标题` 和 `描述文字`<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% btns circle grid5 %&#125;&#123;% cell Dreamy.TZK, https://www.antmoe.com, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;&#123;% cell Dreamy.TZK, https://www.antmoe.com, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;&#123;% cell Dreamy.TZK, https://www.antmoe.com, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;&#123;% cell Dreamy.TZK, https://www.antmoe.com, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;&#123;% cell Dreamy.TZK, https://www.antmoe.com, https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg %&#125;&#123;% endbtns %&#125;&#123;% btns rounded grid5 %&#125;&#123;% cell 下载源码, /, fa fa-download %&#125;&#123;% cell 查看文档, /, fa fa-book %&#125;&#123;% endbtns %&#125;&#123;% btns circle center grid5 %&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>fa fa-apple<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>心率管家<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span>&#123;% p red, 专业版 %&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_pro.png<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>fa fa-apple<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>心率管家<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span>&#123;% p green, 免费版 %&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_lite.png<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>&#123;% endbtns %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="btns circle grid5">            <a href='https://www.antmoe.com' title='Dreamy.TZK'><img src='https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg'>Dreamy.TZK</a><a href='https://www.antmoe.com' title='Dreamy.TZK'><img src='https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg'>Dreamy.TZK</a><a href='https://www.antmoe.com' title='Dreamy.TZK'><img src='https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg'>Dreamy.TZK</a><a href='https://www.antmoe.com' title='Dreamy.TZK'><img src='https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg'>Dreamy.TZK</a><a href='https://www.antmoe.com' title='Dreamy.TZK'><img src='https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/avatar.jpg'>Dreamy.TZK</a>          </div><div class="btns rounded grid5">            <a href='/' title='下载源码'><i class='fa fa-download'></i>下载源码</a><a href='/' title='查看文档'><i class='fa fa-book'></i>查看文档</a>          </div><div class="btns circle center grid5">            <a href='https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1'><i class='fa fa-apple'></i><b>心率管家</b><p class='p red'>专业版</p><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_pro.png'></a><a href='https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1'><i class='fa fa-apple'></i><b>心率管家</b><p class='p green'>免费版</p><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_lite.png'></a>          </div><h3 id="tab"><a class="markdownIt-Anchor" href="#tab"></a> Tab</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% tabs Unique name, [index] %&#125;<span class="token comment">&lt;!-- tab [Tab caption] [@icon] --></span>Any content (support inline tags too).<span class="token comment">&lt;!-- endtab --></span>&#123;% endtabs %&#125;Unique name : Unique name of tabs block tag without comma.Will be used in #id's as prefix for each tab with their index numbers.If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.Only for current url of post/page must be unique![index] : Index number of active tab.If not specified, first tab (1) will be selected.If index is -1, no tab will be selected. It's will be something like spoiler.Optional parameter.[Tab caption] : Caption of current tab.If not caption specified, unique name with tab index suffix will be used as caption of tab.If not caption specified, but specified icon, caption will empty.Optional parameter.[@icon] : FontAwesome icon name (full-name, look like 'fas fa-font')Can be specified with or without space; e.g. 'Tab caption @icon' similar to 'Tab caption@icon'.Optional parameter.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>tab-id</p><p>必填，如果一个页面有多个 tabs 时，tab-id 不能重复。</p></li><li><p>tab-name</p><p>标签文本。</p></li></ul><div class="tabs" id="tab-id"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab-id-1">tab-name</button></li><li class="tab"><button type="button" data-href="#tab-id-2">tab-name</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab-id-1"><p><img src="https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/da1fc8df33522db88a79b935010a5706.png" alt="" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-id-2"><p>这里面写内容，支持的语法格式有限，请尽量<u>不要</u>写太过复杂的东西。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="预设方案-1预设选择第一个默认"><a class="markdownIt-Anchor" href="#预设方案-1预设选择第一个默认"></a> 预设方案 1：预设选择第一个【默认】</h4><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% tabs test1 %&#125;<span class="token comment">&lt;!-- tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">This is Tab 1.</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span><span class="token comment">&lt;!-- tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">This is Tab 2.</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span><span class="token comment">&lt;!-- tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">This is Tab 3.</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span>&#123;% endtabs %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="预设方案-2预设选择-tabs"><a class="markdownIt-Anchor" href="#预设方案-2预设选择-tabs"></a> 预设方案 2：预设选择 tabs</h4><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% tabs test2, 3 %&#125;<span class="token comment">&lt;!-- tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">This is Tab 1.</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span><span class="token comment">&lt;!-- tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">This is Tab 2.</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span><span class="token comment">&lt;!-- tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">This is Tab 3.</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span>&#123;% endtabs %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="预设方案-3没有预设值"><a class="markdownIt-Anchor" href="#预设方案-3没有预设值"></a> 预设方案 3：没有预设值</h4><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% tabs test3, -1 %&#125;<span class="token comment">&lt;!-- tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">This is Tab 1.</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span><span class="token comment">&lt;!-- tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">This is Tab 2.</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span><span class="token comment">&lt;!-- tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">This is Tab 3.</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span>&#123;% endtabs %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="预设方案-4自定义-tab-名-只有-icon-icon-和-tab-名"><a class="markdownIt-Anchor" href="#预设方案-4自定义-tab-名-只有-icon-icon-和-tab-名"></a> 预设方案 4：自定义 Tab 名 + 只有 icon + icon 和 Tab 名</h4><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% tabs test4 %&#125;<span class="token comment">&lt;!-- tab 第一个Tab --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">tab 名字为第一个 Tab</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span><span class="token comment">&lt;!-- tab @fab fa-apple-pay --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">只有图标 没有 Tab 名字</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span><span class="token comment">&lt;!-- tab 炸弹@fas fa-bomb --></span><span class="token bold"><span class="token punctuation">**</span><span class="token content">名字+icon</span><span class="token punctuation">**</span></span><span class="token comment">&lt;!-- endtab --></span>&#123;% endtabs %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">第一个Tab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>炸弹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab 名字为第一个 Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>只有图标 没有 Tab 名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="folding"><a class="markdownIt-Anchor" href="#folding"></a> Folding</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% folding 参数（可选）, 标题 %&#125;![](https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/da1fc8df33522db88a79b935010a5706.png)&#123;% endfolding %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>html 格式语法</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>details</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>查看图片测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/loading.gif</span>      <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/da1fc8df33522db88a79b935010a5706.png<span class="token punctuation">"</span></span>      <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>details</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>details</span> <span class="token attr-name">cyan</span> <span class="token attr-name">open</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>查看默认打开的折叠框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>这是一个默认打开的折叠框。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>details</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>details</span> <span class="token attr-name">green</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>查看代码测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>details</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>details</span> <span class="token attr-name">yellow</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>查看列表测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>haha<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>hehe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>details</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>details</span> <span class="token attr-name">red</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>查看嵌套测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>details</span> <span class="token attr-name">blue</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>查看嵌套测试2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>details</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>查看嵌套测试3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>              hahaha              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>                <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/loading.gif</span>                <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/tieba/%E6%BB%91%E7%A8%BD.png<span class="token punctuation">'</span></span>                <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token style language-css"><span class="token property">height</span><span class="token punctuation">:</span>24px</span><span class="token punctuation">'</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>              <span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>details</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>details</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>details</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参数位置可以填写颜色和状态，多个参数用空格隔开。</p><ul><li><p>颜色</p><p><code>blue, cyan, green, yellow, red</code></p></li><li><p>状态</p><p>状态填写 <code>open</code> 代表默认打开。</p></li></ul><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% folding 查看图片测试 %&#125;![](https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/da1fc8df33522db88a79b935010a5706.png)&#123;% endfolding %&#125;&#123;% folding cyan open, 查看默认打开的折叠框 %&#125;这是一个默认打开的折叠框。&#123;% endfolding %&#125;&#123;% folding green, 查看代码测试 %&#125;&#123;% endfolding %&#125;&#123;% folding yellow, 查看列表测试 %&#125;<span class="token list punctuation">-</span> haha<span class="token list punctuation">-</span> hehe&#123;% endfolding %&#125;&#123;% folding red, 查看嵌套测试 %&#125;&#123;% folding blue, 查看嵌套测试2 %&#125;&#123;% folding 查看嵌套测试3 %&#125;hahaha <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/tieba/%E6%BB%91%E7%A8%BD.png<span class="token punctuation">'</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token style language-css"><span class="token property">height</span><span class="token punctuation">:</span>24px</span><span class="token punctuation">'</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>&#123;% endfolding %&#125;&#123;% endfolding %&#125;&#123;% endfolding %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details ><summary> <p>查看图片测试</p> </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/11/da1fc8df33522db88a79b935010a5706.png" alt="" /></p>              </div>            </details><details cyan open><summary> <p>查看默认打开的折叠框</p> </summary>              <div class='content'>              <p>这是一个默认打开的折叠框。</p>              </div>            </details><details green><summary> <p>查看代码测试</p> </summary>              <div class='content'>                            </div>            </details><details yellow><summary> <p>查看列表测试</p> </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details red><summary> <p>查看嵌套测试</p> </summary>              <div class='content'>              <details blue><summary> <p>查看嵌套测试2</p> </summary>              <div class='content'>              <details ><summary> <p>查看嵌套测试3</p> </summary>              <div class='content'>              <p>hahaha <span><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details><h3 id="fancybox"><a class="markdownIt-Anchor" href="#fancybox"></a> Fancybox</h3><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">&#123;% fancybox 参数, 列数 %&#125;<span class="token url"><span class="token operator">!</span>[<span class="token content">图片描述</span>](<span class="token url">https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg</span>)</span>![](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg)&#123;% endfancybox %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>对齐方向</p><p><code>left</code>, <code>center</code>, <code>right</code></p></li><li><p>缩放</p><p><code>stretch</code></p></li><li><p>列数</p><p>逗号后面直接写列数，支持 2 ～ 8 列。设定列列数之后就是「多行多图」布局，此时图片默认左对齐。为了避免图片大小不一，建议搭配 <code>stretch</code> 来时图片放大填充。</p></li></ul><h4 id="单张图片"><a class="markdownIt-Anchor" href="#单张图片"></a> 单张图片</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fancybox<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg<span class="token punctuation">"</span></span>            <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>图片描述<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image-caption<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            图片描述        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- TAG写法（不建议）&#123;% fancybox %&#125;![图片描述](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg)&#123;% endfancybox %&#125;--></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="gallery ">    <p>    <div class="fancybox">        <img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg"            alt="图片描述">        <span class="image-caption">            图片描述        </span>    </div>    </p></div><h4 id="一行多个图片不换行"><a class="markdownIt-Anchor" href="#一行多个图片不换行"></a> 一行多个图片（不换行）</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fancybox<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg<span class="token punctuation">"</span></span>             <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>图片描述<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image-caption<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>图片描述<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fancybox<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg<span class="token punctuation">"</span></span>             <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>图片描述<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image-caption<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>图片描述<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fancybox<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg<span class="token punctuation">"</span></span>             <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>图片描述<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image-caption<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>图片描述<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- TAG写法 不推荐&#123;% fancybox %&#125;![图片描述](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg)![图片描述](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg)![图片描述](https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/00E0F0ED-9F1C-407A-9AA6-545649D919F4.jpeg)&#123;% endfancybox %&#125;--></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="gallery ">    <p>    <div class="fancybox">        <img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg"            alt="图片描述">        <span class="image-caption">图片描述</span>    </div><br>    <div class="fancybox">        <img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg"            alt="图片描述">        <span class="image-caption">图片描述</span>    </div><br>    <div class="fancybox">        <img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg"            alt="图片描述">        <span class="image-caption">图片描述</span>    </div>    </p></div><h2 id="文章内音乐"><a class="markdownIt-Anchor" href="#文章内音乐"></a> 文章内音乐</h2><h3 id="aplayer"><a class="markdownIt-Anchor" href="#aplayer"></a> Aplayer</h3><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>% aplayerlist %<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>    <span class="token property">"narrow"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">// （可选）播放器袖珍风格</span>    <span class="token property">"autoplay"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">// （可选) 自动播放，移动端浏览器暂时不支持此功能</span>    <span class="token property">"mode"</span><span class="token operator">:</span> <span class="token string">"random"</span><span class="token punctuation">,</span><span class="token comment">// （可选）曲目循环类型，有 'random'（随机播放）, 'single' (单曲播放), 'circulation' (循环播放), 'order' (列表播放)， 默认：'circulation'</span>    <span class="token property">"showlrc"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token comment">// （可选）歌词显示配置项，可选项有：1,2,3</span>    <span class="token property">"mutex"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">// （可选）该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</span>    <span class="token property">"theme"</span><span class="token operator">:</span> <span class="token string">"#e6d0b2"</span><span class="token punctuation">,</span><span class="token comment">// （可选）播放器风格色彩设置，默认：#b7daff</span>    <span class="token property">"preload"</span><span class="token operator">:</span> <span class="token string">"metadata"</span><span class="token punctuation">,</span><span class="token comment">// （可选）音乐文件预载入模式，可选项： 'none' 'metadata' 'auto', 默认: 'auto'</span>    <span class="token property">"listmaxheight"</span><span class="token operator">:</span> <span class="token string">"513px"</span><span class="token punctuation">,</span><span class="token comment">// (可选) 该播放列表的最大长度</span>    <span class="token property">"music"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">&#123;</span>            <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"CoCo"</span><span class="token punctuation">,</span>            <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"Jeff Williams"</span><span class="token punctuation">,</span>            <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"caffeine.mp3"</span><span class="token punctuation">,</span>            <span class="token property">"pic"</span><span class="token operator">:</span> <span class="token string">"caffeine.jpeg"</span><span class="token punctuation">,</span>            <span class="token property">"lrc"</span><span class="token operator">:</span> <span class="token string">"caffeine.txt"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token punctuation">&#123;</span>            <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"アイロニ"</span><span class="token punctuation">,</span>            <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"鹿乃"</span><span class="token punctuation">,</span>            <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"irony.mp3"</span><span class="token punctuation">,</span>            <span class="token property">"pic"</span><span class="token operator">:</span> <span class="token string">"irony.jpg"</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>% endaplayerlist %<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>简单示例</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>% meting <span class="token string">"60198"</span> <span class="token string">"netease"</span> <span class="token string">"playlist"</span> %<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>    <div id="aplayer-KBTTkqzn" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="2802022828" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div><p>进阶示例</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>% meting <span class="token string">"60198"</span> <span class="token string">"netease"</span> <span class="token string">"playlist"</span> <span class="token string">"autoplay"</span> <span class="token string">"mutex:false"</span> <span class="token string">"listmaxheight:340px"</span> <span class="token string">"preload:none"</span> <span class="token string">"theme:#ad7a86"</span>%<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="audio"><a class="markdownIt-Anchor" href="#audio"></a> Audio</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">preload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">__idm_id__</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>269361153<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span>    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://music.163.com/song/media/outer/url?id=574566207.mp3<span class="token punctuation">"</span></span>    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>audio/mp3<span class="token punctuation">"</span></span>  <span class="token punctuation">/></span></span>  Your browser does not support the audio tag.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><audio controls="" preload="" __idm_id__="269361153"><source src="http://music.163.com/song/media/outer/url?id=574566207.mp3" type="audio/mp3">Your browser does not support the audio tag.</audio></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;文件头&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#文件头&quot;&gt;&lt;/a&gt; 文件头&lt;/h2&gt;
&lt;h3 id=&quot;page-front-matter&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#page-fron</summary>
      
    
    
    
    <category term="参考手册" scheme="https://www.antmoe.com/categories/%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/"/>
    
    <category term="食用手册" scheme="https://www.antmoe.com/categories/%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/%E9%A3%9F%E7%94%A8%E6%89%8B%E5%86%8C/"/>
    
    
  </entry>
  
  <entry>
    <title>如何为评论系统快速添加表情</title>
    <link href="https://www.antmoe.com/posts/91a1b4e4/"/>
    <id>https://www.antmoe.com/posts/91a1b4e4/</id>
    <published>2021-01-17T05:04:25.000Z</published>
    <updated>2022-03-08T06:47:42.807Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://file.acs.pw/picGo/2022/03/06/20220306190948.png" alt="image-20210117130542428" /></p><h2 id="项目特点"><a class="markdownIt-Anchor" href="#项目特点"></a> 项目特点</h2><div class="checkbox green checked">  <input type="checkbox" checked />  <p>即使预览图片</p></div><div class="checkbox green checked">  <input type="checkbox" checked />  <p>一键复制图片链接、img标签、markdown格式</p></div><div class="checkbox green checked">  <input type="checkbox" checked />  <p>提供Twikoo格式的表情格式</p></div><div class="checkbox green checked">  <input type="checkbox" checked />  <p>提供Valine格式的表情格式</p></div><div class="checkbox green checked">  <input type="checkbox" checked />  <p>提供Waline格式的表情格式</p></div><div class="checkbox green checked">  <input type="checkbox" checked />  <p>表情存放在多个位置，不仅仅在GitHub</p></div><div class="checkbox green checked">  <input type="checkbox" checked />  <p>包含大多数表情包，且支持用户自己添加</p></div><p>项目地址： <a class="btn-beautify red larger" href="https://emotion.xiaokang.me/#/"   title="表情速查"><i class="far fa-hand-point-right"></i><span>表情速查</span></a></p><h2 id="适配twikoo"><a class="markdownIt-Anchor" href="#适配twikoo"></a> 适配Twikoo</h2><p>Twikoo的表情使用<code>OwO</code>，表情的配置为一个json文件。例如：</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"Heo"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"image"</span><span class="token punctuation">,</span>    <span class="token property">"container"</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span>        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"Heo-亲亲"</span><span class="token punctuation">,</span>        <span class="token property">"icon"</span><span class="token operator">:</span> <span class="token string">"&lt;img src='https://cdn.jsdelivr.net/gh/Dreamy-TZK/iemotion-pic@latest/img/Heo/亲亲.png'>"</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>json文件对格式要求很严格，例如键与值都需要使用<strong>双引号</strong>进行包裹，如果是最后一项那么结尾不能包含逗号。。。。</p></blockquote><p>当你适配Twikoo评论时，请注意每种表情的末尾是否需要添加逗号。例如我想添加<code>biliTV</code>和<code>阿鲁</code>两种表情到我的<code>OwO.json</code>。那么我应该复制下来的内容如下：</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"bilibili_tv_gif"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"image"</span><span class="token punctuation">,</span>    <span class="token property">"container"</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span>        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"bilibili_tv_gif-doge"</span><span class="token punctuation">,</span>        <span class="token property">"icon"</span><span class="token operator">:</span> <span class="token string">"&lt;img src='https://cdn.jsdelivr.net/gh/Dreamy-TZK/iemotion-pic@latest/img/bilibili_tv_gif/doge.gif'>"</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"阿鲁"</span><span class="token operator">:</span><span class="token punctuation">&#123;</span>    <span class="token property">"type"</span><span class="token operator">:</span><span class="token string">"image"</span><span class="token punctuation">,</span>    <span class="token property">"container"</span><span class="token operator">:</span><span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span>        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"aru-1"</span><span class="token punctuation">,</span>        <span class="token property">"icon"</span><span class="token operator">:</span> <span class="token string">"&lt;img src='https://cdn.jsdelivr.net/gh/Dreamy-TZK/iemotion-pic@latest/img/aru/1.png'>"</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>以上代码仅仅是一个示例。具体请自己喜欢的表情包进行添加。</p></blockquote><p>最后附上作者的<a href="https://cdn.jsdelivr.net/gh/tzki/tzki.github.io/owo.json">OwO.json</a>供各位博主参考。</p><h2 id="valine-waline"><a class="markdownIt-Anchor" href="#valine-waline"></a> Valine、Waline</h2><p>这种评论添加表情的方式是一个对象格式，且不支持表情分类。格式如下：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>  <span class="token string">"图片名"</span><span class="token operator">:</span> <span class="token string">"图片链接"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>可能部分主题（例如butterfly）会将添加表情的方式修改为创建<code>valine.json</code>文件，这样的情况就相当于编辑JSON文件了。</p></blockquote><p>因此对于这种评论添加<code>biliTV</code>和<code>阿鲁</code>两种表情格式是这样的。</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"哔哩-doge"</span><span class="token operator">:</span> <span class="token string">"https://7.dusays.com/2021/01/15/3de5568861758.gif"</span><span class="token punctuation">,</span>  <span class="token property">"阿鲁-1"</span><span class="token operator">:</span> <span class="token string">"https://7.dusays.com/2021/01/15/3c76dffbc08a5.png"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>如果键名重复，则会导致后边的覆盖前边的。</p></blockquote><h2 id="如何快速生成对应的格式"><a class="markdownIt-Anchor" href="#如何快速生成对应的格式"></a> 如何快速生成对应的格式</h2><ol><li><p>进入<a href="https://emotion.xiaokang.me/">表情速查</a></p></li><li><p>选择你要查看的表情分类后即可看到该分类下的表情包预览以及各种评论的表情包格式</p><p><img src="https://file.acs.pw/picGo/2022/03/06/20220306190955.jpeg" alt="image-20210117134014386" /></p></li></ol><h2 id="如何添加表情包"><a class="markdownIt-Anchor" href="#如何添加表情包"></a> 如何添加表情包</h2><p>此项目所使用的<a href="https://github.com/Dreamy-TZK/iemotion-pic">表情包仓库</a>，如果想要添加自己的表情包可以任选下方所述方法其中一种即可。</p><ol><li><p>通过提交Pull Request：将表情包放入此仓库<code>img</code>目录下即可，注意按照格式。</p><blockquote><p>适合提交图片的用户</p></blockquote></li><li><p>通过提交Pull Request：将你的表情包JSON文件放入仓库<code>user_json</code>目录下即可，注意按照格式</p><blockquote><p>适合自己存储表情包的用户</p></blockquote></li><li><p>直接将表情包发送给作者</p><blockquote><p>适合懒人</p></blockquote></li></ol><h3 id="快速生成json"><a class="markdownIt-Anchor" href="#快速生成json"></a> 快速生成JSON</h3><blockquote><p>注意，这里的JSON不是指的评论系统所需要的JSON，而是指你向表情速查提供表情包的JSON。</p></blockquote><p>表情速查需要的JSON格式如下：</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"表情包的分类名"</span><span class="token punctuation">,</span>  <span class="token property">"power"</span><span class="token operator">:</span> <span class="token string">"你的版权链接"</span><span class="token punctuation">,</span>  <span class="token property">"common"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"all"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span>      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"这个表情的名称（不可重复）"</span><span class="token punctuation">,</span>      <span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"该表情的地址"</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>你可以通过自己写脚本生成该格式的JSON文件，也可以使用作者提供的几个脚本生成。</p><ol><li><p>TXT文件</p><p>根据TXT文件生成JSON脚本，txt文件格式：</p><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">表情包名|表情包地址<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>创建一个文件夹，名为<code>user_text</code>，将以下脚本保存为<code>js</code>文件，并与<code>user_text</code>文件夹放在同一级目录。<code>user_text</code>存放你的txt文本。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * @description: 根据用户的txt文本生成json文件，生成的name字段为文件名 * @author: 小康 * @url: https://xiaokang.me * @Date: 2021-01-14 20:26:31 * @LastEditTime: 2021-01-14 20:26:31 * @LastEditors: 小康 */</span><span class="token keyword">const</span> fse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs-extra'</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">generateJsonByText</span><span class="token punctuation">(</span><span class="token parameter">fileBasePath<span class="token punctuation">,</span> fileName</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>fileBasePath <span class="token operator">+</span> fileName<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> contentList <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    name<span class="token operator">:</span> fileName<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    common<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    all<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span>  contentList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> imageObj <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">)</span>    obj<span class="token punctuation">.</span>all<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      name<span class="token operator">:</span> imageObj<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      url<span class="token operator">:</span> imageObj<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'/r'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> flag <span class="token operator">=</span> <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">pathExists</span><span class="token punctuation">(</span><span class="token string">'./user_text_temp/'</span><span class="token punctuation">)</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token string">'./user_text_temp/'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">writeJSON</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./user_text_temp/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>fileName<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> fileList <span class="token operator">=</span> <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">'./user_text/'</span><span class="token punctuation">)</span>  fileList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">generateJsonByText</span><span class="token punctuation">(</span><span class="token string">'./user_text/'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>通过命令<code>npm i</code>安装脚本后，即可运行。</p></blockquote></li><li><p>本地图片文件</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* * @description: 通过图片生成json * @author: 小康 * @url: https://xiaokang.me * @Date: 2021-01-16 09:25:29 * @LastEditTime: 2021-01-16 09:25:34 * @LastEditors: 小康 */</span><span class="token keyword">const</span> fse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs-extra'</span><span class="token punctuation">)</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token comment">// 图片地址前缀修饰</span><span class="token keyword">const</span> imgPrefix <span class="token operator">=</span> <span class="token string">'https://twikoo-magic.oss-cn-hangzhou.aliyuncs.com/'</span><span class="token comment">// 版权</span><span class="token keyword">const</span> power <span class="token operator">=</span> <span class="token string">'https://noionion.top/'</span><span class="token comment">/** * 获取文件列表 * @author 小康 * @param &#123;string&#125; 图片目录的父级目录 * @returns &#123;Object&#125; 所有图片对象 * &#123; *    图片目录名:[’图片名‘] * &#125; */</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getFilesList</span><span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token comment">// 图片目录列表</span>  <span class="token keyword">const</span> picDirs <span class="token operator">=</span> <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> picDirs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    obj<span class="token punctuation">[</span>picDirs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> picDirs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> obj<span class="token punctuation">&#125;</span><span class="token comment">// 入口函数</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> fileObj <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getFilesList</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> category <span class="token keyword">in</span> fileObj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      name<span class="token operator">:</span> category<span class="token punctuation">,</span>      power<span class="token punctuation">,</span>      common<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      all<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fileObj<span class="token punctuation">[</span>category<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      obj<span class="token punctuation">.</span>all<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        name<span class="token operator">:</span> fileObj<span class="token punctuation">[</span>category<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>imgPrefix<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>category<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>fileObj<span class="token punctuation">[</span>category<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    fse<span class="token punctuation">.</span><span class="token function">writeJson</span><span class="token punctuation">(</span><span class="token string">'./user_json_temp/'</span> <span class="token operator">+</span> category <span class="token operator">+</span> <span class="token string">'.json'</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'生成完毕'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token string">'./user_img'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><ol><li><p>创建文件夹<code>user_img</code>、<code>user_json_temp</code>和js文件，并写入上述脚本。</p></li><li><p>将你的表情放入<code>user_img</code>。注意存放位置。</p><p><img src="https://file.acs.pw/picGo/2022/03/06/20220306191000.jpeg" alt="image-20210117140111027" /></p></li><li><p>运行命令<code>npm i</code>后运行脚本即可。</p></li></ol></blockquote></li><li><p>上传去不图床</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * @description: 将图片上传到图床并生成JSON * @author: 小康 * @url: https://xiaokang.me * @Date: 2021-01-14 21:13:20 * @LastEditTime: 2021-01-14 21:13:20 * @LastEditors: 小康 */</span><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token keyword">const</span> fse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs-extra'</span><span class="token punctuation">)</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token keyword">const</span> FormData <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'form-data'</span><span class="token punctuation">)</span><span class="token comment">// 图床TOKEN</span><span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token string">''</span><span class="token comment">// 上传后json输出位置</span><span class="token keyword">const</span> outpath <span class="token operator">=</span> <span class="token string">'user_json_temp'</span><span class="token comment">// 上传地址</span><span class="token comment">// const url = 'https://pic.alexhchu.com/api/upload'</span><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">'https://7bu.top/api/upload'</span><span class="token comment">/** * 获取文件列表 * @author 小康 * @param &#123;string&#125; 图片目录的父级目录 * @returns &#123;Object&#125; 所有图片对象 * &#123; *    图片目录名:[’图片名‘] * &#125; */</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getFilesList</span><span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token comment">// 图片目录列表</span>  <span class="token keyword">const</span> picDirs <span class="token operator">=</span> <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> picDirs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    obj<span class="token punctuation">[</span>picDirs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> picDirs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> obj<span class="token punctuation">&#125;</span><span class="token comment">/** * 将图片上传到图床 * @author 小康 * @param &#123;object&#125; 图片对象 * @returns &#123;any&#125; */</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">uploadImg</span><span class="token punctuation">(</span><span class="token parameter">filePath<span class="token punctuation">,</span> imgObj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">in</span> imgObj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      name<span class="token operator">:</span> item<span class="token punctuation">,</span>      power<span class="token operator">:</span> <span class="token string">'https://emotion.xiaokang.me/'</span><span class="token punctuation">,</span>      common<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      all<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> imgObj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">upload</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> item<span class="token punctuation">,</span> imgObj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      obj<span class="token punctuation">.</span>all<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        name<span class="token operator">:</span> imgObj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        url<span class="token operator">:</span> data<span class="token punctuation">.</span>url      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 保存json文件</span>    <span class="token keyword">await</span> fse<span class="token punctuation">.</span><span class="token function">writeJson</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>outpath<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>item<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 入口函数</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">imgPath</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> imgObj <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getFilesList</span><span class="token punctuation">(</span>imgPath<span class="token punctuation">)</span>  <span class="token keyword">await</span> <span class="token function">uploadImg</span><span class="token punctuation">(</span>imgPath<span class="token punctuation">,</span> imgObj<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token string">'./upload_img'</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token parameter">imgPath</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> localFile <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span>imgPath<span class="token punctuation">)</span>  <span class="token keyword">var</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">,</span> localFile<span class="token punctuation">)</span>  formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span>  <span class="token keyword">var</span> headers <span class="token operator">=</span> formData<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//获取headers</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">//获取form-data长度</span>    formData<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> length</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span>      <span class="token punctuation">&#125;</span>      <span class="token comment">//设置长度，important!!!</span>      headers<span class="token punctuation">[</span><span class="token string">'content-length'</span><span class="token punctuation">]</span> <span class="token operator">=</span> length      headers<span class="token punctuation">[</span><span class="token string">'token'</span><span class="token punctuation">]</span> <span class="token operator">=</span> token      <span class="token keyword">await</span> axios        <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> formData<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> headers <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>imgPath<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">上传成功=></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url<span class="token punctuation">)</span>          <span class="token comment">// obj = res.data.data</span>          <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><ol><li><p>创建<code>upload_img</code>、<code>user_json_temp</code>和js脚本并写入上述代码。</p></li><li><p>修改脚本中的TOKEN为你自己的TOKEN</p></li><li><p>将你的图片放入<code>upload_img</code>文件夹下。注意格式</p><p><img src="https://file.acs.pw/picGo/2022/03/06/20220306191004.jpeg" alt="image-20210117140431887" /></p></li><li><p>运行<code>npm i</code>命令，然后运行脚本即可。</p></li></ol></blockquote></li></ol><h2 id="最后"><a class="markdownIt-Anchor" href="#最后"></a> 最后</h2><p>如果遇到问题，请在下方留言。</p>]]></content>
    
    
    <summary type="html">为你的Valine、Waline、Twikoo评论丰富表情吧。阿鲁小表情，哔哩哔哩表情····</summary>
    
    
    
    <category term="Hexo" scheme="https://www.antmoe.com/categories/Hexo/"/>
    
    <category term="评论系统" scheme="https://www.antmoe.com/categories/Hexo/%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="评论表情" scheme="https://www.antmoe.com/tags/%E8%AF%84%E8%AE%BA%E8%A1%A8%E6%83%85/"/>
    
  </entry>
  
  <entry>
    <title>Github之Actions自动发布npm包</title>
    <link href="https://www.antmoe.com/posts/8c0d5ccc/"/>
    <id>https://www.antmoe.com/posts/8c0d5ccc/</id>
    <published>2021-01-12T00:04:00.000Z</published>
    <updated>2021-01-18T11:22:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>在将我们的源代码推送到GitHub时并希望他能自动构建并将包发布到npm。</p><p>其实做法也简单，大致思路：获取仓库源代码-&gt;安装插件-&gt;构建-&gt;推送</p><h2 id="一-生成token"><a class="markdownIt-Anchor" href="#一-生成token"></a> 一、生成TOKEN</h2><p>这一步很重要，在<a href="https://www.npmjs.com/">npm</a>中生成自己的TOKEN。TOKEN类型<strong>一定要选择Automation</strong>，生成后将其保存，因为一会儿要在GitHub密钥中填写这个值。</p><p><img src="https://rmt.ladydaily.com/fetch/tzk/storage/20210112082211.png?w=1280&amp;fmt=jpg" alt="image-20210112082211684" /></p><p><img src="https://rmt.ladydaily.com/fetch/tzk/storage/20210112082232.png?w=1280&amp;fmt=jpg" alt="image-20210112082232783" /></p><h2 id="二-配置仓库secrets"><a class="markdownIt-Anchor" href="#二-配置仓库secrets"></a> 二、配置仓库secrets</h2><ol><li><p>进入你的代码仓库，单击设置</p></li><li><p>点击<code>Secrets</code>，并新建一个键为<code>NPM_TOKEN</code>，值为上一步生成的TOKEN的密钥</p><p><img src="https://rmt.ladydaily.com/fetch/tzk/storage/20210112082621.png?w=1280&amp;fmt=jpg" alt="image-20210112082622903" /></p></li></ol><h2 id="三-编写构建配置"><a class="markdownIt-Anchor" href="#三-编写构建配置"></a> 三、编写构建配置</h2><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Node.js Package<span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> master<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">publish-npm</span><span class="token punctuation">:</span>    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest    <span class="token key atrule">strategy</span><span class="token punctuation">:</span>      <span class="token key atrule">matrix</span><span class="token punctuation">:</span>        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>12.x<span class="token punctuation">]</span>    <span class="token key atrule">steps</span><span class="token punctuation">:</span>      <span class="token comment"># from: https://github.com/actions/checkout</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 1. 检查master分支        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master      <span class="token comment"># from: https://github.com/actions/setup-node</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 2. 设置Node.js        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@master        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>      <span class="token comment"># from: https://github.com/actions/cache</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 3. 缓存        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v2        <span class="token key atrule">id</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>dependencies        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">path</span><span class="token punctuation">:</span> node_modules          <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>runner.OS<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">-</span>$<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>hashFiles('<span class="token important">**/package-lock.json')</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 4. 安装插件        <span class="token key atrule">if</span><span class="token punctuation">:</span> steps.cache<span class="token punctuation">-</span>dependencies.outputs.cache<span class="token punctuation">-</span>hit <span class="token tag">!=</span> 'true'        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          export TZ='Asia/Shanghai'          npm install</span>            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 5. 生成文件        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          export TZ='Asia/Shanghai'          npm run build</span>            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 6. 发布包        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          npm config set //registry.npmjs.org/:_authToken=$NPM_TOKEN          npm publish</span>        <span class="token key atrule">env</span><span class="token punctuation">:</span>          <span class="token key atrule">NPM_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>secrets.NPM_TOKEN<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="完成"><a class="markdownIt-Anchor" href="#完成"></a> 完成</h2><p>此时当向<code>master</code>分支提交代码时就会自动触发构建任务并发布到npm</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h2&gt;
&lt;p&gt;在将我们的源代码推送到GitHub时并希望他能自动构建并将包发布到npm。&lt;/p&gt;
&lt;p&gt;其实做法也简单，大致思路：获取仓库源代码-&amp;gt;安装</summary>
      
    
    
    
    <category term="部署与构建" scheme="https://www.antmoe.com/categories/%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%9E%84%E5%BB%BA/"/>
    
    <category term="Github Actions" scheme="https://www.antmoe.com/categories/%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%9E%84%E5%BB%BA/Github-Actions/"/>
    
    
    <category term="Npm" scheme="https://www.antmoe.com/tags/Npm/"/>
    
  </entry>
  
</feed>
